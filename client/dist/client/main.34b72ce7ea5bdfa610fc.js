(self.webpackChunkclient=self.webpackChunkclient||[]).push([[179],{8255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=8255,t.exports=e},5366:(t,e,n)=>{"use strict";n.d(e,{deG:()=>kn,tb:()=>Lp,AFp:()=>Mp,ip1:()=>Sp,CZH:()=>Ep,hGG:()=>Ef,z2F:()=>bf,n4l:()=>D,sBO:()=>Eh,Sil:()=>Zp,wA2:()=>bp,_Vd:()=>th,EJc:()=>qp,SBq:()=>rh,qLn:()=>xr,vpe:()=>Sd,L6J:()=>xp,gxx:()=>Io,tBr:()=>ii,XFs:()=>E,GSi:()=>La,OlP:()=>Pn,zs3:()=>Bo,IIB:()=>Cp,ZZ4:()=>xh,aQg:()=>kh,soG:()=>Up,LVF:()=>Tp,YKP:()=>jh,v3s:()=>Cf,h0i:()=>qh,PXZ:()=>gf,R0b:()=>Yp,FiY:()=>ri,Lbi:()=>Dp,g9A:()=>Rp,E6H:()=>wp,Qsj:()=>ah,FYo:()=>oh,JOm:()=>Mr,Tiy:()=>ch,q3G:()=>lr,tp0:()=>oi,EAV:()=>kf,Rgc:()=>Dh,dDg:()=>rf,DyG:()=>Sn,q4F:()=>hh,GfV:()=>uh,i9L:()=>Tn,s_b:()=>Vh,ifc:()=>L,eFA:()=>mf,G48:()=>pf,X6Q:()=>df,_c5:()=>If,VLi:()=>af,c2e:()=>Fp,zSh:()=>Eo,wAp:()=>Fc,vHH:()=>m,EiD:()=>or,mCW:()=>Vi,qzn:()=>Ei,JVY:()=>Ai,pB0:()=>Li,eBb:()=>Ri,L6k:()=>Ni,LAX:()=>Di,cg1:()=>Rc,Tjo:()=>Tf,kL8:()=>Dc,yhl:()=>Mi,dqk:()=>z,sIi:()=>ia,CqO:()=>Qa,QGY:()=>Ka,F4k:()=>Ya,zlt:()=>td,RDi:()=>Et,AaK:()=>u,z3N:()=>Si,TTD:()=>Ct,xp6:()=>Ts,uIk:()=>ha,Tol:()=>Al,ekj:()=>Sl,Suo:()=>Bd,Xpm:()=>J,lG2:()=>ot,Yz7:()=>w,cJS:()=>C,oAB:()=>it,Yjl:()=>at,Y36:()=>Ua,_UZ:()=>Ha,BQk:()=>Ga,ynx:()=>$a,qZA:()=>Ba,TgZ:()=>Va,EpF:()=>Wa,Ikx:()=>Sc,LFG:()=>Xn,$8M:()=>gn,NdJ:()=>Ja,CRH:()=>Hd,oxw:()=>il,ALo:()=>bd,lcZ:()=>wd,Hsn:()=>ol,F$t:()=>sl,Q6J:()=>ja,iGM:()=>zd,MAs:()=>Ma,evT:()=>Ir,CHM:()=>Qt,oJD:()=>cr,LSH:()=>hr,kYT:()=>rt,Udp:()=>Il,d8E:()=>Ec,YNc:()=>Ea,_uU:()=>$l,hij:()=>Zl,Gf:()=>Vd});var i=n(5959),r=n(7570),s=n(8318),o=n(1906),a=n(1055);function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function u(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(u).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=l({__forward_ref__:l});function p(t){return t.__forward_ref__=p,t.toString=function(){return u(this())},t}function f(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===p}class m extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function _(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function v(t,e){const n=e?` in ${e}`:"";throw new m("201",`No provider for ${_(t)} found${n}`)}function b(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${n} ${i} ${e} <=Actual]`))}function w(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function C(t){return{providers:t.providers||[],imports:t.imports||[]}}function x(t){return P(t,O)||P(t,I)}function P(t,e){return t.hasOwnProperty(e)?t[e]:null}function k(t){return t&&(t.hasOwnProperty(T)||t.hasOwnProperty(S))?t[T]:null}const O=l({"\u0275prov":l}),T=l({"\u0275inj":l}),I=l({ngInjectableDef:l}),S=l({ngInjectorDef:l});var E=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let M;function A(t){const e=M;return M=t,e}function N(t,e,n){const i=x(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&E.Optional?null:void 0!==e?e:void v(u(t),"Injector")}function R(t){return{toString:t}.toString()}var D=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const F="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j="undefined"!=typeof global&&global,z=F||j||U||q,V={},B=[],H=l({"\u0275cmp":l}),$=l({"\u0275dir":l}),G=l({"\u0275pipe":l}),Z=l({"\u0275mod":l}),W=l({"\u0275loc":l}),K=l({"\u0275fac":l}),Y=l({__NG_ELEMENT_ID__:l});let Q=0;function J(t){return R(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===D.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||B,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||B,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,r=t.features,s=t.pipes;return n.id+=Q++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),r&&r.forEach(t=>t(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map(tt):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(et):null,n})}function X(t,e,n){const i=t.\u0275cmp;i.directiveDefs=()=>e.map(tt),i.pipeDefs=()=>n.map(et)}function tt(t){return lt(t)||ct(t)}function et(t){return ut(t)}const nt={};function it(t){return R(()=>{const e={type:t.type,bootstrap:t.bootstrap||B,declarations:t.declarations||B,imports:t.imports||B,exports:t.exports||B,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(nt[t.id]=t.type),e})}function rt(t,e){return R(()=>{const n=ht(t,!0);n.declarations=e.declarations||B,n.imports=e.imports||B,n.exports=e.exports||B})}function st(t,e){if(null==t)return V;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,e&&(e[r]=s)}return n}const ot=J;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function lt(t){return t[H]||null}function ct(t){return t[$]||null}function ut(t){return t[G]||null}function ht(t,e){const n=t[Z]||null;if(!n&&!0===e)throw new Error(`Type ${u(t)} does not have '\u0275mod' property.`);return n}const dt=20,pt=10;function ft(t){return Array.isArray(t)&&"object"==typeof t[1]}function gt(t){return Array.isArray(t)&&!0===t[1]}function mt(t){return 0!=(8&t.flags)}function yt(t){return 2==(2&t.flags)}function _t(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(K)?t[K]:null}class wt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ct(){return xt}function xt(t){return t.type.prototype.ngOnChanges&&(t.setInput=kt),Pt}function Pt(){const t=Ot(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===V)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function kt(t,e,n,i){const r=Ot(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:V,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[n],l=o[a];s[a]=new wt(l&&l.currentValue,e,o===V),t[i]=e}function Ot(t){return t.__ngSimpleChanges__||null}Ct.ngInherit=!0;const Tt="http://www.w3.org/2000/svg",It="http://www.w3.org/1998/MathML/";let St;function Et(t){St=t}function Mt(){return void 0!==St?St:"undefined"!=typeof document?document:void 0}function At(t){return!!t.listen}const Nt={createRenderer:(t,e)=>Mt()};function Rt(t){for(;Array.isArray(t);)t=t[0];return t}function Dt(t,e){return Rt(e[t])}function Lt(t,e){return Rt(e[t.index])}function Ft(t,e){return t.data[e]}function Ut(t,e){return t[e]}function qt(t,e){const n=e[t];return ft(n)?n:n[0]}function jt(t){return 4==(4&t[2])}function zt(t){return 128==(128&t[2])}function Vt(t,e){return null==e?null:t[e]}function Bt(t){t[18]=0}function Ht(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const $t={lFrame:we(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Gt(){return $t.bindingsEnabled}function Zt(){$t.bindingsEnabled=!0}function Wt(){$t.bindingsEnabled=!1}function Kt(){return $t.lFrame.lView}function Yt(){return $t.lFrame.tView}function Qt(t){return $t.lFrame.contextLView=t,t[8]}function Jt(){let t=Xt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Xt(){return $t.lFrame.currentTNode}function te(){const t=$t.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ee(t,e){const n=$t.lFrame;n.currentTNode=t,n.isParent=e}function ne(){return $t.lFrame.isParent}function ie(){$t.lFrame.isParent=!1}function re(){return $t.isInCheckNoChangesMode}function se(t){$t.isInCheckNoChangesMode=t}function oe(){const t=$t.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ae(){return $t.lFrame.bindingIndex}function le(t){return $t.lFrame.bindingIndex=t}function ce(){return $t.lFrame.bindingIndex++}function ue(t){const e=$t.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function he(t){$t.lFrame.inI18n=t}function de(t,e){const n=$t.lFrame;n.bindingIndex=n.bindingRootIndex=t,pe(e)}function pe(t){$t.lFrame.currentDirectiveIndex=t}function fe(t){const e=$t.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function ge(){return $t.lFrame.currentQueryIndex}function me(t){$t.lFrame.currentQueryIndex=t}function ye(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function _e(t,e,n){if(n&E.SkipSelf){let i=e,r=t;for(;i=i.parent,!(null!==i||n&E.Host||(i=ye(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;e=i,t=r}const i=$t.lFrame=be();return i.currentTNode=e,i.lView=t,!0}function ve(t){const e=be(),n=t[1];$t.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function be(){const t=$t.lFrame,e=null===t?null:t.child;return null===e?we(t):e}function we(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Ce(){const t=$t.lFrame;return $t.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const xe=Ce;function Pe(){const t=Ce();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ke(){return $t.lFrame.selectedIndex}function Oe(t){$t.lFrame.selectedIndex=t}function Te(){const t=$t.lFrame;return Ft(t.tView,t.selectedIndex)}function Ie(){$t.lFrame.currentNamespace=Tt}function Se(){$t.lFrame.currentNamespace=It}function Ee(){$t.lFrame.currentNamespace=null}function Me(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:r,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;i&&(t.contentHooks||(t.contentHooks=[])).push(-n,i),r&&((t.contentHooks||(t.contentHooks=[])).push(n,r),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,r)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Ae(t,e,n){De(t,e,3,n)}function Ne(t,e,n,i){(3&t[2])===n&&De(t,e,n,i)}function Re(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function De(t,e,n,i){const r=null!=i?i:-1,s=e.length-1;let o=0;for(let a=void 0!==i?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=i&&o>=i)break}else e[a]<0&&(t[18]+=65536),(o<r||-1==r)&&(Le(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Le(t,e,n,i){const r=n[i]<0,s=n[i+1],o=t[r?-n[i]:n[i]];if(r){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const Fe=-1;class Ue{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function qe(t,e,n){const i=At(t);let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const o=n[r++],a=n[r++],l=n[r++];i?t.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=n[++r];ze(o)?i&&t.setProperty(e,o,a):i?t.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function je(t){return 3===t||4===t||6===t}function ze(t){return 64===t.charCodeAt(0)}function Ve(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||Be(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function Be(t,e,n,i,r){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==r&&(t[s+1]=r));if(i===t[s+1])return void(t[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==i&&t.splice(s++,0,i),null!==r&&t.splice(s++,0,r)}function He(t){return t!==Fe}function $e(t){return 32767&t}function Ge(t,e){let n=t>>16,i=e;for(;n>0;)i=i[15],n--;return i}let Ze=!0;function We(t){const e=Ze;return Ze=t,e}let Ke=0;function Ye(t,e){const n=Je(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,Qe(i.data,t),Qe(e,null),Qe(i.blueprint,null));const r=Xe(t,e),s=t.injectorIndex;if(He(r)){const t=$e(r),n=Ge(r,e),i=n[1].data;for(let r=0;r<8;r++)e[s+r]=n[t+r]|i[t+r]}return e[s+8]=r,s}function Qe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Je(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Xe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;null!==r;){const t=r[1],e=t.type;if(i=2===e?t.declTNode:1===e?r[6]:null,null===i)return Fe;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return Fe}function tn(t,e,n){!function(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(i=n[Y]),null==i&&(i=n[Y]=Ke++);const r=255&i;e.data[t+(r>>5)]|=1<<r}(t,e,n)}function en(t,e,n){if(n&E.Optional)return t;v(e,"NodeInjector")}function nn(t,e,n,i){if(n&E.Optional&&void 0===i&&(i=null),0==(n&(E.Self|E.Host))){const r=t[9],s=A(void 0);try{return r?r.get(e,i,n&E.Optional):N(e,i,n&E.Optional)}finally{A(s)}}return en(i,e,n)}function rn(t,e,n,i=E.Default,r){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e?e>=0?255&e:on:e}(n);if("function"==typeof s){if(!_e(e,t,i))return i&E.Host?en(r,n,i):nn(e,n,i,r);try{const t=s(i);if(null!=t||i&E.Optional)return t;v(n)}finally{xe()}}else if("number"==typeof s){let r=null,o=Je(t,e),a=Fe,l=i&E.Host?e[16][6]:null;for((-1===o||i&E.SkipSelf)&&(a=-1===o?Xe(t,e):e[o+8],a!==Fe&&hn(i,!1)?(r=e[1],o=$e(a),e=Ge(a,e)):o=-1);-1!==o;){const t=e[1];if(un(s,o,t.data)){const t=an(o,e,n,r,i,l);if(t!==sn)return t}a=e[o+8],a!==Fe&&hn(i,e[1].data[o+8]===l)&&un(s,o,e)?(r=t,o=$e(a),e=Ge(a,e)):o=-1}}}return nn(e,n,i,r)}const sn={};function on(){return new dn(Jt(),Kt())}function an(t,e,n,i,r,s){const o=e[1],a=o.data[t+8],l=ln(a,o,n,null==i?yt(a)&&Ze:i!=o&&0!=(3&a.type),r&E.Host&&s===a);return null!==l?cn(e,o,l,a):sn}function ln(t,e,n,i,r){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,c=s>>20,u=r?a+c:t.directiveEnd;for(let h=i?a:a+c;h<u;h++){const t=o[h];if(h<l&&n===t||h>=l&&t.type===n)return h}if(r){const t=o[l];if(t&&vt(t)&&t.type===n)return l}return null}function cn(t,e,n,i){let r=t[n];const s=e.data;if(r instanceof Ue){const o=r;o.resolving&&function(t,e){throw new m("200",`Circular dependency in DI detected for ${t}`)}(_(s[n]));const a=We(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?A(o.injectImpl):null;_e(t,i,E.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const i=xt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==l&&A(l),We(a),o.resolving=!1,xe()}}return r}function un(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function hn(t,e){return!(t&E.Self||t&E.Host&&e)}class dn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return rn(this._tNode,this._lView,t,void 0,e)}}function pn(t){return R(()=>{const e=t.prototype.constructor,n=e[K]||fn(e),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const t=r[K]||fn(r);if(t&&t!==n)return t;r=Object.getPrototypeOf(r)}return t=>new t})}function fn(t){return g(t)?()=>{const e=fn(f(t));return e&&e()}:bt(t)}function gn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const r=n[i];if(je(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(r===e)return n[i+1];i+=2}}}return null}(Jt(),t)}const mn="__annotations__",yn="__parameters__",_n="__prop__metadata__";function vn(t,e,n,i,r){return R(()=>{const s=bn(e);function o(...t){if(this instanceof o)return s.call(this,...t),this;const e=new o(...t);return function(n){return r&&r(n,...t),(n.hasOwnProperty(mn)?n[mn]:Object.defineProperty(n,mn,{value:[]})[mn]).push(e),i&&i(n),n}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}function bn(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function wn(t,e,n){return R(()=>{const i=bn(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty(yn)?t[yn]:Object.defineProperty(t,yn,{value:[]})[yn];for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}function Cn(t,e,n,i){return R(()=>{const r=bn(e);function s(...t){if(this instanceof s)return r.apply(this,t),this;const e=new s(...t);return function(n,r){const s=n.constructor,o=s.hasOwnProperty(_n)?s[_n]:Object.defineProperty(s,_n,{value:{}})[_n];o[r]=o.hasOwnProperty(r)&&o[r]||[],o[r].unshift(e),i&&i(n,r,...t)}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}const xn=function(){return wn("Attribute",t=>({attributeName:t,__NG_ELEMENT_ID__:()=>gn(t)}))}();class Pn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=w({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const kn=new Pn("AnalyzeForEntryComponents");class On{}const Tn=Cn("ViewChild",(t,e)=>Object.assign({selector:t,first:!0,isViewQuery:!0,descendants:!0},e),On);function In(){const t=z.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}const Sn=Function;function En(t){return"function"==typeof t}function Mn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),Mn(i,e)):e!==t&&e.push(i)}return e}function An(t,e){t.forEach(t=>Array.isArray(t)?An(t,e):e(t))}function Nn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Rn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Dn(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function Ln(t,e,n){let i=Un(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function Fn(t,e){const n=Un(t,e);if(n>=0)return t[1|n]}function Un(t,e){return function(t,e,n){let i=0,r=t.length>>1;for(;r!==i;){const n=i+(r-i>>1),s=t[n<<1];if(e===s)return n<<1;s>e?r=n:i=n+1}return~(r<<1)}(t,e)}const qn=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\))\)/,jn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,zn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Vn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class Bn{constructor(t){this._reflect=t||z.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=Dn(void 0===t?e.length:t.length);for(let i=0;i<n.length;i++)n[i]=void 0===t?[]:t[i]&&t[i]!=Object?[t[i]]:[],e&&null!=e[i]&&(n[i]=n[i].concat(e[i]));return n}_ownParameters(t,e){if(n=t.toString(),qn.test(n)||Vn.test(n)||jn.test(n)&&!zn.test(n))return null;var n;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const i=t.ctorParameters;if(i&&i!==e.ctorParameters){const t="function"==typeof i?i():i,e=t.map(t=>t&&t.type),n=t.map(t=>t&&Hn(t.decorators));return this._zipTypesAndAnnotations(e,n)}const r=t.hasOwnProperty(yn)&&t[yn],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return s||r?this._zipTypesAndAnnotations(s,r):Dn(t.length)}parameters(t){if(!En(t))return[];const e=$n(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?Hn(t.decorators):t.hasOwnProperty(mn)?t[mn]:null}annotations(t){if(!En(t))return[];const e=$n(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=Hn(e[t])}),n}return t.hasOwnProperty(_n)?t[_n]:null}propMetadata(t){if(!En(t))return{};const e=$n(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const i=this._ownPropMetadata(t,e);return i&&Object.keys(i).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...i[t]),n[t]=e}),n}ownPropMetadata(t){return En(t)&&this._ownPropMetadata(t,$n(t))||{}}hasLifecycleHook(t,e){return t instanceof Sn&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){return new Function("o","args",`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:`./${u(t)}`}resourceUri(t){return`./${u(t)}`}resolveIdentifier(t,e,n,i){return i}resolveEnum(t,e){return t[e]}}function Hn(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function $n(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}const Gn={},Zn=/\n/gm,Wn="__source",Kn=l({provide:String,useValue:l});let Yn;function Qn(t){const e=Yn;return Yn=t,e}function Jn(t,e=E.Default){if(void 0===Yn)throw new Error("inject() must be called from an injection context");return null===Yn?N(t,void 0,e):Yn.get(t,e&E.Optional?null:void 0,e)}function Xn(t,e=E.Default){return(M||Jn)(f(t),e)}function ti(t){throw new Error("invalid")}function ei(t){const e=[];for(let n=0;n<t.length;n++){const i=f(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t,n=E.Default;for(let e=0;e<i.length;e++){const r=i[e],s=r.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=r.token:n|=s:t=r}e.push(Xn(t,n))}else e.push(Xn(i))}return e}function ni(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const ii=ni(wn("Inject",t=>({token:t})),-1),ri=ni(wn("Optional"),8),si=ni(wn("Self"),2),oi=ni(wn("SkipSelf"),4),ai=ni(wn("Host"),1);let li=null;function ci(){return li=li||new Bn}function ui(t){return hi(ci().parameters(t))}function hi(t){return t.map(t=>function(t){const e={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(t)&&t.length>0)for(let n=0;n<t.length;n++){const i=t[n];if(void 0===i)continue;const r=Object.getPrototypeOf(i);if(i instanceof ri||"Optional"===r.ngMetadataName)e.optional=!0;else if(i instanceof oi||"SkipSelf"===r.ngMetadataName)e.skipSelf=!0;else if(i instanceof si||"Self"===r.ngMetadataName)e.self=!0;else if(i instanceof ai||"Host"===r.ngMetadataName)e.host=!0;else if(i instanceof ii)e.token=i.token;else if(i instanceof xn){if(void 0===i.attributeName)throw new Error("Attribute name must be defined.");e.attribute=i.attributeName}else e.token=i}else e.token=void 0===t||Array.isArray(t)&&0===t.length?null:t;return e}(t))}let di=new Map;const pi=new Set;function fi(t){return!!(t.templateUrl&&!t.hasOwnProperty("template")||t.styleUrls&&t.styleUrls.length)}let gi,mi;function yi(){if(void 0===gi&&(gi=null,z.trustedTypes))try{gi=z.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return gi}function _i(t){var e;return(null===(e=yi())||void 0===e?void 0:e.createHTML(t))||t}function vi(){if(void 0===mi&&(mi=null,z.trustedTypes))try{mi=z.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return mi}function bi(t){var e;return(null===(e=vi())||void 0===e?void 0:e.createHTML(t))||t}function wi(t){var e;return(null===(e=vi())||void 0===e?void 0:e.createScript(t))||t}function Ci(t){var e;return(null===(e=vi())||void 0===e?void 0:e.createScriptURL(t))||t}class xi{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Pi extends xi{getTypeName(){return"HTML"}}class ki extends xi{getTypeName(){return"Style"}}class Oi extends xi{getTypeName(){return"Script"}}class Ti extends xi{getTypeName(){return"URL"}}class Ii extends xi{getTypeName(){return"ResourceURL"}}function Si(t){return t instanceof xi?t.changingThisBreaksApplicationSecurity:t}function Ei(t,e){const n=Mi(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Mi(t){return t instanceof xi&&t.getTypeName()||null}function Ai(t){return new Pi(t)}function Ni(t){return new ki(t)}function Ri(t){return new Oi(t)}function Di(t){return new Ti(t)}function Li(t){return new Ii(t)}function Fi(t){const e=new qi(t);return function(){try{return!!(new window.DOMParser).parseFromString(_i(""),"text/html")}catch(t){return!1}}()?new Ui(e):e}class Ui{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(_i(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class qi{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=_i(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=_i(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ji=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,zi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Vi(t){return(t=String(t)).match(ji)||t.match(zi)?t:"unsafe:"+t}function Bi(t){return(t=String(t)).split(",").map(t=>Vi(t.trim())).join(", ")}function Hi(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function $i(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Gi=Hi("area,br,col,hr,img,wbr"),Zi=Hi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wi=Hi("rp,rt"),Ki=$i(Wi,Zi),Yi=$i(Gi,$i(Zi,Hi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$i(Wi,Hi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ki),Qi=Hi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ji=Hi("srcset"),Xi=$i(Qi,Ji,Hi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),tr=Hi("script,style,template");class er{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Yi.hasOwnProperty(e))return this.sanitizedSomething=!0,!tr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,r=e.toLowerCase();if(!Xi.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let s=t.value;Qi[r]&&(s=Vi(s)),Ji[r]&&(s=Bi(s)),this.buf.push(" ",e,'="',rr(s),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Yi.hasOwnProperty(e)&&!Gi.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(rr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const nr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ir=/([^\#-~ |!])/g;function rr(t){return t.replace(/&/g,"&amp;").replace(nr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ir,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let sr;function or(t,e){let n=null;try{sr=sr||Fi(t);let i=e?String(e):"";n=sr.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=sr.getInertBodyElement(i)}while(i!==s);return _i((new er).sanitizeChildren(ar(n)||n))}finally{if(n){const t=ar(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function ar(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var lr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function cr(t){const e=yr();return e?bi(e.sanitize(lr.HTML,t)||""):Ei(t,"HTML")?bi(Si(t)):or(Mt(),y(t))}function ur(t){const e=yr();return e?e.sanitize(lr.STYLE,t)||"":Ei(t,"Style")?Si(t):y(t)}function hr(t){const e=yr();return e?e.sanitize(lr.URL,t)||"":Ei(t,"URL")?Si(t):Vi(y(t))}function dr(t){const e=yr();if(e)return Ci(e.sanitize(lr.RESOURCE_URL,t)||"");if(Ei(t,"ResourceURL"))return Ci(Si(t));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function pr(t){const e=yr();if(e)return wi(e.sanitize(lr.SCRIPT,t)||"");if(Ei(t,"Script"))return wi(Si(t));throw new Error("unsafe value used in a script context")}function fr(t){return _i(t[0])}function gr(t){return function(t){var e;return(null===(e=yi())||void 0===e?void 0:e.createScriptURL(t))||t}(t[0])}function mr(t,e,n){return function(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?dr:hr}(e,n)(t)}function yr(){const t=Kt();return t&&t[12]}function _r(t,e){t.__ngContext__=e}function vr(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function br(t){return t.ngDebugContext}function wr(t){return t.ngOriginalError}function Cr(t,...e){t.error(...e)}class xr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||Cr}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?br(t)?br(t):this._findContext(wr(t)):null}_findOriginalError(t){let e=wr(t);for(;e&&wr(e);)e=wr(e);return e}}const Pr=/^>|^->|<!--|-->|--!>|<!-$/g,kr=/(<|>)/,Or=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function Tr(t){return t.ownerDocument.defaultView}function Ir(t){return t.ownerDocument}function Sr(t){return t.ownerDocument.body}function Er(t){return t instanceof Function?t():t}var Mr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Ar;function Nr(t,e){return Ar(t,e)}function Rr(t){const e=t[3];return gt(e)?e[3]:e}function Dr(t){return Fr(t[13])}function Lr(t){return Fr(t[4])}function Fr(t){for(;null!==t&&!gt(t);)t=t[4];return t}function Ur(t,e,n,i,r){if(null!=i){let s,o=!1;gt(i)?s=i:ft(i)&&(o=!0,i=i[0]);const a=Rt(i);0===t&&null!==n?null==r?Yr(e,n,a):Kr(e,n,a,r||null,!0):1===t&&null!==n?Kr(e,n,a,r||null,!0):2===t?ls(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,i,r){const s=n[7];s!==Rt(n)&&Ur(e,t,i,s,r);for(let o=pt;o<n.length;o++){const r=n[o];us(r[1],r,t,e,i,s)}}(e,t,s,n,r)}}function qr(t,e){return At(t)?t.createText(e):t.createTextNode(e)}function jr(t,e,n){At(t)?t.setValue(e,n):e.textContent=n}function zr(t,e){return t.createComment(function(t){return t.replace(Pr,t=>t.replace(kr,"\u200b$1\u200b"))}(e))}function Vr(t,e,n){return At(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Br(t,e){const n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,Ht(r,-1)),n.splice(i,1)}function Hr(t,e){if(t.length<=pt)return;const n=pt+e,i=t[n];if(i){const s=i[17];null!==s&&s!==t&&Br(s,i),e>0&&(t[n-1][4]=i[4]);const o=Rn(t,pt+e);us(i[1],r=i,r[11],2,null,null),r[0]=null,r[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}var r;return i}function $r(t,e){if(!(256&e[2])){const n=e[11];At(n)&&n.destroyNode&&us(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Gr(t[1],t);for(;e;){let n=null;if(ft(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ft(e)&&Gr(e[1],e),e=e[3];null===e&&(e=t),ft(e)&&Gr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Gr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];if(!(t instanceof Ue)){const e=n[i+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const i=t[e[n]],r=e[n+1];try{r.call(i)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,i=e[7];let r=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):Rt(e[t]),a=i[r=n[s+2]],l=n[s+3];"boolean"==typeof l?o.removeEventListener(n[s],a,l):l>=0?i[r=l]():i[r=-l].unsubscribe(),s+=2}else{const t=i[r=n[s+1]];n[s].call(t)}if(null!==i){for(let t=r+1;t<i.length;t++)(0,i[t])();e[7]=null}}(t,e),1===e[1].type&&At(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&gt(e[3])){n!==e[3]&&Br(n,e);const i=e[19];null!==i&&i.detachView(t)}}}function Zr(t,e,n){return Wr(t,e.parent,n)}function Wr(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){const e=t.data[i.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return Lt(i,n)}function Kr(t,e,n,i,r){At(t)?t.insertBefore(e,n,i,r):e.insertBefore(n,i,r)}function Yr(t,e,n){At(t)?t.appendChild(e,n):e.appendChild(n)}function Qr(t,e,n,i,r){null!==i?Kr(t,e,n,i,r):Yr(t,e,n)}function Jr(t,e){return At(t)?t.parentNode(e):e.parentNode}function Xr(t,e,n){return ns(t,e,n)}function ts(t,e,n){return 40&t.type?Lt(t,n):null}let es,ns=ts;function is(t,e){ns=t,es=e}function rs(t,e,n,i){const r=Zr(t,i,e),s=e[11],o=Xr(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(n))for(let a=0;a<n.length;a++)Qr(s,r,n[a],o,!1);else Qr(s,r,n,o,!1);void 0!==es&&es(s,i,e,n,r)}function ss(t,e){if(null!==e){const n=e.type;if(3&n)return Lt(e,t);if(4&n)return as(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return ss(t,n);{const n=t[e.index];return gt(n)?as(-1,n):Rt(n)}}if(32&n)return Nr(e,t)()||Rt(t[e.index]);{const n=os(t,e);return null!==n?Array.isArray(n)?n[0]:ss(Rr(t[16]),n):ss(t,e.next)}}return null}function os(t,e){return null!==e?t[16][6].projection[e.projection]:null}function as(t,e){const n=pt+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return ss(t,i)}return e[7]}function ls(t,e,n){const i=Jr(t,e);i&&function(t,e,n,i){At(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}function cs(t,e,n,i,r,s,o){for(;null!=n;){const a=i[n.index],l=n.type;if(o&&0===e&&(a&&_r(Rt(a),i),n.flags|=4),64!=(64&n.flags))if(8&l)cs(t,e,n.child,i,r,s,!1),Ur(e,t,r,a,s);else if(32&l){const o=Nr(n,i);let l;for(;l=o();)Ur(e,t,r,l,s);Ur(e,t,r,a,s)}else 16&l?hs(t,e,i,n,r,s):Ur(e,t,r,a,s);n=o?n.projectionNext:n.next}}function us(t,e,n,i,r,s){cs(n,i,t.firstChild,e,r,s,!1)}function hs(t,e,n,i,r,s){const o=n[16],a=o[6].projection[i.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)Ur(e,t,r,a[l],s);else cs(t,e,a,o[3],r,s,!0)}function ds(t,e,n){At(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ps(t,e,n){At(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function fs(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===i||t.charCodeAt(r+n)<=32)return r}n=r+1}}const gs="ng-template";function ms(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==fs(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function ys(t){return 4===t.type&&t.value!==gs}function _s(t,e,n){return e===(4!==t.type||n?t.value:gs)}function vs(t,e,n){let i=4;const r=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(je(t[e]))return e;return t.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!_s(t,l,n)||""===l&&1===e.length){if(bs(i))return!1;o=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==t.attrs){if(!ms(t.attrs,c,n)){if(bs(i))return!1;o=!0}continue}const u=ws(8&i?"class":l,r,ys(t),n);if(-1===u){if(bs(i))return!1;o=!0;continue}if(""!==c){let t;t=u>s?"":r[u+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==fs(e,c,0)||2&i&&c!==t){if(bs(i))return!1;o=!0}}}}else{if(!o&&!bs(i)&&!bs(l))return!1;if(o&&bs(l))continue;o=!1,i=l|1&i}}return bs(i)||o}function bs(t){return 0==(1&t)}function ws(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let n=!1;for(;r<e.length;){const i=e[r];if(i===t)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function Cs(t,e,n=!1){for(let i=0;i<e.length;i++)if(vs(t,e[i],n))return!0;return!1}function xs(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function Ps(t,e){return t?":not("+e.trim()+")":e}function ks(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&i){const e=t[++n];r+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""===r||bs(o)||(e+=Ps(s,r),r=""),i=o,s=s||!bs(i);n++}return""!==r&&(e+=Ps(s,r)),e}const Os={};function Ts(t){Is(Yt(),Kt(),ke()+t,re())}function Is(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&Ae(e,i,n)}else{const i=t.preOrderHooks;null!==i&&Ne(e,i,0,n)}Oe(n)}function Ss(t,e){return t<<17|e<<2}function Es(t){return t>>17&32767}function Ms(t){return 2|t}function As(t){return(131068&t)>>2}function Ns(t,e){return-131069&t|e<<2}function Rs(t){return 1|t}function Ds(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],s=n[i+1];if(-1!==s){const n=t.data[s];me(r),n.contentQueries(2,e[s],s)}}}function Ls(t,e,n,i,r,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=r,u[2]=140|i,Bt(u),u[3]=u[15]=t,u[8]=n,u[10]=o||t&&t[10],u[11]=a||t&&t[11],u[12]=l||t&&t[12]||null,u[9]=c||t&&t[9]||null,u[6]=s,u[16]=2==e.type?t[16]:u,u}function Fs(t,e,n,i,r){let s=t.data[e];if(null===s)s=Us(t,e,n,i,r),$t.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;const t=te();s.injectorIndex=null===t?-1:t.injectorIndex}return ee(s,!0),s}function Us(t,e,n,i,r){const s=Xt(),o=ne(),a=t.data[e]=function(t,e,n,i,r,s){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}function qs(t,e,n,i){if(0===n)return-1;const r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function js(t,e,n){ve(e);try{const i=t.viewQuery;null!==i&&vo(1,i,n);const r=t.template;null!==r&&Bs(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ds(t,e),t.staticViewQueries&&vo(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)fo(t,e[n])}(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),i}finally{e[2]&=-5,Pe()}}function zs(t,e,n,i){const r=e[2];if(256==(256&r))return;ve(e);const s=re();try{Bt(e),le(t.bindingStartIndex),null!==n&&Bs(t,e,n,2,i);const o=3==(3&r);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Ae(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ne(e,n,0,null),Re(e,0)}if(function(t){for(let e=Dr(t);null!==e;e=Lr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],i=n[3];0==(1024&n[2])&&Ht(i,1),n[2]|=1024}}}(e),function(t){for(let e=Dr(t);null!==e;e=Lr(e))for(let t=pt;t<e.length;t++){const n=e[t],i=n[1];zt(n)&&zs(i,n,i.template,n[8])}}(e),null!==t.contentQueries&&Ds(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Ae(e,n)}else{const n=t.contentHooks;null!==n&&Ne(e,n,1),Re(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const i=n[t];if(i<0)Oe(~i);else{const r=i,s=n[++t],o=n[++t];de(s,r),o(2,e[r])}}}finally{Oe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)ho(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&vo(2,l,i),!s)if(o){const n=t.viewCheckHooks;null!==n&&Ae(e,n)}else{const n=t.viewHooks;null!==n&&Ne(e,n,2),Re(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ht(e[3],-1))}finally{Pe()}}function Vs(t,e,n,i){const r=e[10],s=!re(),o=jt(e);try{s&&!o&&r.begin&&r.begin(),o&&js(t,e,i),zs(t,e,n,i)}finally{s&&!o&&r.end&&r.end()}}function Bs(t,e,n,i,r){const s=ke(),o=2&i;try{Oe(-1),o&&e.length>dt&&Is(t,e,dt,re()),n(i,r)}finally{Oe(s)}}function Hs(t,e,n){if(mt(e)){const i=e.directiveEnd;for(let r=e.directiveStart;r<i;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}function $s(t,e,n){Gt()&&(function(t,e,n,i){const r=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Ye(n,e),_r(i,e);const o=n.initialInputs;for(let a=r;a<s;a++){const i=t.data[a],s=vt(i);s&&so(e,n,i);const l=cn(e,t,a,n);_r(l,e),null!==o&&lo(0,a-r,l,i,0,o),s&&(qt(n.index,e)[8]=l)}}(t,e,n,Lt(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,r=n.directiveEnd,s=n.index,o=$t.lFrame.currentDirectiveIndex;try{Oe(s);for(let n=i;n<r;n++){const i=t.data[n],r=e[n];pe(n),null===i.hostBindings&&0===i.hostVars&&null===i.hostAttrs||to(i,r)}}finally{Oe(-1),pe(o)}}(t,e,n))}function Gs(t,e,n=Lt){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?n(e,t):t[o];t[r++]=a}}}function Zs(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ws(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ws(t,e,n,i,r,s,o,a,l,c){const u=dt+i,h=u+r,d=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:Os);return n}(u,h),p="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function Ks(t,e,n,i){const r=wo(e);null===n?r.push(i):(r.push(n),t.firstCreatePass&&Co(t).push(i,r.length-1))}function Ys(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function Qs(t,e,n,i,r,s,o,a){const l=Lt(e,n);let c,u=e.inputs;var h;!a&&null!=u&&(c=u[i])?(ko(t,n,c,i,r),yt(e)&&function(t,e){const n=qt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i="class"===(h=i)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,r=null!=o?o(r,e.value||"",i):r,At(s)?s.setProperty(l,i,r):ze(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function Js(t,e,n,i){let r=!1;if(Gt()){const s=function(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];Cs(n,o.selectors,!1)&&(r||(r=[]),tn(Ye(n,e),t,o.type),vt(o)?(eo(t,n),r.unshift(o)):r.push(o))}return r}(t,e,n),o=null===i?null:{"":-1};if(null!==s){r=!0,io(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let i=!1,a=!1,l=qs(t,e,s.length,null);for(let r=0;r<s.length;r++){const c=s[r];n.mergedAttrs=Ve(n.mergedAttrs,c.hostAttrs),ro(t,n,e,l,c),no(l,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const u=c.type.prototype;!i&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),i=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function(t,e){const n=e.directiveEnd,i=t.data,r=e.attrs,s=[];let o=null,a=null;for(let l=e.directiveStart;l<n;l++){const t=i[l],n=t.inputs,c=null===r||ys(e)?null:co(n,r);s.push(c),o=Ys(n,l,o),a=Ys(t.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new m("301",`Export of name '${e[t+1]}' not found!`);i.push(e[t],r)}}}(n,i,o)}return n.mergedAttrs=Ve(n.mergedAttrs,n.attrs),r}function Xs(t,e,n,i,r,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(i,r,o)}}function to(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function eo(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function no(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;vt(e)&&(n[""]=t)}}function io(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ro(t,e,n,i,r){t.data[i]=r;const s=r.factory||(r.factory=bt(r.type)),o=new Ue(s,vt(r),null);t.blueprint[i]=o,n[i]=o,Xs(t,e,0,i,qs(t,n,r.hostVars,Os),r)}function so(t,e,n){const i=Lt(e,t),r=Zs(n),s=t[10],o=go(t,Ls(t,r,null,n.onPush?64:16,i,e,s,s.createRenderer(i,n),null,null));t[e.index]=o}function oo(t,e,n,i,r,s){const o=Lt(t,e);ao(e[11],o,s,t.value,n,i,r)}function ao(t,e,n,i,r,s,o){if(null==s)At(t)?t.removeAttribute(e,r,n):e.removeAttribute(r);else{const a=null==o?y(s):o(s,i||"",r);At(t)?t.setAttribute(e,r,a,n):n?e.setAttributeNS(n,r,a):e.setAttribute(r,a)}}function lo(t,e,n,i,r,s){const o=s[e];if(null!==o){const t=i.setInput;for(let e=0;e<o.length;){const r=o[e++],s=o[e++],a=o[e++];null!==t?i.setInput(n,a,r,s):n[s]=a}}}function co(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function uo(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function ho(t,e){const n=qt(e,t);if(zt(n)){const t=n[1];80&n[2]?zs(t,n,t.template,n[8]):n[5]>0&&po(n)}}function po(t){for(let n=Dr(t);null!==n;n=Lr(n))for(let t=pt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];zs(t,e,t.template,e[8])}else e[5]>0&&po(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const i=qt(e[n],t);zt(i)&&i[5]>0&&po(i)}}function fo(t,e){const n=qt(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),js(i,n,n[8])}function go(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function mo(t){for(;t;){t[2]|=64;const e=Rr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function yo(t,e,n){const i=e[10];i.begin&&i.begin();try{zs(t,e,t.template,n)}catch(r){throw Po(e,r),r}finally{i.end&&i.end()}}function _o(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=vr(n),r=i[1];Vs(r,i,r.template,n)}}(t[8])}function vo(t,e,n){me(0),e(t,n)}const bo=(()=>Promise.resolve(null))();function wo(t){return t[7]||(t[7]=[])}function Co(t){return t.cleanup||(t.cleanup=[])}function xo(t,e,n){return(null===t||vt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Po(t,e){const n=t[9],i=n?n.get(xr,null):null;i&&i.handleError(e)}function ko(t,e,n,i,r){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],c=t.data[o];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Oo(t,e,n){const i=Dt(e,t);jr(t[11],i,n)}function To(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?r=h(r,t):2==s&&(i=h(i,t+": "+e[++o]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}const Io=new Pn("INJECTOR",-1);class So{get(t,e=Gn){if(e===Gn){const e=new Error(`NullInjectorError: No provider for ${u(t)}!`);throw e.name="NullInjectorError",e}return e}}const Eo=new Pn("Set Injector scope."),Mo={},Ao={};let No;function Ro(){return void 0===No&&(No=new So),No}function Do(t,e=null,n=null,i){return new Lo(t,n,e||Ro(),i)}class Lo{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&An(e,n=>this.processProvider(n,t,e)),An([t],t=>this.processInjectorType(t,[],r)),this.records.set(Io,qo(void 0,this));const s=this.records.get(Eo);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof t?null:u(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Gn,n=E.Default){this.assertNotDestroyed();const i=Qn(this);try{if(!(n&E.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Pn)&&x(t);e=n&&this.injectableDefInScope(n)?qo(Fo(t),Mo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&E.Self?Ro():this.parent).get(t,e=n&E.Optional&&e===Gn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(u(t)),i)throw s;return function(t,e,n,i){const r=t.ngTempTokenPath;throw e[Wn]&&r.unshift(e[Wn]),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=u(e);if(Array.isArray(e))r=e.map(u).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):u(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(Zn,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Qn(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(u(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=f(t)))return!1;let i=k(t);const r=null==i&&t.ngModule||void 0,s=void 0===r?t:r,o=-1!==n.indexOf(s);if(void 0!==r&&(i=k(r)),null==i)return!1;if(null!=i.imports&&!o){let t;n.push(s);try{An(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];An(i,t=>this.processProvider(t,n,i||B))}}this.injectorDefTypes.add(s);const a=bt(s)||(()=>new s);this.records.set(s,qo(a,Mo));const l=i.providers;if(null!=l&&!o){const e=t;An(l,t=>this.processProvider(t,e,l))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let i=zo(t=f(t))?t:f(t&&t.provide);const r=function(t,e,n){return jo(t)?qo(void 0,t.useValue):qo(Uo(t),Mo)}(t);if(zo(t)||!0!==t.multi)this.records.get(i);else{let e=this.records.get(i);e||(e=qo(void 0,Mo,!0),e.factory=()=>ei(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,r)}hydrate(t,e){var n;return e.value===Mo&&(e.value=Ao,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=f(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Fo(t){const e=x(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;if(t instanceof Pn)throw new Error(`Token ${u(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=Dn(e,"?");throw new Error(`Can't resolve all parameters for ${u(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[O]||t[I]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Uo(t,e,n){let i;if(zo(t)){const e=f(t);return bt(e)||Fo(e)}if(jo(t))i=()=>f(t.useValue);else if((r=t)&&r.useFactory)i=()=>t.useFactory(...ei(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>Xn(f(t.useExisting));else{const e=f(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||Fo(e);i=()=>new e(...ei(t.deps))}var r;return i}function qo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function jo(t){return null!==t&&"object"==typeof t&&Kn in t}function zo(t){return"function"==typeof t}const Vo=function(t,e,n){return function(t,e=null,n=null,i){const r=Do(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};let Bo=(()=>{class t{static create(t,e){return Array.isArray(t)?Vo(t,e,""):Vo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Gn,t.NULL=new So,t.\u0275prov=w({token:t,providedIn:"any",factory:()=>Xn(Io)}),t.__NG_ELEMENT_ID__=-1,t})();function Ho(t,e){Me(vr(t)[1],Jt())}function $o(t){return Object.getPrototypeOf(t.prototype).constructor}function Go(t){let e=$o(t.type),n=!0;const i=[t];for(;e;){let r;if(vt(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);const e=t;e.inputs=Zo(t.inputs),e.declaredInputs=Zo(t.declaredInputs),e.outputs=Zo(t.outputs);const n=r.hostBindings;n&&Yo(t,n);const s=r.viewQuery,o=r.contentQueries;if(s&&Wo(t,s),o&&Ko(t,o),c(t.inputs,r.inputs),c(t.declaredInputs,r.declaredInputs),c(t.outputs,r.outputs),vt(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}}const e=r.features;if(e)for(let i=0;i<e.length;i++){const r=e[i];r&&r.ngInherit&&r(t),r===Go&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Ve(r.hostAttrs,n=Ve(n,r.hostAttrs))}}(i)}function Zo(t){return t===V?{}:t===B?[]:t}function Wo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function Ko(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,r)=>{e(t,i,r),n(t,i,r)}:e}function Yo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}const Qo=["providersResolver"],Jo=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Xo(t){let e,n=$o(t.type);e=vt(t)?n.\u0275cmp:n.\u0275dir;const i=t;for(const r of Qo)i[r]=e[r];if(vt(e))for(const r of Jo)i[r]=e[r]}let ta=null;function ea(){if(!ta){const t=z.Symbol;if(t&&t.iterator)ta=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ta=n)}}}return ta}class na{constructor(t){this.wrapped=t}static wrap(t){return new na(t)}static unwrap(t){return na.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof na}}function ia(t){return!!ra(t)&&(Array.isArray(t)||!(t instanceof Map)&&ea()in t)}function ra(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function sa(t,e,n){return t[e]=n}function oa(t,e){return t[e]}function aa(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function la(t,e,n,i){const r=aa(t,e,n);return aa(t,e+1,i)||r}function ca(t,e,n,i,r){const s=la(t,e,n,i);return aa(t,e+2,r)||s}function ua(t,e,n,i,r,s){const o=la(t,e,n,i);return la(t,e+2,r,s)||o}function ha(t,e,n,i){const r=Kt();return aa(r,ce(),e)&&(Yt(),oo(Te(),r,t,e,n,i)),ha}function da(t,e){let n=!1,i=ae();for(let s=1;s<e.length;s+=2)n=aa(t,i++,e[s])||n;if(le(i),!n)return Os;let r=e[0];for(let s=1;s<e.length;s+=2)r+=y(e[s])+e[s+1];return r}function pa(t,e,n,i){return aa(t,ce(),n)?e+y(n)+i:Os}function fa(t,e,n,i,r,s){const o=la(t,ae(),n,r);return ue(2),o?e+y(n)+i+y(r)+s:Os}function ga(t,e,n,i,r,s,o,a){const l=ca(t,ae(),n,r,o);return ue(3),l?e+y(n)+i+y(r)+s+y(o)+a:Os}function ma(t,e,n,i,r,s,o,a,l,c){const u=ua(t,ae(),n,r,o,l);return ue(4),u?e+y(n)+i+y(r)+s+y(o)+a+y(l)+c:Os}function ya(t,e,n,i,r,s,o,a,l,c,u,h){const d=ae();let p=ua(t,d,n,r,o,l);return p=aa(t,d+4,u)||p,ue(5),p?e+y(n)+i+y(r)+s+y(o)+a+y(l)+c+y(u)+h:Os}function _a(t,e,n,i,r,s,o,a,l,c,u,h,d,p){const f=ae();let g=ua(t,f,n,r,o,l);return g=la(t,f+4,u,d)||g,ue(6),g?e+y(n)+i+y(r)+s+y(o)+a+y(l)+c+y(u)+h+y(d)+p:Os}function va(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,g){const m=ae();let _=ua(t,m,n,r,o,l);return _=ca(t,m+4,u,d,f)||_,ue(7),_?e+y(n)+i+y(r)+s+y(o)+a+y(l)+c+y(u)+h+y(d)+p+y(f)+g:Os}function ba(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,g,m,_){const v=ae();let b=ua(t,v,n,r,o,l);return b=ua(t,v+4,u,d,f,m)||b,ue(8),b?e+y(n)+i+y(r)+s+y(o)+a+y(l)+c+y(u)+h+y(d)+p+y(f)+g+y(m)+_:Os}function wa(t,e,n,i,r,s){const o=Kt(),a=pa(o,e,n,i);return a!==Os&&oo(Te(),o,t,a,r,s),wa}function Ca(t,e,n,i,r,s,o,a){const l=Kt(),c=fa(l,e,n,i,r,s);return c!==Os&&oo(Te(),l,t,c,o,a),Ca}function xa(t,e,n,i,r,s,o,a,l,c){const u=Kt(),h=ga(u,e,n,i,r,s,o,a);return h!==Os&&oo(Te(),u,t,h,l,c),xa}function Pa(t,e,n,i,r,s,o,a,l,c,u,h){const d=Kt(),p=ma(d,e,n,i,r,s,o,a,l,c);return p!==Os&&oo(Te(),d,t,p,u,h),Pa}function ka(t,e,n,i,r,s,o,a,l,c,u,h,d,p){const f=Kt(),g=ya(f,e,n,i,r,s,o,a,l,c,u,h);return g!==Os&&oo(Te(),f,t,g,d,p),ka}function Oa(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,g){const m=Kt(),y=_a(m,e,n,i,r,s,o,a,l,c,u,h,d,p);return y!==Os&&oo(Te(),m,t,y,f,g),Oa}function Ta(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,g,m,y){const _=Kt(),v=va(_,e,n,i,r,s,o,a,l,c,u,h,d,p,f,g);return v!==Os&&oo(Te(),_,t,v,m,y),Ta}function Ia(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,g,m,y,_,v){const b=Kt(),w=ba(b,e,n,i,r,s,o,a,l,c,u,h,d,p,f,g,m,y);return w!==Os&&oo(Te(),b,t,w,_,v),Ia}function Sa(t,e,n,i){const r=Kt(),s=da(r,e);return s!==Os&&oo(Te(),r,t,s,n,i),Sa}function Ea(t,e,n,i,r,s,o,a){const l=Kt(),c=Yt(),u=t+dt,h=c.firstCreatePass?function(t,e,n,i,r,s,o,a,l){const c=e.consts,u=Fs(e,t,4,o||null,Vt(c,a));Js(e,n,u,Vt(c,l)),Me(e,u);const h=u.tViews=Ws(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,n,i,r,s,o):c.data[u];ee(h,!1);const d=l[11].createComment("");rs(c,l,d,h),_r(d,l),go(l,l[u]=uo(d,l,d,h)),_t(h)&&$s(c,l,h),null!=o&&Gs(l,h,a)}function Ma(t){return Ut($t.lFrame.contextLView,dt+t)}const Aa={"\u0275\u0275defineInjectable":w,"\u0275\u0275defineInjector":C,"\u0275\u0275inject":Xn,"\u0275\u0275invalidFactoryDep":ti,resolveForwardRef:f},Na=l({provide:String,useValue:l});function Ra(t){return void 0!==t.useClass}function Da(t){return void 0!==t.useFactory}const La=vn("Injectable",void 0,void 0,void 0,(t,e)=>Fa(t,e)),Fa=function(t,e){let n=null,i=null;t.hasOwnProperty(O)||Object.defineProperty(t,O,{get:()=>(null===n&&(n=In().compileInjectable(Aa,`ng:///${t.name}/\u0275prov.js`,function(t,e){const n=e||{providedIn:null},i={name:t.name,type:t,typeArgumentCount:0,providedIn:n.providedIn};return(Ra(n)||Da(n))&&void 0!==n.deps&&(i.deps=hi(n.deps)),Ra(n)?i.useClass=n.useClass:function(t){return Na in t}(n)?i.useValue=n.useValue:Da(n)?i.useFactory=n.useFactory:function(t){return void 0!==t.useExisting}(n)&&(i.useExisting=n.useExisting),i}(t,e))),n)}),t.hasOwnProperty(K)||Object.defineProperty(t,K,{get:()=>{if(null===i){const e=In();i=e.compileFactory(Aa,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,typeArgumentCount:0,deps:ui(t),target:e.FactoryTarget.Injectable})}return i},configurable:!0})};function Ua(t,e=E.Default){const n=Kt();return null===n?Xn(t,e):rn(Jt(),n,f(t),e)}function qa(){throw new Error("invalid")}function ja(t,e,n){const i=Kt();return aa(i,ce(),e)&&Qs(Yt(),Te(),i,t,e,i[11],n,!1),ja}function za(t,e,n,i,r){const s=r?"class":"style";ko(t,n,e.inputs[s],s,i)}function Va(t,e,n,i){const r=Kt(),s=Yt(),o=dt+t,a=r[11],l=r[o]=Vr(a,e,$t.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,i,r,s,o){const a=e.consts,l=Fs(e,t,2,r,Vt(a,s));return Js(e,n,l,Vt(a,o)),null!==l.attrs&&To(l,l.attrs,!1),null!==l.mergedAttrs&&To(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,r,0,e,n,i):s.data[o];ee(c,!0);const u=c.mergedAttrs;null!==u&&qe(a,l,u);const h=c.classes;null!==h&&ps(a,l,h);const d=c.styles;null!==d&&ds(a,l,d),64!=(64&c.flags)&&rs(s,r,l,c),0===$t.lFrame.elementDepthCount&&_r(l,r),$t.lFrame.elementDepthCount++,_t(c)&&($s(s,r,c),Hs(s,c,r)),null!==i&&Gs(r,c)}function Ba(){let t=Jt();ne()?ie():(t=t.parent,ee(t,!1));const e=t;$t.lFrame.elementDepthCount--;const n=Yt();n.firstCreatePass&&(Me(n,t),mt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&za(n,e,Kt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&za(n,e,Kt(),e.stylesWithoutHost,!1)}function Ha(t,e,n,i){Va(t,e,n,i),Ba()}function $a(t,e,n){const i=Kt(),r=Yt(),s=t+dt,o=r.firstCreatePass?function(t,e,n,i,r){const s=e.consts,o=Vt(s,i),a=Fs(e,t,8,"ng-container",o);return null!==o&&To(a,o,!0),Js(e,n,a,Vt(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,r,i,e,n):r.data[s];ee(o,!0);const a=i[s]=i[11].createComment("");rs(r,i,a,o),_r(a,i),_t(o)&&($s(r,i,o),Hs(r,o,i)),null!=n&&Gs(i,o)}function Ga(){let t=Jt();const e=Yt();ne()?ie():(t=t.parent,ee(t,!1)),e.firstCreatePass&&(Me(e,t),mt(t)&&e.queries.elementEnd(t))}function Za(t,e,n){$a(t,e,n),Ga()}function Wa(){return Kt()}function Ka(t){return!!t&&"function"==typeof t.then}function Ya(t){return!!t&&"function"==typeof t.subscribe}const Qa=Ya;function Ja(t,e,n,i){const r=Kt(),s=Yt(),o=Jt();return tl(s,r,r[11],o,t,e,!!n,i),Ja}function Xa(t,e){const n=Jt(),i=Kt(),r=Yt();return tl(r,i,xo(fe(r.data),n,i),n,t,e,!1),Xa}function tl(t,e,n,i,r,s,o,a){const l=_t(i),c=t.firstCreatePass&&Co(t),u=wo(e);let h=!0;if(3&i.type||a){const d=Lt(i,e),p=a?a(d):d,f=u.length,g=a?t=>a(Rt(t[i.index])):i.index;if(At(n)){let o=null;if(!a&&l&&(o=function(t,e,n,i){const r=t.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const t=r[s];if(t===n&&r[s+1]===i){const t=e[7],n=r[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,r,i.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=nl(i,e,0,s,!1);const t=n.listen(p,r,s);u.push(s,t),c&&c.push(r,g,f,f+1)}}else s=nl(i,e,0,s,!0),p.addEventListener(r,s,o),u.push(s),c&&c.push(r,g,f,o)}else s=nl(i,e,0,s,!1);const d=i.outputs;let p;if(h&&null!==d&&(p=d[r])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(s),o=u.length;u.push(s,t),c&&c.push(r,i.index,o,-(o+1))}}}function el(t,e,n,i){try{return!1!==n(i)}catch(r){return Po(t,r),!1}}function nl(t,e,n,i,r){return function n(s){if(s===Function)return i;const o=2&t.flags?qt(t.index,e):e;0==(32&e[2])&&mo(o);let a=el(e,0,i,s),l=n.__ngNextListenerFn__;for(;l;)a=el(e,0,l,s)&&a,l=l.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function il(t=1){return function(t){return($t.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,$t.lFrame.contextLView))[8]}(t)}function rl(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?Cs(t,s,!0):xs(i,s))return r}else n=r}return n}function sl(t){const e=Kt()[16][6];if(!e.projection){const n=e.projection=Dn(t?t.length:1,null),i=n.slice();let r=e.child;for(;null!==r;){const e=t?rl(r,t):0;null!==e&&(i[e]?i[e].projectionNext=r:n[e]=r,i[e]=r),r=r.next}}}function ol(t,e=0,n){const i=Kt(),r=Yt(),s=Fs(r,dt+t,16,null,n||null);null===s.projection&&(s.projection=e),ie(),64!=(64&s.flags)&&function(t,e,n){hs(e[11],0,e,n,Zr(t,n,e),Xr(n.parent||e[6],n,e))}(r,i,s)}function al(t,e,n){return ll(t,"",e,"",n),al}function ll(t,e,n,i,r){const s=Kt(),o=pa(s,e,n,i);return o!==Os&&Qs(Yt(),Te(),s,t,o,s[11],r,!1),ll}function cl(t,e,n,i,r,s,o){const a=Kt(),l=fa(a,e,n,i,r,s);return l!==Os&&Qs(Yt(),Te(),a,t,l,a[11],o,!1),cl}function ul(t,e,n,i,r,s,o,a,l){const c=Kt(),u=ga(c,e,n,i,r,s,o,a);return u!==Os&&Qs(Yt(),Te(),c,t,u,c[11],l,!1),ul}function hl(t,e,n,i,r,s,o,a,l,c,u){const h=Kt(),d=ma(h,e,n,i,r,s,o,a,l,c);return d!==Os&&Qs(Yt(),Te(),h,t,d,h[11],u,!1),hl}function dl(t,e,n,i,r,s,o,a,l,c,u,h,d){const p=Kt(),f=ya(p,e,n,i,r,s,o,a,l,c,u,h);return f!==Os&&Qs(Yt(),Te(),p,t,f,p[11],d,!1),dl}function pl(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f){const g=Kt(),m=_a(g,e,n,i,r,s,o,a,l,c,u,h,d,p);return m!==Os&&Qs(Yt(),Te(),g,t,m,g[11],f,!1),pl}function fl(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,g,m){const y=Kt(),_=va(y,e,n,i,r,s,o,a,l,c,u,h,d,p,f,g);return _!==Os&&Qs(Yt(),Te(),y,t,_,y[11],m,!1),fl}function gl(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,g,m,y,_){const v=Kt(),b=ba(v,e,n,i,r,s,o,a,l,c,u,h,d,p,f,g,m,y);return b!==Os&&Qs(Yt(),Te(),v,t,b,v[11],_,!1),gl}function ml(t,e,n){const i=Kt(),r=da(i,e);return r!==Os&&Qs(Yt(),Te(),i,t,r,i[11],n,!1),ml}function yl(t,e,n,i,r){const s=t[n+1],o=null===e;let a=i?Es(s):As(s),l=!1;for(;0!==a&&(!1===l||o);){const n=t[a+1];_l(t[a],e)&&(l=!0,t[a+1]=i?Rs(n):Ms(n)),a=i?Es(n):As(n)}l&&(t[n+1]=i?Ms(s):Rs(s))}function _l(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Un(t,e)>=0}const vl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bl(t){return t.substring(vl.key,vl.keyEnd)}function wl(t){return t.substring(vl.value,vl.valueEnd)}function Cl(t,e){const n=vl.textEnd;return n===e?-1:(e=vl.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,vl.key=e,n),kl(t,e,n))}function xl(t,e){const n=vl.textEnd;let i=vl.key=kl(t,e,n);return n===i?-1:(i=vl.keyEnd=function(t,e,n){let i;for(;e<n&&(45===(i=t.charCodeAt(e))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)e++;return e}(t,i,n),i=Ol(t,i,n),i=vl.value=kl(t,i,n),i=vl.valueEnd=function(t,e,n){let i=-1,r=-1,s=-1,o=e,a=o;for(;o<n;){const l=t.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=Tl(t,l,o,n):e===o-4&&85===s&&82===r&&76===i&&40===l?a=o=Tl(t,41,o,n):l>32&&(a=o),s=r,r=i,i=-33&l}return a}(t,i,n),Ol(t,i,n))}function Pl(t){vl.key=0,vl.keyEnd=0,vl.value=0,vl.valueEnd=0,vl.textEnd=t.length}function kl(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Ol(t,e,n,i){return(e=kl(t,e,n))<n&&e++,e}function Tl(t,e,n,i){let r=-1,s=n;for(;s<i;){const n=t.charCodeAt(s++);if(n==e&&92!==r)return s;r=92==n&&92===r?0:n}throw new Error}function Il(t,e,n){return Rl(t,e,n,!1),Il}function Sl(t,e){return Rl(t,e,null,!0),Sl}function El(t){Dl(jl,Ml,t,!1)}function Ml(t,e){for(let n=function(t){return Pl(t),xl(t,kl(t,0,vl.textEnd))}(e);n>=0;n=xl(e,n))jl(t,bl(e),wl(e))}function Al(t){Dl(Ln,Nl,t,!0)}function Nl(t,e){for(let n=function(t){return Pl(t),Cl(t,kl(t,0,vl.textEnd))}(e);n>=0;n=Cl(e,n))Ln(t,bl(e),!0)}function Rl(t,e,n,i){const r=Kt(),s=Yt(),o=ue(2);s.firstUpdatePass&&Fl(s,t,o,i),e!==Os&&aa(r,o,e)&&zl(s,s.data[ke()],r,r[11],t,r[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=u(Si(t)))),t}(e,n),i,o)}function Dl(t,e,n,i){const r=Yt(),s=ue(2);r.firstUpdatePass&&Fl(r,null,s,i);const o=Kt();if(n!==Os&&aa(o,s,n)){const a=r.data[ke()];if(Hl(a,i)&&!Ll(r,s)){let t=i?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),za(r,a,o,n,i)}else!function(t,e,n,i,r,s,o,a){r===Os&&(r=B);let l=0,c=0,u=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const d=l<r.length?r[l+1]:void 0,p=c<s.length?s[c+1]:void 0;let f,g=null;u===h?(l+=2,c+=2,d!==p&&(g=h,f=p)):null===h||null!==u&&u<h?(l+=2,g=u):(c+=2,g=h,f=p),null!==g&&zl(t,e,n,i,g,f,o,a),u=l<r.length?r[l]:null,h=c<s.length?s[c]:null}}(r,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return B;const i=[],r=Si(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else"string"==typeof r&&e(i,r);return i}(t,e,n),i,s)}}function Ll(t,e){return e>=t.expandoStartIndex}function Fl(t,e,n,i){const r=t.data;if(null===r[n+1]){const s=r[ke()],o=Ll(t,n);Hl(s,i)&&null===e&&!o&&(e=!1),e=function(t,e,n,i){const r=fe(t);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=ql(n=Ul(null,t,e,n,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==r)if(n=Ul(r,t,e,n,i),null===s){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==As(i))return t[Es(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=Ul(null,t,e,n[1],i),n=ql(n,e.attrs,i),function(t,e,n,i){t[Es(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else s=function(t,e,n){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=ql(i,t[s].hostAttrs,n);return ql(i,e.attrs,n)}(t,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),n}(r,s,e,i),function(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Es(o),l=As(o);t[i]=n;let c,u=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||Un(t,c)>0)&&(u=!0)}else c=n;if(r)if(0!==l){const e=Es(t[a+1]);t[i+1]=Ss(e,a),0!==e&&(t[e+1]=Ns(t[e+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=Ss(a,0),0!==a&&(t[a+1]=Ns(t[a+1],i)),a=i;else t[i+1]=Ss(l,0),0===a?a=i:t[l+1]=Ns(t[l+1],i),l=i;u&&(t[i+1]=Ms(t[i+1])),yl(t,c,i,!0),yl(t,c,i,!1),function(t,e,n,i,r){const s=r?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Un(s,e)>=0&&(n[i+1]=Rs(n[i+1]))}(e,c,t,i,s),o=Ss(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,n,o,i)}}function Ul(t,e,n,i,r){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],i=ql(i,s.hostAttrs,r),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function ql(t,e,n){const i=n?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ln(t,o,!!n||e[++s]))}return void 0===t?null:t}function jl(t,e,n){Ln(t,e,Si(n))}function zl(t,e,n,i,r,s,o,a){if(!(3&e.type))return;const l=t.data,c=l[a+1];Bl(1==(1&c)?Vl(l,e,n,r,As(c),o):void 0)||(Bl(s)||2==(2&c)&&(s=Vl(l,null,n,r,a,o)),function(t,e,n,i,r){const s=At(t);if(e)r?s?t.addClass(n,i):n.classList.add(i):s?t.removeClass(n,i):n.classList.remove(i);else{let e=-1===i.indexOf("-")?void 0:Mr.DashCase;if(null==r)s?t.removeStyle(n,i,e):n.style.removeProperty(i);else{const o="string"==typeof r&&r.endsWith("!important");o&&(r=r.slice(0,-10),e|=Mr.Important),s?t.setStyle(n,i,r,e):n.style.setProperty(i,r,o?"important":"")}}}(i,o,Dt(ke(),n),r,s))}function Vl(t,e,n,i,r,s){const o=null===e;let a;for(;r>0;){const e=t[r],s=Array.isArray(e),l=s?e[1]:e,c=null===l;let u=n[r+1];u===Os&&(u=c?B:void 0);let h=c?Fn(u,i):l===i?u:void 0;if(s&&!Bl(h)&&(h=Fn(e,i)),Bl(h)&&(a=h,o))return a;const d=t[r+1];r=o?Es(d):As(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=Fn(t,i))}return a}function Bl(t){return void 0!==t}function Hl(t,e){return 0!=(t.flags&(e?16:32))}function $l(t,e=""){const n=Kt(),i=Yt(),r=t+dt,s=i.firstCreatePass?Fs(i,r,1,e,null):i.data[r],o=n[r]=qr(n[11],e);rs(i,n,o,s),ee(s,!1)}function Gl(t){return Zl("",t,""),Gl}function Zl(t,e,n){const i=Kt(),r=pa(i,t,e,n);return r!==Os&&Oo(i,ke(),r),Zl}function Wl(t,e,n,i,r){const s=Kt(),o=fa(s,t,e,n,i,r);return o!==Os&&Oo(s,ke(),o),Wl}function Kl(t,e,n,i,r,s,o){const a=Kt(),l=ga(a,t,e,n,i,r,s,o);return l!==Os&&Oo(a,ke(),l),Kl}function Yl(t,e,n,i,r,s,o,a,l){const c=Kt(),u=ma(c,t,e,n,i,r,s,o,a,l);return u!==Os&&Oo(c,ke(),u),Yl}function Ql(t,e,n,i,r,s,o,a,l,c,u){const h=Kt(),d=ya(h,t,e,n,i,r,s,o,a,l,c,u);return d!==Os&&Oo(h,ke(),d),Ql}function Jl(t,e,n,i,r,s,o,a,l,c,u,h,d){const p=Kt(),f=_a(p,t,e,n,i,r,s,o,a,l,c,u,h,d);return f!==Os&&Oo(p,ke(),f),Jl}function Xl(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f){const g=Kt(),m=va(g,t,e,n,i,r,s,o,a,l,c,u,h,d,p,f);return m!==Os&&Oo(g,ke(),m),Xl}function tc(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,g,m){const y=Kt(),_=ba(y,t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,g,m);return _!==Os&&Oo(y,ke(),_),tc}function ec(t){const e=Kt(),n=da(e,t);return n!==Os&&Oo(e,ke(),n),ec}function nc(t,e,n){Dl(Ln,Nl,pa(Kt(),t,e,n),!0)}function ic(t,e,n,i,r){Dl(Ln,Nl,fa(Kt(),t,e,n,i,r),!0)}function rc(t,e,n,i,r,s,o){Dl(Ln,Nl,ga(Kt(),t,e,n,i,r,s,o),!0)}function sc(t,e,n,i,r,s,o,a,l){Dl(Ln,Nl,ma(Kt(),t,e,n,i,r,s,o,a,l),!0)}function oc(t,e,n,i,r,s,o,a,l,c,u){Dl(Ln,Nl,ya(Kt(),t,e,n,i,r,s,o,a,l,c,u),!0)}function ac(t,e,n,i,r,s,o,a,l,c,u,h,d){Dl(Ln,Nl,_a(Kt(),t,e,n,i,r,s,o,a,l,c,u,h,d),!0)}function lc(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f){Dl(Ln,Nl,va(Kt(),t,e,n,i,r,s,o,a,l,c,u,h,d,p,f),!0)}function cc(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,g,m){Dl(Ln,Nl,ba(Kt(),t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,g,m),!0)}function uc(t){Dl(Ln,Nl,da(Kt(),t),!0)}function hc(t,e,n){El(pa(Kt(),t,e,n))}function dc(t,e,n,i,r){El(fa(Kt(),t,e,n,i,r))}function pc(t,e,n,i,r,s,o){El(ga(Kt(),t,e,n,i,r,s,o))}function fc(t,e,n,i,r,s,o,a,l){El(ma(Kt(),t,e,n,i,r,s,o,a,l))}function gc(t,e,n,i,r,s,o,a,l,c,u){El(ya(Kt(),t,e,n,i,r,s,o,a,l,c,u))}function mc(t,e,n,i,r,s,o,a,l,c,u,h,d){El(_a(Kt(),t,e,n,i,r,s,o,a,l,c,u,h,d))}function yc(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f){El(va(Kt(),t,e,n,i,r,s,o,a,l,c,u,h,d,p,f))}function _c(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,g,m){El(ba(Kt(),t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,g,m))}function vc(t){El(da(Kt(),t))}function bc(t,e,n,i,r){return Rl(t,pa(Kt(),e,n,i),r,!1),bc}function wc(t,e,n,i,r,s,o){return Rl(t,fa(Kt(),e,n,i,r,s),o,!1),wc}function Cc(t,e,n,i,r,s,o,a,l){return Rl(t,ga(Kt(),e,n,i,r,s,o,a),l,!1),Cc}function xc(t,e,n,i,r,s,o,a,l,c,u){return Rl(t,ma(Kt(),e,n,i,r,s,o,a,l,c),u,!1),xc}function Pc(t,e,n,i,r,s,o,a,l,c,u,h,d){return Rl(t,ya(Kt(),e,n,i,r,s,o,a,l,c,u,h),d,!1),Pc}function kc(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f){return Rl(t,_a(Kt(),e,n,i,r,s,o,a,l,c,u,h,d,p),f,!1),kc}function Oc(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,g,m){return Rl(t,va(Kt(),e,n,i,r,s,o,a,l,c,u,h,d,p,f,g),m,!1),Oc}function Tc(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,g,m,y,_){return Rl(t,ba(Kt(),e,n,i,r,s,o,a,l,c,u,h,d,p,f,g,m,y),_,!1),Tc}function Ic(t,e,n){return Rl(t,da(Kt(),e),n,!1),Ic}function Sc(t,e,n){const i=Kt();return aa(i,ce(),e)&&Qs(Yt(),Te(),i,t,e,i[11],n,!0),Sc}function Ec(t,e,n){const i=Kt();if(aa(i,ce(),e)){const r=Yt(),s=Te();Qs(r,s,i,t,e,xo(fe(r.data),s,i),n,!0)}return Ec}const Mc=void 0;var Ac=["en",[["a","p"],["AM","PM"],Mc],[["AM","PM"],Mc,Mc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mc,"{1} 'at' {0}",Mc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Nc={};function Rc(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Lc(e);if(n)return n;const i=e.split("-")[0];if(n=Lc(i),n)return n;if("en"===i)return Ac;throw new Error(`Missing locale data for the locale "${t}".`)}function Dc(t){return Rc(t)[Fc.PluralCase]}function Lc(t){return t in Nc||(Nc[t]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[t]),Nc[t]}var Fc=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Uc=["zero","one","two","few","many"],qc="en-US",jc={marker:"element"},zc={marker:"ICU"};var Vc=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let Bc=qc;function Hc(t){var e;null==(e=t)&&b("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(Bc=t.toLowerCase().replace(/_/g,"-"))}function $c(t,e,n){const i=e.insertBeforeIndex,r=Array.isArray(i)?i[0]:i;return null===r?ts(t,0,n):Rt(n[r])}function Gc(t,e,n,i,r){const s=e.insertBeforeIndex;if(Array.isArray(s)){let o=i,a=null;if(3&e.type||(a=o,o=r),null!==o&&0==(2&e.flags))for(let e=1;e<s.length;e++)Kr(t,o,n[s[e]],a,!1)}}function Zc(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const i=t[n];Wc(i)||Kc(i,e)&&null===Yc(i)&&Qc(i,e.index)}}function Wc(t){return!(64&t.type)}function Kc(t,e){return Wc(e)||t.index>e.index}function Yc(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function Qc(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(is($c,Gc),t.insertBeforeIndex=e)}function Jc(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Xc(t,e,n){const i=Us(t,n,64,null,null);return Zc(e,i),i}function tu(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let eu=0,nu=0;function iu(t,e,n,i){const r=n[11];let s,o=null;for(let a=0;a<e.length;a++){const l=e[a];if("string"==typeof l){const t=e[++a];null===n[t]&&(n[t]=qr(r,l))}else if("number"==typeof l)switch(1&l){case 0:const c=l>>>17;let u,h;if(null===o&&(o=c,s=Jr(r,i)),c===o?(u=i,h=s):(u=null,h=Rt(n[c])),null!==h){const e=(131070&l)>>>1;Kr(r,h,n[e],u,!1);const i=Jc(t,e);if(null!==i&&"object"==typeof i){const e=tu(i,n);null!==e&&iu(t,i.create[e],n,n[i.anchorIdx])}}break;case 1:const d=e[++a],p=e[++a];ao(r,Dt(l>>>1,n),null,null,d,p,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${l}"`)}else switch(l){case zc:const t=e[++a],i=e[++a];null===n[i]&&_r(n[i]=zr(r,t),n);break;case jc:const s=e[++a],o=e[++a];null===n[o]&&_r(n[o]=Vr(r,s,null),n)}}}function ru(t,e,n,i,r){for(let s=0;s<n.length;s++){const o=n[s],a=n[++s];if(o&r){let r="";for(let o=s+1;o<=s+a;o++){const s=n[o];if("string"==typeof s)r+=s;else if("number"==typeof s)if(s<0)r+=y(e[i-s]);else{const a=s>>>2;switch(3&s){case 1:const s=n[++o],l=n[++o],c=t.data[a];"string"==typeof c?ao(e[11],e[a],null,c,s,r,l):Qs(t,c,e,s,r,e[11],l,!1);break;case 0:const u=e[a];null!==u&&jr(e[11],u,r);break;case 2:ou(t,Jc(t,a),e,r);break;case 3:su(t,Jc(t,a),i,e)}}}}else{const r=n[s+1];if(r>0&&3==(3&r)){const n=Jc(t,r>>>2);e[n.currentCaseLViewIndex]<0&&su(t,n,i,e)}}s+=a}}function su(t,e,n,i){let r=i[e.currentCaseLViewIndex];if(null!==r){let s=eu;r<0&&(r=i[e.currentCaseLViewIndex]=~r,s=-1),ru(t,i,e.update[r],n,s)}}function ou(t,e,n,i){const r=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const i=function(t,e){const n=Dc(e)(parseInt(t,10)),i=Uc[n];return void 0!==i?i:"other"}(e,Bc);n=t.cases.indexOf(i),-1===n&&"other"!==i&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,i);if(tu(e,n)!==r&&(au(t,e,n),n[e.currentCaseLViewIndex]=null===r?null:~r,null!==r)){const i=n[e.anchorIdx];i&&iu(t,e.create[r],n,i)}}function au(t,e,n){let i=tu(e,n);if(null!==i){const r=e.remove[i];for(let e=0;e<r.length;e++){const i=r[e];if(i>0){const t=Dt(i,n);null!==t&&ls(n[11],t)}else au(t,Jc(t,~i),n)}}}const lu=/\ufffd(\d+):?\d*\ufffd/gi,cu=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,uu=/\ufffd(\d+)\ufffd/,hu=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,du=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,pu=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,fu=/\uE500/g;function gu(t,e,n,i,r,s,o){const a=qs(t,i,1,null);let l=a<<Vc.SHIFT,c=te();e===c&&(c=null),null===c&&(l|=Vc.APPEND_EAGERLY),o&&(l|=Vc.COMMENT,void 0===Ar&&(Ar=function(){const t=[];let e,n,i=-1;function r(t,e){i=0;const r=tu(t,e);n=null!==r?t.remove[r]:B}function s(){if(i<n.length){const o=n[i++];return o>0?e[o]:(t.push(i,n),r(e[1].data[~o],e),s())}return 0===t.length?null:(n=t.pop(),i=t.pop(),s())}return function(n,i){for(e=i;t.length;)t.pop();return r(n.value,i),s}}())),r.push(l,null===s?"":s);const u=Us(t,a,o?32:1,null===s?"":s,null);Zc(n,u);const h=u.index;return ee(u,!1),null!==c&&e!==c&&function(t,e){let n=t.insertBeforeIndex;var i;null===n?(is($c,Gc),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(i=Array.isArray(n))!=!0&&b("Expecting array here",i,true,"=="),n.push(e))}(c,h),u}function mu(t,e,n,i,r,s,o){const a=o.match(lu),l=gu(t,e,n,s,i,a?null:o,!1);a&&yu(r,o,l.index,null,0,null)}function yu(t,e,n,i,r,s){const o=t.length,a=o+1;t.push(null,null);const l=o+2,c=e.split(lu);let u=0;for(let h=0;h<c.length;h++){const e=c[h];if(1&h){const n=r+parseInt(e,10);t.push(-1-n),u|=vu(n)}else""!==e&&t.push(e)}return t.push(n<<2|(i?1:0)),i&&t.push(i,s),t[o]=u,t[a]=t.length-l,u}function _u(t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];"number"==typeof i&&i<0&&e++}return e}function vu(t){return 1<<Math.min(t,31)}function bu(t){let e,n,i="",r=0,s=!1;for(;null!==(e=du.exec(t));)s?e[0]===`\ufffd/*${n}\ufffd`&&(r=e.index,s=!1):(i+=t.substring(r,e.index+e[0].length),n=e[1],s=!0);return i+=t.substr(r),i}function wu(t,e,n,i,r,s){let o=0;const a={type:r.type,currentCaseLViewIndex:qs(t,e,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(vu(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,r,s),function(t,e,n){const i=t.data[e];null===i?t.data[e]=n:i.value=n}(t,s,a);const l=r.values;for(let c=0;c<l.length;c++){const s=l[c],u=[];for(let t=0;t<s.length;t++){const e=s[t];if("string"!=typeof e){const n=u.push(e)-1;s[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}o=Pu(t,a,e,n,i,r.cases[c],s.join(""),u)|o}o&&function(t,e,n){t.push(e,1,n<<2|3)}(n,o,s)}function Cu(t){const e=[],n=[];let i=1,r=0;const s=xu(t=t.replace(hu,function(t,e,n){return i="select"===n?0:1,r=parseInt(e.substr(1),10),""}));for(let o=0;o<s.length;){let t=s[o++].trim();1===i&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const r=xu(s[o++]);e.length>n.length&&n.push(r)}return{type:i,mainBinding:r,cases:e,values:n}}function xu(t){if(!t)return[];let e=0;const n=[],i=[],r=/[{}]/g;let s;for(r.lastIndex=0;s=r.exec(t);){const r=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=t.substring(e,r);hu.test(n)?i.push(Cu(n)):i.push(n),e=r+1}}else{if(0==n.length){const n=t.substring(e,r);i.push(n),e=r+1}n.push("{")}}const o=t.substring(e);return i.push(o),i}function Pu(t,e,n,i,r,s,o,a){const l=[],c=[],u=[];e.cases.push(s),e.create.push(l),e.remove.push(c),e.update.push(u);const h=Fi(Mt()).getInertBodyElement(o),d=ar(h)||h;return d?ku(t,e,n,i,l,c,u,d,r,a,0):0}function ku(t,e,n,i,r,s,o,a,l,c,u){let h=0,d=a.firstChild;for(;d;){const a=qs(t,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const p=d,f=p.tagName.toLowerCase();if(Yi.hasOwnProperty(f)){Iu(r,jc,f,l,a),t.data[a]=f;const g=p.attributes;for(let t=0;t<g.length;t++){const e=g.item(t),n=e.name.toLowerCase();e.value.match(lu)?Xi.hasOwnProperty(n)&&yu(o,e.value,a,e.name,0,Qi[n]?Vi:Ji[n]?Bi:null):Su(r,a,e)}h=ku(t,e,n,i,r,s,o,d,a,c,u+1)|h,Ou(s,a,u)}break;case Node.TEXT_NODE:const g=d.textContent||"",m=g.match(lu);Iu(r,null,m?"":g,l,a),Ou(s,a,u),m&&(h=yu(o,g,a,null,0,null)|h);break;case Node.COMMENT_NODE:const y=uu.exec(d.textContent||"");if(y){const e=c[parseInt(y[1],10)];Iu(r,zc,"",l,a),wu(t,n,i,l,e,a),Tu(s,a,u)}}d=d.nextSibling}return h}function Ou(t,e,n){0===n&&t.push(e)}function Tu(t,e,n){0===n&&(t.push(~e),t.push(e))}function Iu(t,e,n,i,r){null!==e&&t.push(e),t.push(n,r,0|i<<17|r<<1)}function Su(t,e,n){t.push(e<<1|1,n.name,n.value)}const Eu=/\[(\ufffd.+?\ufffd?)\]/,Mu=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Au=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Nu=/{([A-Z0-9_]+)}/g,Ru=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Du=/\/\*/,Lu=/\d+\:(\d+)/;function Fu(t,e,n=-1){const i=Yt(),r=Kt(),s=dt+t,o=Vt(i.consts,e),a=te();i.firstCreatePass&&function(t,e,n,i,r,s){const o=te(),a=[],l=[],c=[[]],u=(h=r=function(t,e){if(function(t){return-1===t}(e))return bu(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,i=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return bu(t.substring(n,i))}}(r,s),h.replace(fu," ")).split(pu);var h;for(let d=0;d<u.length;d++){let i=u[d];if(0==(1&d)){const s=xu(i);for(let i=0;i<s.length;i++){let u=s[i];if(0==(1&i)){const e=u;""!==e&&mu(t,o,c[0],a,l,n,e)}else{const i=u;if("object"!=typeof i)throw new Error(`Unable to parse ICU expression in "${r}" message.`);wu(t,n,l,e,i,gu(t,o,c[0],n,a,"",!0).index)}}}else{const e=47===i.charCodeAt(0),n=(i.charCodeAt(e?1:0),dt+Number.parseInt(i.substring(e?2:1)));if(e)c.shift(),ee(te(),!1);else{const e=Xc(t,c[0],n);c.unshift([]),ee(e,!0)}}}t.data[i]={create:a,update:l}}(i,null===a?0:a.index,r,s,o,n);const l=i.data[s],c=Wr(i,a===r[6]?null:a,r);!function(t,e,n,i){const r=t[11];for(let s=0;s<e.length;s++){const o=e[s++],a=e[s],l=(o&Vc.COMMENT)===Vc.COMMENT,c=(o&Vc.APPEND_EAGERLY)===Vc.APPEND_EAGERLY,u=o>>>Vc.SHIFT;let h=t[u];null===h&&(h=t[u]=l?r.createComment(a):qr(r,a)),c&&null!==n&&Kr(r,n,h,i,!1)}}(r,l.create,c,a&&8&a.type?r[a.index]:null),he(!0)}function Uu(){he(!1)}function qu(t,e,n){Fu(t,e,n),Uu()}function ju(t,e){const n=Yt(),i=Vt(n.consts,e);!function(t,e,n){const i=Jt().index,r=[];if(t.firstCreatePass&&null===t.data[e]){for(let t=0;t<n.length;t+=2){const e=n[t],s=n[t+1];if(""!==s){if(cu.test(s))throw new Error(`ICU expressions are not supported in attributes. Message: "${s}".`);yu(r,s,i,e,_u(r),null)}}t.data[e]=r}}(n,t+dt,i)}function zu(t){return aa(Kt(),ce(),t)&&(eu|=1<<Math.min(nu,31)),nu++,zu}function Vu(t){!function(t,e,n){if(nu>0){const i=t.data[n];ru(t,e,Array.isArray(i)?i:i.update,ae()-nu-1,eu)}eu=0,nu=0}(Yt(),Kt(),t+dt)}function Bu(t,e={}){return function(t,e={}){let n=t;if(Eu.test(t)){const t={},e=[0];n=n.replace(Mu,(n,i,r)=>{const s=i||r,o=t[s]||[];if(o.length||(s.split("|").forEach(t=>{const e=t.match(Lu),n=e?parseInt(e[1],10):0,i=Du.test(t);o.push([n,i,t])}),t[s]=o),!o.length)throw new Error(`i18n postprocess: unmatched placeholder - ${s}`);const a=e[e.length-1];let l=0;for(let t=0;t<o.length;t++)if(o[t][0]===a){l=t;break}const[c,u,h]=o[l];return u?e.pop():a!==c&&e.push(c),o.splice(l,1),h})}return Object.keys(e).length?(n=n.replace(Au,(t,n,i,r,s,o)=>e.hasOwnProperty(i)?`${n}${e[i]}${o}`:t),n=n.replace(Nu,(t,n)=>e.hasOwnProperty(n)?e[n]:t),n=n.replace(Ru,(t,n)=>{if(e.hasOwnProperty(n)){const i=e[n];if(!i.length)throw new Error(`i18n postprocess: unmatched ICU - ${t} with key: ${n}`);return i.shift()}return t}),n):n}(t,e)}function Hu(t,e,n,i,r){if(t=f(t),Array.isArray(t))for(let s=0;s<t.length;s++)Hu(t[s],e,n,i,r);else{const s=Yt(),o=Kt();let a=zo(t)?t:f(t.provide),l=Uo(t);const c=Jt(),u=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(zo(t)||!t.multi){const i=new Ue(l,r,Ua),p=Zu(a,e,r?u:u+d,h);-1===p?(tn(Ye(c,o),s,a),$u(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(i),o.push(i)):(n[p]=i,o[p]=i)}else{const p=Zu(a,e,u+d,h),f=Zu(a,e,u,u+d),g=p>=0&&n[p],m=f>=0&&n[f];if(r&&!m||!r&&!g){tn(Ye(c,o),s,a);const u=function(t,e,n,i,r){const s=new Ue(t,n,Ua);return s.multi=[],s.index=e,s.componentProviders=0,Gu(s,r,i&&!n),s}(r?Ku:Wu,n.length,r,i,l);!r&&m&&(n[f].providerFactory=u),$u(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(u),o.push(u)}else $u(s,t,p>-1?p:f,Gu(n[r?f:p],l,!r&&i));!r&&i&&m&&n[f].componentProviders++}}}function $u(t,e,n,i){const r=zo(e);if(r||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[i,s]):o[t+1].push(i,s)}else o.push(n,s)}}}function Gu(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Zu(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function Wu(t,e,n,i){return Yu(this.multi,[])}function Ku(t,e,n,i){const r=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=cn(n,n[1],this.providerFactory.index,i);s=e.slice(0,t),Yu(r,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Yu(r,s);return s}function Yu(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Qu(t,e=[]){return n=>{n.providersResolver=(n,i)=>function(t,e,n){const i=Yt();if(i.firstCreatePass){const r=vt(t);Hu(n,i.data,i.blueprint,r,!0),Hu(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}class Ju{}class Xu{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${u(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let th=(()=>{class t{}return t.NULL=new Xu,t})();function eh(...t){}function nh(t,e){return new rh(Lt(t,e))}const ih=function(){return nh(Jt(),Kt())};let rh=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=ih,t})();function sh(t){return t instanceof rh?t.nativeElement:t}class oh{}let ah=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>lh(),t})();const lh=function(){const t=Kt(),e=qt(Jt().index,t);return function(t){return t[11]}(ft(e)?e:t)};let ch=(()=>{class t{}return t.\u0275prov=w({token:t,providedIn:"root",factory:()=>null}),t})();class uh{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const hh=new uh("12.0.5");class dh{constructor(){}supports(t){return ia(t)}create(t){return new fh(t)}}const ph=(t,e)=>e;class fh{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ph}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const s=!n||e&&e.currentIndex<_h(n,i,r)?e:n,o=_h(s,i,r),a=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{r||(r=[]);const t=o-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,s=i+n;e<=s&&s<t&&(r[n]=i+1)}r[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ia(t))throw new Error(`Error trying to diff '${u(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,n,i,e)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),s=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ea()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,t,i,e)),Object.is(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),s=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):t=this._addAfter(new gh(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new yh),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yh),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class gh{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mh{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class yh{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new mh,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _h(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class vh{constructor(){}supports(t){return t instanceof Map||ra(t)}create(){return new bh}}class bh{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ra(t)))throw new Error(`Error trying to diff '${u(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new wh(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class wh{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ch(){return new xh([new dh])}let xh=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ch()),deps:[[t,new oi,new ri]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=w({token:t,providedIn:"root",factory:Ch}),t})();function Ph(){return new kh([new vh])}let kh=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ph()),deps:[[t,new oi,new ri]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=w({token:t,providedIn:"root",factory:Ph}),t})();function Oh(t,e,n,i,r=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&i.push(Rt(s)),gt(s))for(let t=pt;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Oh(e[1],e,n,i)}const o=n.type;if(8&o)Oh(t,e,n.child,i);else if(32&o){const t=Nr(n,e);let r;for(;r=t();)i.push(r)}else if(16&o){const t=os(e,n);if(Array.isArray(t))i.push(...t);else{const n=Rr(e[16]);Oh(n[1],n,t,i,!0)}}n=r?n.projectionNext:n.next}return i}class Th{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Oh(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(gt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Hr(t,n),Rn(e,n))}this._attachedToViewContainer=!1}$r(this._lView[1],this._lView)}onDestroy(t){Ks(this._lView[1],this._lView,null,t)}markForCheck(){mo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){yo(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){se(!0);try{yo(t,e,n)}finally{se(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,us(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ih extends Th{constructor(t){super(t),this._view=t}detectChanges(){_o(this._view)}checkNoChanges(){!function(t){se(!0);try{_o(t)}finally{se(!1)}}(this._view)}get context(){return null}}const Sh=function(t){return function(t,e,n){if(yt(t)&&!n){const n=qt(t.index,e);return new Th(n,n)}return 47&t.type?new Th(e[16],e):null}(Jt(),Kt(),16==(16&t))};let Eh=(()=>{class t{}return t.__NG_ELEMENT_ID__=Sh,t})();const Mh=[new vh],Ah=new xh([new dh]),Nh=new kh(Mh),Rh=function(){return Uh(Jt(),Kt())};let Dh=(()=>{class t{}return t.__NG_ELEMENT_ID__=Rh,t})();const Lh=Dh,Fh=class extends Lh{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ls(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),js(e,n,t),new Th(n)}};function Uh(t,e){return 4&t.type?new Fh(e,t,nh(t,e)):null}class qh{}class jh{}const zh=function(){return Zh(Jt(),Kt())};let Vh=(()=>{class t{}return t.__NG_ELEMENT_ID__=zh,t})();const Bh=Vh,Hh=class extends Bh{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return nh(this._hostTNode,this._hostLView)}get injector(){return new dn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Xe(this._hostTNode,this._hostLView);if(He(t)){const e=Ge(t,this._hostLView),n=$e(t);return new dn(e[1].data[n+8],e)}return new dn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=$h(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-pt}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const s=n||this.parentInjector;if(!r&&null==t.ngModule&&s){const t=s.get(qh,null);t&&(r=t)}const o=t.create(s,i,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,i=n[1];if(gt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new Hh(e,e[6],e[3]);i.detach(i.indexOf(t))}}const r=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,i){const r=pt+i,s=n.length;i>0&&(n[r-1][4]=e),i<s-pt?(e[4]=n[r],Nn(n,pt+i,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,n,s,r);const o=as(r,s),a=n[11],l=Jr(a,s[7]);return null!==l&&function(t,e,n,i,r,s){i[0]=r,i[6]=e,us(t,i,n,1,r,s)}(i,s[6],a,n,l,o),t.attachToViewContainerRef(),Nn(Gh(s),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=$h(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Hr(this._lContainer,e);n&&(Rn(Gh(this._lContainer),e),$r(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Hr(this._lContainer,e);return n&&null!=Rn(Gh(this._lContainer),e)?new Th(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function $h(t){return t[8]}function Gh(t){return t[8]||(t[8]=[])}function Zh(t,e){let n;const i=e[t.index];if(gt(i))n=i;else{let r;if(8&t.type)r=Rt(i);else{const n=e[11];r=n.createComment("");const i=Lt(t,e);Kr(n,Jr(n,i),r,function(t,e){return At(t)?t.nextSibling(e):e.nextSibling}(n,i),!1)}e[t.index]=n=uo(i,e,r,t),go(e,n)}return new Hh(n,t,e)}const Wh={};class Kh extends th{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=lt(t);return new Jh(e,this.ngModule)}}function Yh(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Qh=new Pn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Or});class Jh extends Ju{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ks).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Yh(this.componentDef.inputs)}get outputs(){return Yh(this.componentDef.outputs)}create(t,e,n,i){const r=(i=i||this.ngModule)?function(t,e){return{get:(n,i,r)=>{const s=t.get(n,Wh,r);return s!==Wh||i===Wh?s:e.get(n,i,r)}}}(t,i.injector):t,s=r.get(oh,Nt),o=r.get(ch,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(At(t))return t.selectRootElement(e,n===L.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(a,n,this.componentDef.encapsulation):Vr(s.createRenderer(null,this.componentDef),l,function(t){const e=t.toLowerCase();return"svg"===e?Tt:"math"===e?It:null}(l)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:Or,clean:bo,playerHandler:null,flags:0},d=Ws(0,null,null,1,0,null,null,null,null,null),p=Ls(null,d,h,u,null,null,s,a,o,r);let f,g;ve(p);try{const t=function(t,e,n,i,r,s){const o=n[1];n[20]=t;const a=Fs(o,20,2,"#host",null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(To(a,l,!0),null!==t&&(qe(r,t,l),null!==a.classes&&ps(r,t,a.classes),null!==a.styles&&ds(r,t,a.styles)));const c=i.createRenderer(t,e),u=Ls(n,Zs(e),null,e.onPush?64:16,n[20],a,i,c,null,null);return o.firstCreatePass&&(tn(Ye(a,n),o,e.type),eo(o,a),io(a,n.length,1)),go(n,u),n[20]=u}(c,this.componentDef,p,s,a);if(c)if(n)qe(a,c,["ng-version",hh.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let s=t[i];if("string"==typeof s)2===r?""!==s&&e.push(s,t[++i]):8===r&&n.push(s);else{if(!bs(r))break;r=s}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&qe(a,c,t),e&&e.length>0&&ps(a,c,e.join(" "))}if(g=Ft(d,dt),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=e[n];t.push(null!=i?Array.from(i):null)}}f=function(t,e,n,i,r){const s=n[1],o=function(t,e,n){const i=Jt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ro(t,i,e,qs(t,e,1,null),n));const r=cn(e,t,i.directiveStart,i);_r(r,e);const s=Lt(i,e);return s&&_r(s,e),r}(s,n,e);if(i.components.push(o),t[8]=o,r&&r.forEach(t=>t(o,e)),e.contentQueries){const t=Jt();e.contentQueries(1,o,t.directiveStart)}const a=Jt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Oe(a.index),Xs(n[1],a,0,a.directiveStart,a.directiveEnd,e),to(e,o)),o}(t,this.componentDef,p,h,[Ho]),js(d,p,null)}finally{Pe()}return new Xh(this.componentType,f,nh(g,p),p,g)}}class Xh extends class{}{constructor(t,e,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new Ih(i),this.componentType=t}get injector(){return new dn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function td(t,e,n,i){return R(()=>{const r=t;null!==e&&(r.hasOwnProperty("decorators")&&void 0!==r.decorators?r.decorators.push(...e):r.decorators=e),null!==n&&(r.ctorParameters=n),null!==i&&(r.propDecorators=r.hasOwnProperty("propDecorators")&&void 0!==r.propDecorators?Object.assign(Object.assign({},r.propDecorators),i):i)})}const ed=new Map;class nd extends qh{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Kh(this);const n=ht(t),i=t[W]||null;i&&Hc(i),this._bootstrapComponents=Er(n.bootstrap),this._r3Injector=Do(t,e,[{provide:qh,useValue:this},{provide:th,useValue:this.componentFactoryResolver}],u(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Bo.THROW_IF_NOT_FOUND,n=E.Default){return t===Bo||t===qh||t===Io?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class id extends jh{constructor(t){super(),this.moduleType=t,null!==ht(t)&&function(t){const e=new Set;!function t(n){const i=ht(n,!0),r=i.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${u(e)} vs ${u(e.name)}`)}(r,ed.get(r),n),ed.set(r,n));const s=Er(i.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new nd(this.moduleType,t)}}function rd(t,e,n){const i=oe()+t,r=Kt();return r[i]===Os?sa(r,i,n?e.call(n):e()):oa(r,i)}function sd(t,e,n,i){return gd(Kt(),oe(),t,e,n,i)}function od(t,e,n,i,r){return md(Kt(),oe(),t,e,n,i,r)}function ad(t,e,n,i,r,s){return yd(Kt(),oe(),t,e,n,i,r,s)}function ld(t,e,n,i,r,s,o){return _d(Kt(),oe(),t,e,n,i,r,s,o)}function cd(t,e,n,i,r,s,o,a){const l=oe()+t,c=Kt(),u=ua(c,l,n,i,r,s);return aa(c,l+4,o)||u?sa(c,l+5,a?e.call(a,n,i,r,s,o):e(n,i,r,s,o)):oa(c,l+5)}function ud(t,e,n,i,r,s,o,a,l){const c=oe()+t,u=Kt(),h=ua(u,c,n,i,r,s);return la(u,c+4,o,a)||h?sa(u,c+6,l?e.call(l,n,i,r,s,o,a):e(n,i,r,s,o,a)):oa(u,c+6)}function hd(t,e,n,i,r,s,o,a,l,c){const u=oe()+t,h=Kt();let d=ua(h,u,n,i,r,s);return ca(h,u+4,o,a,l)||d?sa(h,u+7,c?e.call(c,n,i,r,s,o,a,l):e(n,i,r,s,o,a,l)):oa(h,u+7)}function dd(t,e,n,i,r,s,o,a,l,c,u){const h=oe()+t,d=Kt(),p=ua(d,h,n,i,r,s);return ua(d,h+4,o,a,l,c)||p?sa(d,h+8,u?e.call(u,n,i,r,s,o,a,l,c):e(n,i,r,s,o,a,l,c)):oa(d,h+8)}function pd(t,e,n,i){return vd(Kt(),oe(),t,e,n,i)}function fd(t,e){const n=t[e];return n===Os?void 0:n}function gd(t,e,n,i,r,s){const o=e+n;return aa(t,o,r)?sa(t,o+1,s?i.call(s,r):i(r)):fd(t,o+1)}function md(t,e,n,i,r,s,o){const a=e+n;return la(t,a,r,s)?sa(t,a+2,o?i.call(o,r,s):i(r,s)):fd(t,a+2)}function yd(t,e,n,i,r,s,o,a){const l=e+n;return ca(t,l,r,s,o)?sa(t,l+3,a?i.call(a,r,s,o):i(r,s,o)):fd(t,l+3)}function _d(t,e,n,i,r,s,o,a,l){const c=e+n;return ua(t,c,r,s,o,a)?sa(t,c+4,l?i.call(l,r,s,o,a):i(r,s,o,a)):fd(t,c+4)}function vd(t,e,n,i,r,s){let o=e+n,a=!1;for(let l=0;l<r.length;l++)aa(t,o++,r[l])&&(a=!0);return a?sa(t,o,i.apply(s,r)):fd(t,o)}function bd(t,e){const n=Yt();let i;const r=t+dt;n.firstCreatePass?(i=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const i=e[n];if(t===i.name)return i}throw new m("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const s=i.factory||(i.factory=bt(i.type)),o=A(Ua);try{const t=We(!1),e=s();return We(t),function(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}(n,Kt(),r,e),e}finally{A(o)}}function wd(t,e,n){const i=t+dt,r=Kt(),s=Ut(r,i);return Td(r,Od(r,i)?gd(r,oe(),e,s.transform,n,s):s.transform(n))}function Cd(t,e,n,i){const r=t+dt,s=Kt(),o=Ut(s,r);return Td(s,Od(s,r)?md(s,oe(),e,o.transform,n,i,o):o.transform(n,i))}function xd(t,e,n,i,r){const s=t+dt,o=Kt(),a=Ut(o,s);return Td(o,Od(o,s)?yd(o,oe(),e,a.transform,n,i,r,a):a.transform(n,i,r))}function Pd(t,e,n,i,r,s){const o=t+dt,a=Kt(),l=Ut(a,o);return Td(a,Od(a,o)?_d(a,oe(),e,l.transform,n,i,r,s,l):l.transform(n,i,r,s))}function kd(t,e,n){const i=t+dt,r=Kt(),s=Ut(r,i);return Td(r,Od(r,i)?vd(r,oe(),e,s.transform,n,s):s.transform.apply(s,n))}function Od(t,e){return t[1].data[e].pure}function Td(t,e){return na.isWrapped(e)&&(e=na.unwrap(e),t[ae()]=Os),e}function Id(t){return e=>{setTimeout(t,void 0,e)}}const Sd=class extends i.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var i,s,o;let a=t,l=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(i=e.next)||void 0===i?void 0:i.bind(e),l=null===(s=e.error)||void 0===s?void 0:s.bind(e),c=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(l=Id(l),a&&(a=Id(a)),c&&(c=Id(c)));const u=super.subscribe({next:a,error:l,complete:c});return t instanceof r.w&&t.add(u),u}};function Ed(){return this._results[ea()]()}class Md{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=ea(),n=Md.prototype;n[e]||(n[e]=Ed)}get changes(){return this._changes||(this._changes=new Sd)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const i=Mn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}(n._results,i,e))&&(n._results=i,n.length=i.length,n.last=i[this.length-1],n.first=i[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ad{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ad(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nd{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new Nd(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Zd(t,e).matches&&this.queries[e].setDirty()}}class Rd{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Dd{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,i);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new Dd(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ld{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ld(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const r=n[i];this.matchTNodeWithReadOption(t,e,Fd(e,r)),this.matchTNodeWithReadOption(t,e,ln(e,t,r,!1,!1))}else n===Dh?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ln(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===rh||i===Vh||i===Dh&&4&e.type)this.addMatch(e.index,-2);else{const n=ln(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Fd(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function Ud(t,e,n,i){return-1===n?function(t,e){return 11&t.type?nh(t,e):4&t.type?Uh(t,e):null}(e,t):-2===n?function(t,e,n){return n===rh?nh(e,t):n===Dh?Uh(e,t):n===Vh?Zh(e,t):void 0}(t,e,i):cn(t,t[1],n,e)}function qd(t,e,n,i){const r=e[19].queries[i];if(null===r.matches){const i=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const r=s[t];o.push(r<0?null:Ud(e,i[r],s[t+1],n.metadata.read))}r.matches=o}return r.matches}function jd(t,e,n,i){const r=t.queries.getByIndex(n),s=r.matches;if(null!==s){const o=qd(t,e,r,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)i.push(o[t/2]);else{const r=s[t+1],o=e[-n];for(let t=pt;t<o.length;t++){const e=o[t];e[17]===e[3]&&jd(e[1],e,r,i)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];jd(n[1],n,r,i)}}}}}return i}function zd(t){const e=Kt(),n=Yt(),i=ge();me(i+1);const r=Zd(n,i);if(t.dirty&&jt(e)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const s=r.crossesNgTemplate?jd(n,e,i,[]):qd(n,e,r,i);t.reset(s,sh),t.notifyOnChanges()}return!0}return!1}function Vd(t,e,n){const i=Yt();i.firstCreatePass&&(Gd(i,new Rd(t,e,n),-1),2==(2&e)&&(i.staticViewQueries=!0)),$d(i,Kt(),e)}function Bd(t,e,n,i){const r=Yt();if(r.firstCreatePass){const s=Jt();Gd(r,new Rd(e,n,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(r,t),2==(2&n)&&(r.staticContentQueries=!0)}$d(r,Kt(),n)}function Hd(){return t=Kt(),e=ge(),t[19].queries[e].queryList;var t,e}function $d(t,e,n){const i=new Md(4==(4&n));Ks(t,e,i,i.destroy),null===e[19]&&(e[19]=new Nd),e[19].queries.push(new Ad(i))}function Gd(t,e,n){null===t.queries&&(t.queries=new Dd),t.queries.track(new Ld(e,n))}function Zd(t,e){return t.queries.getByIndex(e)}function Wd(t,e){return Uh(t,e)}const Kd=(()=>({"\u0275\u0275attribute":ha,"\u0275\u0275attributeInterpolate1":wa,"\u0275\u0275attributeInterpolate2":Ca,"\u0275\u0275attributeInterpolate3":xa,"\u0275\u0275attributeInterpolate4":Pa,"\u0275\u0275attributeInterpolate5":ka,"\u0275\u0275attributeInterpolate6":Oa,"\u0275\u0275attributeInterpolate7":Ta,"\u0275\u0275attributeInterpolate8":Ia,"\u0275\u0275attributeInterpolateV":Sa,"\u0275\u0275defineComponent":J,"\u0275\u0275defineDirective":ot,"\u0275\u0275defineInjectable":w,"\u0275\u0275defineInjector":C,"\u0275\u0275defineNgModule":it,"\u0275\u0275definePipe":at,"\u0275\u0275directiveInject":Ua,"\u0275\u0275getInheritedFactory":pn,"\u0275\u0275inject":Xn,"\u0275\u0275injectAttribute":gn,"\u0275\u0275invalidFactory":qa,"\u0275\u0275invalidFactoryDep":ti,"\u0275\u0275templateRefExtractor":Wd,"\u0275\u0275NgOnChangesFeature":Ct,"\u0275\u0275ProvidersFeature":Qu,"\u0275\u0275CopyDefinitionFeature":Xo,"\u0275\u0275InheritDefinitionFeature":Go,"\u0275\u0275nextContext":il,"\u0275\u0275namespaceHTML":Ee,"\u0275\u0275namespaceMathML":Se,"\u0275\u0275namespaceSVG":Ie,"\u0275\u0275enableBindings":Zt,"\u0275\u0275disableBindings":Wt,"\u0275\u0275elementStart":Va,"\u0275\u0275elementEnd":Ba,"\u0275\u0275element":Ha,"\u0275\u0275elementContainerStart":$a,"\u0275\u0275elementContainerEnd":Ga,"\u0275\u0275elementContainer":Za,"\u0275\u0275pureFunction0":rd,"\u0275\u0275pureFunction1":sd,"\u0275\u0275pureFunction2":od,"\u0275\u0275pureFunction3":ad,"\u0275\u0275pureFunction4":ld,"\u0275\u0275pureFunction5":cd,"\u0275\u0275pureFunction6":ud,"\u0275\u0275pureFunction7":hd,"\u0275\u0275pureFunction8":dd,"\u0275\u0275pureFunctionV":pd,"\u0275\u0275getCurrentView":Wa,"\u0275\u0275restoreView":Qt,"\u0275\u0275listener":Ja,"\u0275\u0275projection":ol,"\u0275\u0275syntheticHostProperty":Ec,"\u0275\u0275syntheticHostListener":Xa,"\u0275\u0275pipeBind1":wd,"\u0275\u0275pipeBind2":Cd,"\u0275\u0275pipeBind3":xd,"\u0275\u0275pipeBind4":Pd,"\u0275\u0275pipeBindV":kd,"\u0275\u0275projectionDef":sl,"\u0275\u0275hostProperty":Sc,"\u0275\u0275property":ja,"\u0275\u0275propertyInterpolate":al,"\u0275\u0275propertyInterpolate1":ll,"\u0275\u0275propertyInterpolate2":cl,"\u0275\u0275propertyInterpolate3":ul,"\u0275\u0275propertyInterpolate4":hl,"\u0275\u0275propertyInterpolate5":dl,"\u0275\u0275propertyInterpolate6":pl,"\u0275\u0275propertyInterpolate7":fl,"\u0275\u0275propertyInterpolate8":gl,"\u0275\u0275propertyInterpolateV":ml,"\u0275\u0275pipe":bd,"\u0275\u0275queryRefresh":zd,"\u0275\u0275viewQuery":Vd,"\u0275\u0275loadQuery":Hd,"\u0275\u0275contentQuery":Bd,"\u0275\u0275reference":Ma,"\u0275\u0275classMap":Al,"\u0275\u0275classMapInterpolate1":nc,"\u0275\u0275classMapInterpolate2":ic,"\u0275\u0275classMapInterpolate3":rc,"\u0275\u0275classMapInterpolate4":sc,"\u0275\u0275classMapInterpolate5":oc,"\u0275\u0275classMapInterpolate6":ac,"\u0275\u0275classMapInterpolate7":lc,"\u0275\u0275classMapInterpolate8":cc,"\u0275\u0275classMapInterpolateV":uc,"\u0275\u0275styleMap":El,"\u0275\u0275styleMapInterpolate1":hc,"\u0275\u0275styleMapInterpolate2":dc,"\u0275\u0275styleMapInterpolate3":pc,"\u0275\u0275styleMapInterpolate4":fc,"\u0275\u0275styleMapInterpolate5":gc,"\u0275\u0275styleMapInterpolate6":mc,"\u0275\u0275styleMapInterpolate7":yc,"\u0275\u0275styleMapInterpolate8":_c,"\u0275\u0275styleMapInterpolateV":vc,"\u0275\u0275styleProp":Il,"\u0275\u0275stylePropInterpolate1":bc,"\u0275\u0275stylePropInterpolate2":wc,"\u0275\u0275stylePropInterpolate3":Cc,"\u0275\u0275stylePropInterpolate4":xc,"\u0275\u0275stylePropInterpolate5":Pc,"\u0275\u0275stylePropInterpolate6":kc,"\u0275\u0275stylePropInterpolate7":Oc,"\u0275\u0275stylePropInterpolate8":Tc,"\u0275\u0275stylePropInterpolateV":Ic,"\u0275\u0275classProp":Sl,"\u0275\u0275advance":Ts,"\u0275\u0275template":Ea,"\u0275\u0275text":$l,"\u0275\u0275textInterpolate":Gl,"\u0275\u0275textInterpolate1":Zl,"\u0275\u0275textInterpolate2":Wl,"\u0275\u0275textInterpolate3":Kl,"\u0275\u0275textInterpolate4":Yl,"\u0275\u0275textInterpolate5":Ql,"\u0275\u0275textInterpolate6":Jl,"\u0275\u0275textInterpolate7":Xl,"\u0275\u0275textInterpolate8":tc,"\u0275\u0275textInterpolateV":ec,"\u0275\u0275i18n":qu,"\u0275\u0275i18nAttributes":ju,"\u0275\u0275i18nExp":zu,"\u0275\u0275i18nStart":Fu,"\u0275\u0275i18nEnd":Uu,"\u0275\u0275i18nApply":Vu,"\u0275\u0275i18nPostprocess":Bu,"\u0275\u0275resolveWindow":Tr,"\u0275\u0275resolveDocument":Ir,"\u0275\u0275resolveBody":Sr,"\u0275\u0275setComponentScope":X,"\u0275\u0275setNgModuleScope":rt,"\u0275\u0275sanitizeHtml":cr,"\u0275\u0275sanitizeStyle":ur,"\u0275\u0275sanitizeResourceUrl":dr,"\u0275\u0275sanitizeScript":pr,"\u0275\u0275sanitizeUrl":hr,"\u0275\u0275sanitizeUrlOrResourceUrl":mr,"\u0275\u0275trustConstantHtml":fr,"\u0275\u0275trustConstantResourceUrl":gr,forwardRef:p,resolveForwardRef:f}))();const Yd=[];let Qd=!1;function Jd(t){return Array.isArray(t)?t.every(Jd):!!f(t)}function Xd(t,e){const n=Mn(e.declarations||B),i=ep(t);n.forEach(e=>{e.hasOwnProperty(H)?tp(lt(e),i):e.hasOwnProperty($)||e.hasOwnProperty(G)||(e.ngSelectorScope=t)})}function tp(t,e){t.directiveDefs=()=>Array.from(e.compilation.directives).map(t=>t.hasOwnProperty(H)?lt(t):ct(t)).filter(t=>!!t),t.pipeDefs=()=>Array.from(e.compilation.pipes).map(t=>ut(t)),t.schemas=e.schemas,t.tView=null}function ep(t){if(!ip(t))throw new Error(`${t.name} does not have a module def (\u0275mod property)`);const e=ht(t);if(null!==e.transitiveCompileScopes)return e.transitiveCompileScopes;const n={schemas:e.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Er(e.imports).forEach(t=>{const e=t;if(!ip(e))throw new Error(`Importing ${e.name} which does not have a \u0275mod property`);const i=ep(e);i.exported.directives.forEach(t=>n.compilation.directives.add(t)),i.exported.pipes.forEach(t=>n.compilation.pipes.add(t))}),Er(e.declarations).forEach(t=>{ut(t)?n.compilation.pipes.add(t):n.compilation.directives.add(t)}),Er(e.exports).forEach(t=>{const e=t;if(ip(e)){const t=ep(e);t.exported.directives.forEach(t=>{n.compilation.directives.add(t),n.exported.directives.add(t)}),t.exported.pipes.forEach(t=>{n.compilation.pipes.add(t),n.exported.pipes.add(t)})}else ut(e)?n.exported.pipes.add(e):n.exported.directives.add(e)}),e.transitiveCompileScopes=n,n}function np(t){return function(t){return void 0!==t.ngModule}(t)?t.ngModule:t}function ip(t){return!!ht(t)}let rp=0;function sp(t,e){let n=null;ap(t,e||{}),Object.defineProperty(t,$,{get:()=>{if(null===n){const i=op(t,e||{});n=In().compileDirective(Kd,i.sourceMapUrl,i.metadata)}return n},configurable:!1})}function op(t,e){const n=t&&t.name,i=`ng:///${n}/\u0275dir.js`,r=In(),s=cp(t,e);return s.typeSourceSpan=r.createParseSourceSpan("Directive",n,i),s.usesInheritance&&up(t),{metadata:s,sourceMapUrl:i}}function ap(t,e){let n=null;Object.defineProperty(t,K,{get:()=>{if(null===n){const i=op(t,e),r=In();n=r.compileFactory(Kd,`ng:///${t.name}/\u0275fac.js`,{name:i.metadata.name,type:i.metadata.type,typeArgumentCount:0,deps:ui(t),target:r.FactoryTarget.Directive})}return n},configurable:!1})}function lp(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function cp(t,e){const n=ci(),i=n.ownPropMetadata(t);return{name:t.name,type:t,selector:void 0!==e.selector?e.selector:null,host:e.host||V,propMetadata:i,inputs:e.inputs||B,outputs:e.outputs||B,queries:dp(t,i,pp),lifecycle:{usesOnChanges:n.hasLifecycleHook(t,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!lp(t),exportAs:(r=e.exportAs,void 0===r?null:mp(r)),providers:e.providers||null,viewQueries:dp(t,i,fp)};var r}function up(t){const e=Object.prototype;let n=Object.getPrototypeOf(t.prototype).constructor;for(;n&&n!==e;)ct(n)||lt(n)||!_p(n)||sp(n,null),n=Object.getPrototypeOf(n)}function hp(t,e){return{propertyName:t,predicate:(n=e.selector,"string"==typeof n?mp(n):f(n)),descendants:e.descendants,first:e.first,read:e.read?e.read:null,static:!!e.static,emitDistinctChangesOnly:!!e.emitDistinctChangesOnly};var n}function dp(t,e,n){const i=[];for(const r in e)if(e.hasOwnProperty(r)){const s=e[r];s.forEach(e=>{if(n(e)){if(!e.selector)throw new Error(`Can't construct a query for the property "${r}" of "${_(t)}" since the query selector wasn't defined.`);if(s.some(gp))throw new Error("Cannot combine @Input decorators with query decorators");i.push(hp(r,e))}})}return i}function pp(t){const e=t.ngMetadataName;return"ContentChild"===e||"ContentChildren"===e}function fp(t){const e=t.ngMetadataName;return"ViewChild"===e||"ViewChildren"===e}function gp(t){return"Input"===t.ngMetadataName}function mp(t){return t.split(",").map(t=>t.trim())}const yp=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function _p(t){const e=ci();if(yp.some(n=>e.hasLifecycleHook(t,n)))return!0;const n=e.propMetadata(t);for(const i in n){const t=n[i];for(let e=0;e<t.length;e++){const n=t[e],i=n.ngMetadataName;if(gp(n)||pp(n)||fp(n)||"Output"===i||"HostBinding"===i||"HostListener"===i)return!0}}return!1}function vp(t,e){return{type:t,name:t.name,pipeName:e.name,pure:void 0===e.pure||e.pure}}const bp=vn("Component",(t={})=>Object.assign({changeDetection:D.Default},t),vn("Directive",(t={})=>t,void 0,void 0,(t,e)=>kp(t,e)),void 0,(t,e)=>Pp(t,e)),wp=vn("Pipe",t=>Object.assign({pure:!0},t),void 0,void 0,(t,e)=>Op(t,e)),Cp=Cn("Input",t=>({bindingPropertyName:t})),xp=Cn("HostListener",(t,e)=>({eventName:t,args:e})),Pp=function(t,e){let n=null;!function(t,e){fi(e)&&(di.set(t,e),pi.add(t))}(t,e),ap(t,e),Object.defineProperty(t,H,{get:()=>{if(null===n){const i=In();if(fi(e)){const n=[`Component '${t.name}' is not resolved:`];throw e.templateUrl&&n.push(` - templateUrl: ${e.templateUrl}`),e.styleUrls&&e.styleUrls.length&&n.push(` - styleUrls: ${JSON.stringify(e.styleUrls)}`),n.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(n.join("\n"))}const r=null;let s=e.preserveWhitespaces;void 0===s&&(s=null!==r&&void 0!==r.preserveWhitespaces&&r.preserveWhitespaces);let o=e.encapsulation;void 0===o&&(o=null!==r&&void 0!==r.defaultEncapsulation?r.defaultEncapsulation:L.Emulated);const a=e.templateUrl||`ng:///${t.name}/template.html`,l=Object.assign(Object.assign({},cp(t,e)),{typeSourceSpan:i.createParseSourceSpan("Component",t.name,a),template:e.template||"",preserveWhitespaces:s,styles:e.styles||B,animations:e.animations,directives:[],changeDetection:e.changeDetection,pipes:new Map,encapsulation:o,interpolation:e.interpolation,viewProviders:e.viewProviders||null});rp++;try{l.usesInheritance&&up(t),n=i.compileComponent(Kd,a,l)}finally{rp--}if(0===rp&&function(){if(!Qd){Qd=!0;try{for(let t=Yd.length-1;t>=0;t--){const{moduleType:e,ngModule:n}=Yd[t];n.declarations&&n.declarations.every(Jd)&&(Yd.splice(t,1),Xd(e,n))}}finally{Qd=!1}}}(),void 0!==t.ngSelectorScope){const e=ep(t.ngSelectorScope);tp(n,e)}}return n},configurable:!1})},kp=sp,Op=function(t,e){let n=null,i=null;Object.defineProperty(t,K,{get:()=>{if(null===i){const n=vp(t,e),r=In();i=r.compileFactory(Kd,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n.type,typeArgumentCount:0,deps:ui(t),target:r.FactoryTarget.Pipe})}return i},configurable:!1}),Object.defineProperty(t,G,{get:()=>{if(null===n){const i=vp(t,e);n=In().compilePipe(Kd,`ng:///${i.name}/\u0275pipe.js`,i)}return n},configurable:!1})},Tp=vn("NgModule",t=>t,void 0,void 0,(t,e)=>Ip(t,e)),Ip=function(t,e={}){!function(t,e,n=!1){const i=Mn(e.declarations||B);let r=null;Object.defineProperty(t,Z,{configurable:!0,get:()=>(null===r&&(r=In().compileNgModule(Kd,`ng:///${t.name}/\u0275mod.js`,{type:t,bootstrap:Mn(e.bootstrap||B).map(f),declarations:i.map(f),imports:Mn(e.imports||B).map(f).map(np),exports:Mn(e.exports||B).map(f).map(np),schemas:e.schemas?Mn(e.schemas):null,id:e.id||null}),r.schemas||(r.schemas=[])),r)});let s=null;Object.defineProperty(t,K,{get:()=>{if(null===s){const e=In();s=e.compileFactory(Kd,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,deps:ui(t),target:e.FactoryTarget.NgModule,typeArgumentCount:0})}return s},configurable:!1});let o=null;Object.defineProperty(t,T,{get:()=>{if(null===o){const n={name:t.name,type:t,providers:e.providers||B,imports:[(e.imports||B).map(f),(e.exports||B).map(f)]};o=In().compileInjector(Kd,`ng:///${t.name}/\u0275inj.js`,n)}return o},configurable:!1})}(t,e),function(t,e){Yd.push({moduleType:t,ngModule:e})}(t,e)},Sp=new Pn("Application Initializer");let Ep=(()=>{class t{constructor(t){this.appInits=t,this.resolve=eh,this.reject=eh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(Ka(e))t.push(e);else if(Qa(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Xn(Sp,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const Mp=new Pn("AppId"),Ap={provide:Mp,useFactory:function(){return`${Np()}${Np()}${Np()}`},deps:[]};function Np(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Rp=new Pn("Platform Initializer"),Dp=new Pn("Platform ID"),Lp=new Pn("appBootstrapListener");let Fp=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const Up=new Pn("LocaleId"),qp=new Pn("DefaultCurrencyCode");class jp{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const zp=function(t){return new id(t)},Vp=zp,Bp=function(t){return Promise.resolve(zp(t))},Hp=function(t){const e=zp(t),n=Er(ht(t).declarations).reduce((t,e)=>{const n=lt(e);return n&&t.push(new Jh(n)),t},[]);return new jp(e,n)},$p=Hp,Gp=function(t){return Promise.resolve(Hp(t))};let Zp=(()=>{class t{constructor(){this.compileModuleSync=Vp,this.compileModuleAsync=Bp,this.compileModuleAndAllComponentsSync=$p,this.compileModuleAndAllComponentsAsync=Gp}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const Wp=(()=>Promise.resolve(0))();function Kp(t){"undefined"==typeof Zone?Wp.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Yp{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sd(!1),this.onMicrotaskEmpty=new Sd(!1),this.onStable=new Sd(!1),this.onError=new Sd(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&e,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=z.requestAnimationFrame,e=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(z,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Xp(t),t.isCheckStableRunning=!0,Jp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Xp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{try{return tf(t),n.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),ef(t)}},onInvoke:(n,i,r,s,o,a,l)=>{try{return tf(t),n.invoke(r,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),ef(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,Xp(t),Jp(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Yp.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Yp.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,t,Qp,eh,eh);try{return r.runTask(s,e,n)}finally{r.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Qp={};function Jp(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Xp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function tf(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ef(t){t._nesting--,Jp(t)}class nf{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sd,this.onMicrotaskEmpty=new Sd,this.onStable=new Sd,this.onError=new Sd}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let rf=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Yp.assertNotInAngularZone(),Kp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Kp(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Xn(Yp))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})(),sf=(()=>{class t{constructor(){this._applications=new Map,cf.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return cf.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();class of{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function af(t){cf=t}let lf,cf=new of,uf=!0,hf=!1;function df(){return hf=!0,uf}function pf(){if(hf)throw new Error("Cannot enable prod mode after platform setup.");uf=!1}const ff=new Pn("AllowMultipleToken");class gf{constructor(t,e){this.name=t,this.token=e}}function mf(t,e,n=[]){const i=`Platform: ${e}`,r=new Pn(i);return(e=[])=>{let s=yf();if(!s||s.injector.get(ff,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:Eo,useValue:"platform"});!function(t){if(lf&&!lf.destroyed&&!lf.injector.get(ff,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");lf=t.get(_f);const e=t.get(Rp,null);e&&e.forEach(t=>t())}(Bo.create({providers:t,name:i}))}return function(t){const e=yf();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function yf(){return lf&&!lf.destroyed?lf:null}let _f=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new nf:("zone.js"===t?void 0:t)||new Yp({enableLongStackTrace:df(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),i=[{provide:Yp,useValue:n}];return n.run(()=>{const e=Bo.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),s=r.injector.get(xr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});r.onDestroy(()=>{wf(this._modules,r),t.unsubscribe()})}),function(t,e,n){try{const i=n();return Ka(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(s,n,()=>{const t=r.injector.get(Ep);return t.runInitializers(),t.donePromise.then(()=>(Hc(r.injector.get(Up,qc)||qc),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=vf({},e);return function(t,e,n){const i=new id(n);return Promise.resolve(i)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(bf);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${u(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Xn(Bo))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function vf(t,e){return Array.isArray(e)?e.reduce(vf,t):Object.assign(Object.assign({},t),e)}let bf=(()=>{class t{constructor(t,e,n,i,r){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=i,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new s.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Yp.assertNotInAngularZone(),Kp(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Yp.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(l,c.pipe((0,a.B)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ju?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(qh),r=n.create(Bo.NULL,[],e||n.selector,i),s=r.location.nativeElement,o=r.injector.get(rf,null),a=o&&r.injector.get(sf);return o&&a&&a.registerApplication(s,o),r.onDestroy(()=>{this.detachView(r.hostView),wf(this.components,r),a&&a.unregisterApplication(s)}),this._loadComponent(r),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;wf(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Lp,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Xn(Yp),Xn(Bo),Xn(xr),Xn(th),Xn(Ep))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function wf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Cf{}class xf{}const Pf={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let kf=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Pf}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n(8255)(e).then(t=>t[i]).then(t=>Of(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>Of(t,e,i))}}return t.\u0275fac=function(e){return new(e||t)(Xn(Zp),Xn(xf,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Of(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Tf=function(t){return null},If=mf(null,"core",[{provide:Dp,useValue:"unknown"},{provide:_f,deps:[Bo]},{provide:sf,deps:[]},{provide:Fp,deps:[]}]),Sf=[{provide:bf,useClass:bf,deps:[Yp,Bo,xr,th,Ep]},{provide:Qh,deps:[Yp],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ep,useClass:Ep,deps:[[new ri,Sp]]},{provide:Zp,useClass:Zp,deps:[]},Ap,{provide:xh,useFactory:function(){return Ah},deps:[]},{provide:kh,useFactory:function(){return Nh},deps:[]},{provide:Up,useFactory:function(t){return Hc(t=t||"undefined"!=typeof $localize&&$localize.locale||qc),t},deps:[[new ii(Up),new ri,new oi]]},{provide:qp,useValue:"USD"}];let Ef=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(Xn(bf))},t.\u0275mod=it({type:t}),t.\u0275inj=C({providers:Sf}),t})()},9748:(t,e,n)=>{"use strict";n.d(e,{hO:()=>g,xv:()=>h,Dh:()=>u,GT:()=>l,on:()=>d,pX:()=>a});var i=n(5366),r=n(9001),s=n(5271);t=n.hmd(t);const o=["ngOnDestroy"],a=(t,e,n,i={})=>new Proxy(t,{get:(r,s)=>n.runOutsideAngular(()=>{var r;if(t[s])return(null===(r=null==i?void 0:i.spy)||void 0===r?void 0:r.get)&&i.spy.get(s,t[s]),t[s];if(o.indexOf(s)>-1)return()=>{};const a=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>a[e],apply:(t,e,n)=>a.then(t=>{var e;const r=t&&t(...n);return(null===(e=null==i?void 0:i.spy)||void 0===e?void 0:e.apply)&&i.spy.apply(s,n,r),r})})})}),l=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})};class c{constructor(t){return t}}const u=new i.OlP("angularfire2.app.options"),h=new i.OlP("angularfire2.app.name");function d(e,n,i){const s="object"==typeof i&&i||{};s.name=s.name||"string"==typeof i&&i||"[DEFAULT]";const o=r.Z.apps.filter(t=>t&&t.name===s.name)[0]||n.runOutsideAngular(()=>r.Z.initializeApp(e,s));try{JSON.stringify(e)!==JSON.stringify(o.options)&&p("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new c(o)}const p=(t,...e)=>{(0,i.X6Q)()&&"undefined"!=typeof console&&console[t](...e)},f={provide:c,useFactory:d,deps:[u,i.R0b,[new i.FiY,h]]};let g=(()=>{class t{constructor(t){r.Z.registerVersion("angularfire",s.q4.full,"core"),r.Z.registerVersion("angularfire",s.q4.full,"app-compat"),r.Z.registerVersion("angular",i.q4F.full,t.toString())}static initializeApp(e,n){return{ngModule:t,providers:[{provide:u,useValue:e},{provide:h,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.Lbi))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[f]}),t})()},5271:(t,e,n)=>{"use strict";n.d(e,{q4:()=>c,iC:()=>v,fc:()=>_,HU:()=>m,cc:()=>d});var i=n(5366);(0,n(7092).registerVersion)("firebase","9.1.1","app");var r=n(8489),s=n(8569),o=n(6599),a=n(9098),l=n(4187);t=n.hmd(t);const c=new i.GfV("7.0.4"),u=!!t.hot,h=(t,...e)=>{(0,i.X6Q)()&&"undefined"!=typeof console&&console[t](...e)};function d(t,e,n,i,r){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(e=>e[0]===t)||[];if(s)return function(t,e){try{return t.toString()===e.toString()}catch(n){return t===e}}(r,o)||(h("error",`${e} was already initialized on the ${n} Firebase App with different settings.${u?" You may need to reload as Firebase is not HMR aware.":""}`),h("warn",{is:r,was:o})),s;{const e=i();return globalThis.\u0275AngularfireInstanceCache.push([t,e,r]),e}}function p(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class f{constructor(t,e=r.N){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const i=this.zone;return this.delegate.schedule(function(e){i.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class g{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",p,{},p,p)),e.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let m=(()=>{class t{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new f(Zone.current)),this.insideAngular=t.run(()=>new f(Zone.current,s.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.R0b))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function y(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("AngularFireModule has not been provided");return t}function _(t){return t.pipe((0,a.QV)(y().outsideAngular))}function v(t){return y(),(e=y(),function(t){return(t=t.lift(new g(e.ngZone))).pipe((0,l.R)(e.outsideAngular),(0,a.QV)(e.insideAngular))})(t);var e}},1932:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var i=n(5725),r=n(5119),s=n(7092),o=n(2134);class a{constructor(t,e){this._delegate=t,this.firebase=e,(0,s._addComponent)(t,new r.wA("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(t,e=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(t);return i.isInitialized()||"EXPLICIT"!==(null===(n=i.getComponent())||void 0===n?void 0:n.instantiationMode)||i.initialize(),i.getImmediate({identifier:e})}_removeServiceInstance(t,e=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(t).clearInstance(e)}_addComponent(t){(0,s._addComponent)(this._delegate,t)}_addOrOverwriteComponent(t){(0,s._addOrOverwriteComponent)(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const l=new i.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=function t(){const e=function(t){const e={},n={__esModule:!0,initializeApp:function(r,o={}){const a=s.initializeApp(r,o);if((0,i.r3)(e,a.name))return e[a.name];const l=new t(a,n);return e[a.name]=l,l},app:r,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(e){const o=e.name,a=o.replace("-compat","");if(s._registerComponent(e)&&"PUBLIC"===e.type){const s=(t=r())=>{if("function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:o});return t[a]()};void 0!==e.serviceProps&&(0,i.ZB)(s,e.serviceProps),n[a]=s,t.prototype[a]=function(...t){return this._getService.bind(this,o).apply(this,e.multipleInstances?t:[])}}return"PUBLIC"===e.type?n[a]:null},removeApp:function(t){delete e[t]},useAsService:function(t,e){return"serverAuth"===e?null:e},modularAPIs:s}};function r(t){if(!(0,i.r3)(e,t=t||s._DEFAULT_ENTRY_NAME))throw l.create("no-app",{appName:t});return e[t]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(e).map(t=>e[t])}}),r.App=t,n}(a);return e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,i.ZB)(e,t)},createSubscribe:i.ne,ErrorFactory:i.LL,deepExtend:i.ZB}),e}(),u=new o.Yd("@firebase/app-compat");if((0,i.jU)()&&void 0!==self.firebase){u.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&u.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=c;(0,s.registerVersion)("@firebase/app-compat","0.1.3",void 0)},7092:(t,e,n)=>{"use strict";n.r(e),n.d(e,{FirebaseError:()=>o.ZR,SDK_VERSION:()=>C,_DEFAULT_ENTRY_NAME:()=>u,_addComponent:()=>f,_addOrOverwriteComponent:()=>g,_apps:()=>d,_clearComponents:()=>v,_components:()=>p,_getProvider:()=>y,_registerComponent:()=>m,_removeServiceInstance:()=>_,deleteApp:()=>O,getApp:()=>P,getApps:()=>k,initializeApp:()=>x,onLog:()=>S,registerVersion:()=>I,setLogLevel:()=>E});var i=n(6304),r=n(5119),s=n(2134),o=n(5725);class a{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null}).filter(t=>t).join(" ")}}const l="@firebase/app",c=new s.Yd("@firebase/app"),u="[DEFAULT]",h={[l]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},d=new Map,p=new Map;function f(t,e){try{t.container.addComponent(e)}catch(n){c.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function g(t,e){t.container.addOrOverwriteComponent(e)}function m(t){const e=t.name;if(p.has(e))return c.debug(`There were multiple attempts to register component ${e}.`),!1;p.set(e,t);for(const n of d.values())f(n,t);return!0}function y(t,e){return t.container.getProvider(e)}function _(t,e,n=u){y(t,e).clearInstance(n)}function v(){p.clear()}const b=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class w{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw b.create("app-deleted",{appName:this._name})}}const C="9.1.1";function x(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:u,automaticDataCollectionEnabled:!1},e),i=n.name;if("string"!=typeof i||!i)throw b.create("bad-app-name",{appName:String(i)});const s=d.get(i);if(s){if((0,o.vZ)(t,s.options)&&(0,o.vZ)(n,s.config))return s;throw b.create("duplicate-app",{appName:i})}const a=new r.H0(i);for(const r of p.values())a.addComponent(r);const l=new w(t,n,a);return d.set(i,l),l}function P(t=u){const e=d.get(t);if(!e)throw b.create("no-app",{appName:t});return e}function k(){return Array.from(d.values())}function O(t){return T.apply(this,arguments)}function T(){return(T=(0,i.Z)(function*(t){const e=t.name;d.has(e)&&(d.delete(e),yield Promise.all(t.container.getProviders().map(t=>t.delete())),t.isDeleted=!0)})).apply(this,arguments)}function I(t,e,n){var i;let s=null!==(i=h[t])&&void 0!==i?i:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const t=[`Unable to register library "${s}" with version "${e}":`];return o&&t.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void c.warn(t.join(" "))}m(new r.wA(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function S(t,e){if(null!==t&&"function"!=typeof t)throw b.create("invalid-log-argument");(0,s.Am)(t,e)}function E(t){(0,s.Ub)(t)}m(new r.wA("platform-logger",t=>new a(t),"PRIVATE")),I(l,"0.7.2",void 0),I("fire-js","")},5119:(t,e,n)=>{"use strict";n.d(e,{wA:()=>s,H0:()=>l,zt:()=>a});var i=n(4762),r=n(5725),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new r.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:e});i&&n.resolve(i)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),i=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var r=(0,i.XA)(this.instancesDeferred.entries()),s=r.next();!s.done;s=r.next()){var a=(0,i.CR)(s.value,2),l=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var u=this.getOrInitializeService({instanceIdentifier:c});l.resolve(u)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,i.mG)(this,void 0,void 0,function(){var t;return(0,i.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,i.ev)((0,i.ev)([],(0,i.CR)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,i.CR)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=o),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.options,s=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var l=(0,i.XA)(this.instancesDeferred.entries()),c=l.next();!c.done;c=l.next()){var u=(0,i.CR)(c.value,2),h=u[1];o===this.normalizeInstanceIdentifier(u[0])&&h.resolve(a)}}catch(d){e={error:d}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);var s=this.instances.get(i);return s&&t(s,i),function(){r.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r,s=this.onInitCallbacks.get(e);if(s)try{for(var o=(0,i.XA)(s),a=o.next();!a.done;a=o.next()){var l=a.value;try{l(t,e)}catch(c){}}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,i=t.options,r=void 0===i?{}:i,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:r}),this.instances.set(n,s),this.instancesOptions.set(n,r),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=o),this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),l=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},2134:(t,e,n)=>{"use strict";n.d(e,{in:()=>r,Yd:()=>c,Ub:()=>u,Am:()=>h});const i=[];var r=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({});const s={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},o=r.INFO,a={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},l=(t,e,...n)=>{if(e<t.logLevel)return;const i=(new Date).toISOString(),r=a[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${t.name}:`,...n)};class c{constructor(t){this.name=t,this._logLevel=o,this._logHandler=l,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in r))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?s[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...t),this._logHandler(this,r.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...t),this._logHandler(this,r.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,r.INFO,...t),this._logHandler(this,r.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,r.WARN,...t),this._logHandler(this,r.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,r.ERROR,...t),this._logHandler(this,r.ERROR,...t)}}function u(t){i.forEach(e=>{e.setLogLevel(t)})}function h(t,e){for(const n of i){let i=null;e&&e.level&&(i=s[e.level]),n.userLogHandler=null===t?null:(e,n,...s)=>{const o=s.map(t=>{if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(t=>t).join(" ");n>=(null!=i?i:e.logLevel)&&t({level:r[n].toLowerCase(),message:o,args:s,type:e.name})}}}},5725:(t,e,n)=>{"use strict";n.d(e,{BH:()=>d,LL:()=>T,ZR:()=>O,gQ:()=>B,hu:()=>i,g5:()=>r,US:()=>o,tV:()=>c,h$:()=>a,r3:()=>R,Sg:()=>p,ne:()=>H,p$:()=>u,vZ:()=>U,ZB:()=>h,gK:()=>W,pd:()=>V,m9:()=>X,z$:()=>f,GJ:()=>N,jU:()=>y,ru:()=>_,d:()=>b,xb:()=>L,w1:()=>w,hl:()=>k,uI:()=>g,UG:()=>m,Yr:()=>x,b$:()=>v,G6:()=>P,Mn:()=>C,w9:()=>A,cI:()=>S,UI:()=>F,xO:()=>j,zd:()=>z,DV:()=>D,ug:()=>J,dS:()=>Q,Pz:()=>E,Dv:()=>Z,Wj:()=>K,lb:()=>Y});const i=function(t,e){if(!t)throw r(e)},r=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},s=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const e=t[r],s=r+1<t.length,o=s?t[r+1]:0,a=r+2<t.length,l=a?t[r+2]:0;let c=(15&o)<<2|l>>6,u=63&l;a||(u=64,s||(c=64)),i.push(n[e>>2],n[(3&e)<<4|o>>4],n[c],n[u])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(s>>10)),e[i++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const e=n[t.charAt(r++)],s=r<t.length?n[t.charAt(r)]:0;++r;const o=r<t.length?n[t.charAt(r)]:64;++r;const a=r<t.length?n[t.charAt(r)]:64;if(++r,null==e||null==s||null==o||null==a)throw Error();i.push(e<<2|s>>4),64!==o&&(i.push(s<<4&240|o>>2),64!==a&&i.push(o<<6&192|a))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},a=function(t){const e=s(t);return o.encodeByteArray(e,!0)},l=function(t){return a(t).replace(/\./g,"")},c=function(t){try{return o.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function u(t){return h(void 0,t)}function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=h(t[n],e[n]));return t}class d{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,n))}}}function p(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(s)),""].join(".")}function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function m(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function y(){return"object"==typeof self&&self.self===self}function _(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function v(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function b(){return f().indexOf("Electron/")>=0}function w(){const t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function C(){return f().indexOf("MSAppHost/")>=0}function x(){return!1}function P(){return!m()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k(){return"object"==typeof indexedDB}class O extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,O.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,T.prototype.create)}}class T{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},i=`${this.service}/${t}`,r=this.errors[t],s=r?function(t,e){return t.replace(I,(t,n)=>{const i=e[n];return null!=i?String(i):`<${n}?>`})}(r,n):"Error";return new O(i,`${this.serviceName}: ${s} (${i}).`,n)}}const I=/\{\$([^}]+)}/g;function S(t){return JSON.parse(t)}function E(t){return JSON.stringify(t)}const M=function(t){let e={},n={},i={},r="";try{const s=t.split(".");e=S(c(s[0])||""),n=S(c(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:i,signature:r}},A=function(t){const e=M(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},N=function(t){const e=M(t).claims;return"object"==typeof e&&!0===e.admin};function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function L(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function F(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function U(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const n=t[r],s=e[r];if(q(n)&&q(s)){if(!U(n,s))return!1}else if(n!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function q(t){return null!==t&&"object"==typeof t}function j(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function z(t){const e={};return t.replace(/^\?/,"").split("&").forEach(t=>{if(t){const[n,i]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(i)}}),e}function V(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class B{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,e){e||(e=0);const n=this.W_;if("string"==typeof t)for(let u=0;u<16;u++)n[u]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(let u=0;u<16;u++)n[u]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(let u=16;u<80;u++){const t=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(t<<1|t>>>31)}let i,r,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(i=l^o&(a^l),r=1518500249):(i=o^a^l,r=1859775393):u<60?(i=o&a|l&(o|a),r=2400959708):(i=o^a^l,r=3395469782);const t=(s<<5|s>>>27)+i+c+r+n[u]&4294967295;c=l,l=a,a=4294967295&(o<<30|o>>>2),o=s,s=t}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,e){if(null==t)return;void 0===e&&(e=t.length);const n=e-this.blockSize;let i=0;const r=this.buf_;let s=this.inbuf_;for(;i<e;){if(0===s)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<e;)if(r[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(r),s=0;break}}else for(;i<e;)if(r[s]=t[i],++s,++i,s===this.blockSize){this.compress_(r),s=0;break}}this.inbuf_=s,this.total_+=e}digest(){const t=[];let e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&e,e/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let e=24;e>=0;e-=8)t[n]=this.chain_[i]>>e&255,++n;return t}}function H(t,e){const n=new $(t,e);return n.subscribe.bind(n)}class ${constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(t=>{this.error(t)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let i;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");i=function(t,e){if("object"!=typeof t||null===t)return!1;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(t)?t:{next:t,error:e,complete:n},void 0===i.next&&(i.next=G),void 0===i.error&&(i.error=G),void 0===i.complete&&(i.complete=G);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(t){}}),this.observers.push(i),r}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function G(){}const Z=function(t,e,n,i){let r;if(i<e?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r)throw new Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")};function W(t,e){return`${t} failed: ${e} argument `}function K(t,e,n,i){if((!i||n)&&"function"!=typeof n)throw new Error(W(t,e)+"must be a valid function.")}function Y(t,e,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw new Error(W(t,e)+"must be a valid context object.")}const Q=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const e=s-55296;r++,i(r<t.length,"Surrogate pair missing trail surrogate."),s=65536+(e<<10)+(t.charCodeAt(r)-56320)}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=63&s|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=63&s|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=63&s|128)}return e},J=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};function X(t){return t&&t._delegate?t._delegate:t}},9001:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i.Z});var i=n(1932);i.Z.registerVersion("firebase","9.1.1","app-compat")},3678:(t,e,n)=>{"use strict";n.r(e);var i=n(6304),r=n(1932),s=n(5725),o=n(7092),a=n(4762),l=n(2134),c=n(5119);const u=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},h=new s.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d=new l.Yd("@firebase/auth");function p(t,...e){d.logLevel<=l.in.ERROR&&d.error(`Auth (${o.SDK_VERSION}): ${t}`,...e)}function f(t,...e){throw _(t,...e)}function g(t,...e){return _(t,...e)}function m(t,e,n){const i=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),{[e]:n});return new s.LL("auth","Firebase",i).create(e,{appName:t.name})}function y(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&f(t,"argument-error"),m(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _(t,...e){if("string"!=typeof t){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return h.create(t,...e)}function v(t,e,...n){if(!t)throw _(e,...n)}function b(t){const e="INTERNAL ASSERTION FAILED: "+t;throw p(e),new Error(e)}function w(t,e){t||b(e)}const C=new Map;function x(t){w(t instanceof Function,"Expected a class definition");let e=C.get(t);return e?(w(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,C.set(t,e),e)}function P(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function k(){return"http:"===O()||"https:"===O()}function O(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class T{constructor(t,e){this.shortDelay=t,this.longDelay=e,w(e>t,"Short delay should be less than long delay!"),this.isMobile=(0,s.uI)()||(0,s.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(k()||(0,s.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function I(t,e){w(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class S{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const E={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},M=new T(3e4,6e4);function A(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function N(t,e,n,i){return R.apply(this,arguments)}function R(){return(R=(0,i.Z)(function*(t,e,n,i,r={}){return D(t,r,()=>{let r={},o={};i&&("GET"===e?o=i:r={body:JSON.stringify(i)});const a=(0,s.xO)(Object.assign({key:t.config.apiKey},o)).slice(1),l=new(S.headers());return l.set("Content-Type","application/json"),l.set("X-Client-Version",t._getSdkClientVersion()),t.languageCode&&l.set("X-Firebase-Locale",t.languageCode),S.fetch()(q(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},r))})})).apply(this,arguments)}function D(t,e,n){return L.apply(this,arguments)}function L(){return(L=(0,i.Z)(function*(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},E),e);try{const e=new j(t),r=yield Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=yield r.json();if("needConfirmation"in s)throw z(t,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const e=r.ok?s.errorMessage:s.error.message,[n,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw z(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw z(t,"email-already-in-use",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw m(t,a,o);f(t,a)}}catch(r){if(r instanceof s.ZR)throw r;f(t,"network-request-failed")}})).apply(this,arguments)}function F(t,e,n,i){return U.apply(this,arguments)}function U(){return(U=(0,i.Z)(function*(t,e,n,i,r={}){const s=yield N(t,e,n,i,r);return"mfaPendingCredential"in s&&f(t,"multi-factor-auth-required",{serverResponse:s}),s})).apply(this,arguments)}function q(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?I(t.config,r):`${t.config.apiScheme}://${r}`}class j{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((t,e)=>{this.timer=setTimeout(()=>e(g(this.auth,"timeout")),M.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function z(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=g(t,e,i);return r.customData._tokenResponse=n,r}function V(){return(V=(0,i.Z)(function*(t,e){return N(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function B(t,e){return H.apply(this,arguments)}function H(){return(H=(0,i.Z)(function*(t,e){return N(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function $(t,e){return G.apply(this,arguments)}function G(){return(G=(0,i.Z)(function*(t,e){return N(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Z(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function W(){return(W=(0,i.Z)(function*(t,e=!1){const n=(0,s.m9)(t),i=yield n.getIdToken(e),r=Y(i);v(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o="object"==typeof r.firebase?r.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:Z(K(r.auth_time)),issuedAtTime:Z(K(r.iat)),expirationTime:Z(K(r.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}})).apply(this,arguments)}function K(t){return 1e3*Number(t)}function Y(t){const[e,n,i]=t.split(".");if(void 0===e||void 0===n||void 0===i)return p("JWT malformed, contained fewer than 3 sections"),null;try{const t=(0,s.tV)(n);return t?JSON.parse(t):(p("Failed to decode base64 JWT payload"),null)}catch(r){return p("Caught error parsing JWT payload as JSON",r),null}}function Q(t,e){return J.apply(this,arguments)}function J(){return(J=(0,i.Z)(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(i){throw i instanceof s.ZR&&X(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})).apply(this,arguments)}function X({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class tt{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout((0,i.Z)(function*(){yield e.iteration()}),n)}iteration(){var t=this;return(0,i.Z)(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&t.schedule(!0))}t.schedule()})()}}class et{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Z(this.lastLoginAt),this.creationTime=Z(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function nt(t){return it.apply(this,arguments)}function it(){return(it=(0,i.Z)(function*(t){var e;const n=t.auth,i=yield t.getIdToken(),r=yield Q(t,$(n,{idToken:i}));v(null==r?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?ot(s.providerUserInfo):[],a=st(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new et(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,c)})).apply(this,arguments)}function rt(){return(rt=(0,i.Z)(function*(t){const e=(0,s.m9)(t);yield nt(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function st(t,e){return[...t.filter(t=>!e.some(e=>e.providerId===t.providerId)),...e]}function ot(t){return t.map(t=>{var{providerId:e}=t,n=(0,a._T)(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function at(){return(at=(0,i.Z)(function*(t,e){const n=yield D(t,{},()=>{const n=(0,s.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,o=q(t,i,"/v1/token",`key=${r}`);return S.fetch()(o,{method:"POST",headers:{"X-Client-Version":t._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class lt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){v(t.idToken,"internal-error"),v(void 0!==t.idToken,"internal-error"),v(void 0!==t.refreshToken,"internal-error");const e="expiresIn"in t&&void 0!==t.expiresIn?Number(t.expiresIn):function(t){const e=Y(t);return v(e,"internal-error"),v(void 0!==e.exp,"internal-error"),v(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}getToken(t,e=!1){var n=this;return(0,i.Z)(function*(){return v(!n.accessToken||n.refreshToken,t,"user-token-expired"),e||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(t,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var n=this;return(0,i.Z)(function*(){const{accessToken:i,refreshToken:r,expiresIn:s}=yield function(t,e){return at.apply(this,arguments)}(t,e);n.updateTokensAndExpiration(i,r,Number(s))})()}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:i,expirationTime:r}=e,s=new lt;return n&&(v("string"==typeof n,"internal-error",{appName:t}),s.refreshToken=n),i&&(v("string"==typeof i,"internal-error",{appName:t}),s.accessToken=i),r&&(v("number"==typeof r,"internal-error",{appName:t}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new lt,this.toJSON())}_performRefresh(){return b("not implemented")}}function ct(t,e){v("string"==typeof t||void 0===t,"internal-error",{appName:e})}class ut{constructor(t){var{uid:e,auth:n,stsTokenManager:i}=t,r=(0,a._T)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new tt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.metadata=new et(r.createdAt||void 0,r.lastLoginAt||void 0)}getIdToken(t){var e=this;return(0,i.Z)(function*(){const n=yield Q(e,e.stsTokenManager.getToken(e.auth,t));return v(n,e.auth,"internal-error"),e.accessToken!==n&&(e.accessToken=n,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),n})()}getIdTokenResult(t){return function(t){return W.apply(this,arguments)}(this,t)}reload(){return function(t){return rt.apply(this,arguments)}(this)}_assign(t){this!==t&&(v(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(t=>Object.assign({},t)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new ut(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var n=this;return(0,i.Z)(function*(){let i=!1;t.idToken&&t.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(t),i=!0),e&&(yield nt(n)),yield n.auth._persistUserIfCurrent(n),i&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var t=this;return(0,i.Z)(function*(){const e=yield t.getIdToken();return yield Q(t,function(t,e){return V.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,i,r,s,o,a,l,c;const u=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(i=e.email)&&void 0!==i?i:void 0,d=null!==(r=e.phoneNumber)&&void 0!==r?r:void 0,p=null!==(s=e.photoURL)&&void 0!==s?s:void 0,f=null!==(o=e.tenantId)&&void 0!==o?o:void 0,g=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=e.createdAt)&&void 0!==l?l:void 0,y=null!==(c=e.lastLoginAt)&&void 0!==c?c:void 0,{uid:_,emailVerified:b,isAnonymous:w,providerData:C,stsTokenManager:x}=e;v(_&&x,t,"internal-error");const P=lt.fromJSON(this.name,x);v("string"==typeof _,t,"internal-error"),ct(u,t.name),ct(h,t.name),v("boolean"==typeof b,t,"internal-error"),v("boolean"==typeof w,t,"internal-error"),ct(d,t.name),ct(p,t.name),ct(f,t.name),ct(g,t.name),ct(m,t.name),ct(y,t.name);const k=new ut({uid:_,auth:t,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:P,createdAt:m,lastLoginAt:y});return C&&Array.isArray(C)&&(k.providerData=C.map(t=>Object.assign({},t))),g&&(k._redirectEventId=g),k}static _fromIdTokenResponse(t,e,n=!1){return(0,i.Z)(function*(){const i=new lt;i.updateFromServerResponse(e);const r=new ut({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:n});return yield nt(r),r})()}}const ht=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,i.Z)(function*(){return!0})()}_set(t,e){var n=this;return(0,i.Z)(function*(){n.storage[t]=e})()}_get(t){var e=this;return(0,i.Z)(function*(){const n=e.storage[t];return void 0===n?null:n})()}_remove(t){var e=this;return(0,i.Z)(function*(){delete e.storage[t]})()}_addListener(t,e){}_removeListener(t,e){}}return t.type="NONE",t})();function dt(t,e,n){return`firebase:${t}:${e}:${n}`}class pt{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=dt(this.userKey,i.apiKey,r),this.fullPersistenceKey=dt("persistence",i.apiKey,r),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return(0,i.Z)(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?ut._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return(0,i.Z)(function*(){if(e.persistence===t)return;const n=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,n?e.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,n="authUser"){return(0,i.Z)(function*(){if(!e.length)return new pt(x(ht),t,n);const r=(yield Promise.all(e.map(function(){var t=(0,i.Z)(function*(t){if(yield t._isAvailable())return t});return function(e){return t.apply(this,arguments)}}()))).filter(t=>t);let s=r[0]||x(ht);const o=dt(n,t.config.apiKey,t.name);let a=null;for(const n of e)try{const e=yield n._get(o);if(e){const i=ut._fromJSON(t,e);n!==s&&(a=i),s=n;break}}catch(c){}const l=r.filter(t=>t._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(e.map(function(){var t=(0,i.Z)(function*(t){if(t!==s)try{yield t._remove(o)}catch(c){}});return function(e){return t.apply(this,arguments)}}())),new pt(s,t,n)):new pt(s,t,n)})()}}function ft(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_t(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gt(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bt(e))return"Blackberry";if(wt(e))return"Webos";if(mt(e))return"Safari";if((e.includes("chrome/")||yt(e))&&!e.includes("edge/"))return"Chrome";if(vt(e))return"Android";{const e=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==e?void 0:e.length))return e[1]}return"Other"}function gt(t=(0,s.z$)()){return/firefox\//i.test(t)}function mt(t=(0,s.z$)()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yt(t=(0,s.z$)()){return/crios\//i.test(t)}function _t(t=(0,s.z$)()){return/iemobile/i.test(t)}function vt(t=(0,s.z$)()){return/android/i.test(t)}function bt(t=(0,s.z$)()){return/blackberry/i.test(t)}function wt(t=(0,s.z$)()){return/webos/i.test(t)}function Ct(t=(0,s.z$)()){return/iphone|ipad|ipod/i.test(t)}function xt(t=(0,s.z$)()){return Ct(t)||vt(t)||wt(t)||bt(t)||/windows phone/i.test(t)||_t(t)}function Pt(t,e=[]){let n;switch(t){case"Browser":n=ft((0,s.z$)());break;case"Worker":n=`${ft((0,s.z$)())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.SDK_VERSION}/${i}`}class kt{constructor(t,e){this.app=t,this.config=e,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tt(this),this.idTokenSubscription=new Tt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=e.sdkClientVersion}_initializeWithPersistence(t,e){var n=this;return e&&(this._popupRedirectResolver=x(e)),this._initializationPromise=this.queue((0,i.Z)(function*(){var i;n._deleted||(n.persistenceManager=yield pt.create(n,t),n._deleted||((null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)&&(yield n._popupRedirectResolver._initialize(n)),yield n.initializeCurrentUser(e),n._deleted||(n._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var t=this;return(0,i.Z)(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();return t.currentUser||e?t.currentUser&&e&&t.currentUser.uid===e.uid?(t._currentUser._assign(e),void(yield t.currentUser.getIdToken())):void(yield t._updateCurrentUser(e)):void 0})()}initializeCurrentUser(t){var e=this;return(0,i.Z)(function*(){var n;let i=yield e.assertedPersistence.getCurrentUser();if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const r=null===(n=e.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null==i?void 0:i._redirectEventId,o=yield e.tryRedirectSignIn(t);r&&r!==s||!(null==o?void 0:o.user)||(i=o.user)}return i?i._redirectEventId?(v(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===i._redirectEventId?e.directlySetCurrentUser(i):e.reloadAndSetCurrentUserOrClear(i)):e.reloadAndSetCurrentUserOrClear(i):e.directlySetCurrentUser(null)})()}tryRedirectSignIn(t){var e=this;return(0,i.Z)(function*(){let n=null;try{n=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch(i){yield e._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(t){var e=this;return(0,i.Z)(function*(){try{yield nt(t)}catch(n){if("auth/network-request-failed"!==n.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var t=this;return(0,i.Z)(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return(0,i.Z)(function*(){const n=t?(0,s.m9)(t):null;return n&&v(n.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(n&&n._clone(e))})()}_updateCurrentUser(t){var e=this;return(0,i.Z)(function*(){if(!e._deleted)return t&&v(e.tenantId===t.tenantId,e,"tenant-id-mismatch"),e.queue((0,i.Z)(function*(){yield e.directlySetCurrentUser(t),e.notifyAuthListeners()}))})()}signOut(){var t=this;return(0,i.Z)(function*(){return(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null)})()}setPersistence(t){var e=this;return this.queue((0,i.Z)(function*(){yield e.assertedPersistence.setPersistence(x(t))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new s.LL("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var n=this;return(0,i.Z)(function*(){const i=yield n.getOrInitRedirectPersistenceManager(e);return null===t?i.removeCurrentUser():i.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return(0,i.Z)(function*(){if(!e.redirectPersistenceManager){const n=t&&x(t)||e._popupRedirectResolver;v(n,e,"argument-error"),e.redirectPersistenceManager=yield pt.create(e,[x(n._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return(0,i.Z)(function*(){var n,r;return e._isInitialized&&(yield e.queue((0,i.Z)(function*(){}))),(null===(n=e._currentUser)||void 0===n?void 0:n._redirectEventId)===t?e._currentUser:(null===(r=e.redirectUser)||void 0===r?void 0:r._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return(0,i.Z)(function*(){if(t===e.currentUser)return e.queue((0,i.Z)(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,i){if(this._deleted)return()=>{};const r="function"==typeof e?e:e.next.bind(e),s=this._isInitialized?Promise.resolve():this._initializationPromise;return v(s,this,"internal-error"),s.then(()=>r(this.currentUser)),"function"==typeof e?t.addObserver(e,n,i):t.addObserver(e)}directlySetCurrentUser(t){var e=this;return(0,i.Z)(function*(){e.currentUser&&e.currentUser!==t&&(e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh()),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Pt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Ot(t){return(0,s.m9)(t)}class Tt{constructor(t){this.auth=t,this.observer=null,this.addObserver=(0,s.ne)(t=>this.observer=t)}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function It(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function St(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Et{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return b("not implemented")}_getIdTokenResponse(t){return b("not implemented")}_linkToIdToken(t,e){return b("not implemented")}_getReauthenticationResolver(t){return b("not implemented")}}function Mt(t,e){return At.apply(this,arguments)}function At(){return(At=(0,i.Z)(function*(t,e){return N(t,"POST","/v1/accounts:resetPassword",A(t,e))})).apply(this,arguments)}function Nt(t,e){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,i.Z)(function*(t,e){return N(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Dt(t,e){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,i.Z)(function*(t,e){return N(t,"POST","/v1/accounts:update",A(t,e))})).apply(this,arguments)}function Ft(){return(Ft=(0,i.Z)(function*(t,e){return F(t,"POST","/v1/accounts:signInWithPassword",A(t,e))})).apply(this,arguments)}function Ut(t,e){return qt.apply(this,arguments)}function qt(){return(qt=(0,i.Z)(function*(t,e){return N(t,"POST","/v1/accounts:sendOobCode",A(t,e))})).apply(this,arguments)}function jt(t,e){return zt.apply(this,arguments)}function zt(){return(zt=(0,i.Z)(function*(t,e){return Ut(t,e)})).apply(this,arguments)}function Vt(t,e){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,i.Z)(function*(t,e){return Ut(t,e)})).apply(this,arguments)}function Ht(t,e){return $t.apply(this,arguments)}function $t(){return($t=(0,i.Z)(function*(t,e){return Ut(t,e)})).apply(this,arguments)}function Gt(t,e){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,i.Z)(function*(t,e){return Ut(t,e)})).apply(this,arguments)}function Wt(){return(Wt=(0,i.Z)(function*(t,e){return F(t,"POST","/v1/accounts:signInWithEmailLink",A(t,e))})).apply(this,arguments)}function Kt(){return(Kt=(0,i.Z)(function*(t,e){return F(t,"POST","/v1/accounts:signInWithEmailLink",A(t,e))})).apply(this,arguments)}class Yt extends Et{constructor(t,e,n,i=null){super("password",n),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new Yt(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new Yt(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if((null==e?void 0:e.email)&&(null==e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(t){var e=this;return(0,i.Z)(function*(){switch(e.signInMethod){case"password":return function(t,e){return Ft.apply(this,arguments)}(t,{returnSecureToken:!0,email:e._email,password:e._password});case"emailLink":return function(t,e){return Wt.apply(this,arguments)}(t,{email:e._email,oobCode:e._password});default:f(t,"internal-error")}})()}_linkToIdToken(t,e){var n=this;return(0,i.Z)(function*(){switch(n.signInMethod){case"password":return Nt(t,{idToken:e,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(t,e){return Kt.apply(this,arguments)}(t,{idToken:e,email:n._email,oobCode:n._password});default:f(t,"internal-error")}})()}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}function Qt(t,e){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,i.Z)(function*(t,e){return F(t,"POST","/v1/accounts:signInWithIdp",A(t,e))})).apply(this,arguments)}class Xt extends Et{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Xt(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):f("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:n,signInMethod:i}=e,r=(0,a._T)(e,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Xt(n,i);return Object.assign(s,r),s}_getIdTokenResponse(t){return Qt(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Qt(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Qt(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=(0,s.xO)(e)}return t}}function te(t,e){return ee.apply(this,arguments)}function ee(){return(ee=(0,i.Z)(function*(t,e){return N(t,"POST","/v1/accounts:sendVerificationCode",A(t,e))})).apply(this,arguments)}function ne(){return(ne=(0,i.Z)(function*(t,e){return F(t,"POST","/v1/accounts:signInWithPhoneNumber",A(t,e))})).apply(this,arguments)}function ie(){return(ie=(0,i.Z)(function*(t,e){const n=yield F(t,"POST","/v1/accounts:signInWithPhoneNumber",A(t,e));if(n.temporaryProof)throw z(t,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const re={USER_NOT_FOUND:"user-not-found"};function se(){return(se=(0,i.Z)(function*(t,e){return F(t,"POST","/v1/accounts:signInWithPhoneNumber",A(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),re)})).apply(this,arguments)}class oe extends Et{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new oe({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new oe({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return function(t,e){return ne.apply(this,arguments)}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return function(t,e){return ie.apply(this,arguments)}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return function(t,e){return se.apply(this,arguments)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:i}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:i}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"==typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}=t;return n||e||i||r?new oe({verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class ae{constructor(t){var e,n,i,r,o,a;const l=(0,s.zd)((0,s.pd)(t)),c=null!==(e=l.apiKey)&&void 0!==e?e:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,h=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);v(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=null!==(r=l.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(t){const e=function(t){const e=(0,s.zd)((0,s.pd)(t)).link,n=e?(0,s.zd)((0,s.pd)(e)).deep_link_id:null,i=(0,s.zd)((0,s.pd)(t)).deep_link_id;return(i?(0,s.zd)((0,s.pd)(i)).link:null)||i||n||e||t}(t);try{return new ae(e)}catch(n){return null}}}let le=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(t,e){return Yt._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=ae.parseLink(e);return v(n,"argument-error"),Yt._fromEmailAndCode(t,n.code,n.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class ce{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ue extends ce{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class he extends ue{static credentialFromJSON(t){const e="string"==typeof t?JSON.parse(t):t;return v("providerId"in e&&"signInMethod"in e,"argument-error"),Xt._fromParams(e)}credential(t){return this._credential(t)}_credential(t){return v(t.idToken||t.accessToken,"argument-error"),Xt._fromParams(Object.assign(Object.assign({},t),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(t){return he.oauthCredentialFromTaggedObject(t)}static credentialFromError(t){return he.oauthCredentialFromTaggedObject(t.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n,oauthTokenSecret:i,pendingToken:r,nonce:s,providerId:o}=t;if(!(n||i||e||r))return null;if(!o)return null;try{return new he(o)._credential({idToken:e,accessToken:n,rawNonce:s,pendingToken:r})}catch(a){return null}}}let de=(()=>{class t extends ue{constructor(){super("facebook.com")}static credential(e){return Xt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return t.credential(e.oauthAccessToken)}catch(n){return null}}}return t.FACEBOOK_SIGN_IN_METHOD="facebook.com",t.PROVIDER_ID="facebook.com",t})(),pe=(()=>{class t extends ue{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return t.credential(n,i)}catch(r){return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})(),fe=(()=>{class t extends ue{constructor(){super("github.com")}static credential(e){return Xt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return t.credential(e.oauthAccessToken)}catch(n){return null}}}return t.GITHUB_SIGN_IN_METHOD="github.com",t.PROVIDER_ID="github.com",t})();class ge extends Et{constructor(t,e){super(t,t),this.pendingToken=e}_getIdTokenResponse(t){return Qt(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Qt(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Qt(t,e)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:n,signInMethod:i,pendingToken:r}=e;return n&&i&&r&&n===i?new ge(n,r):null}static _create(t,e){return new ge(t,e)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let me=(()=>{class t extends ue{constructor(){super("twitter.com")}static credential(e,n){return Xt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return t.credential(n,i)}catch(r){return null}}}return t.TWITTER_SIGN_IN_METHOD="twitter.com",t.PROVIDER_ID="twitter.com",t})();function ye(t,e){return _e.apply(this,arguments)}function _e(){return(_e=(0,i.Z)(function*(t,e){return F(t,"POST","/v1/accounts:signUp",A(t,e))})).apply(this,arguments)}class ve{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,n,r=!1){return(0,i.Z)(function*(){const i=yield ut._fromIdTokenResponse(t,n,r),s=be(n);return new ve({user:i,providerId:s,_tokenResponse:n,operationType:e})})()}static _forOperation(t,e,n){return(0,i.Z)(function*(){yield t._updateTokensIfNecessary(n,!0);const i=be(n);return new ve({user:t,providerId:i,_tokenResponse:n,operationType:e})})()}}function be(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}function we(){return(we=(0,i.Z)(function*(t){var e;const n=Ot(t);if(yield n._initializationPromise,null===(e=n.currentUser)||void 0===e?void 0:e.isAnonymous)return new ve({user:n.currentUser,providerId:null,operationType:"signIn"});const i=yield ye(n,{returnSecureToken:!0}),r=yield ve._fromIdTokenResponse(n,"signIn",i,!0);return yield n._updateCurrentUser(r.user),r})).apply(this,arguments)}class Ce extends s.ZR{constructor(t,e,n,i){var r;super(e.code,e.message),this.operationType=n,this.user=i,this.name="FirebaseError",Object.setPrototypeOf(this,Ce.prototype),this.appName=t.name,this.code=e.code,this.tenantId=null!==(r=t.tenantId)&&void 0!==r?r:void 0,this.serverResponse=e.customData.serverResponse}static _fromErrorAndOperation(t,e,n,i){return new Ce(t,e,n,i)}}function xe(t,e,n,i){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Ce._fromErrorAndOperation(t,n,e,i);throw n})}function Pe(t){return new Set(t.map(({providerId:t})=>t).filter(t=>!!t))}function ke(){return(ke=(0,i.Z)(function*(t,e){const n=(0,s.m9)(t);yield Ie(!0,n,e);const{providerUserInfo:i}=yield B(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[e]}),r=Pe(i||[]);return n.providerData=n.providerData.filter(t=>r.has(t.providerId)),r.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})).apply(this,arguments)}function Oe(t,e){return Te.apply(this,arguments)}function Te(){return(Te=(0,i.Z)(function*(t,e,n=!1){const i=yield Q(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ve._forOperation(t,"link",i)})).apply(this,arguments)}function Ie(t,e,n){return Se.apply(this,arguments)}function Se(){return(Se=(0,i.Z)(function*(t,e,n){yield nt(e);const i=!1===t?"provider-already-linked":"no-such-provider";v(Pe(e.providerData).has(n)===t,e.auth,i)})).apply(this,arguments)}function Ee(t,e){return Me.apply(this,arguments)}function Me(){return(Me=(0,i.Z)(function*(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const s=yield Q(t,xe(i,r,e,t),n);v(s.idToken,i,"internal-error");const o=Y(s.idToken);v(o,i,"internal-error");const{sub:a}=o;return v(t.uid===a,i,"user-mismatch"),ve._forOperation(t,r,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&f(i,"user-mismatch"),s}})).apply(this,arguments)}function Ae(t,e){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,i.Z)(function*(t,e,n=!1){const i="signIn",r=yield xe(t,i,e),s=yield ve._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Re(t,e){return De.apply(this,arguments)}function De(){return(De=(0,i.Z)(function*(t,e){return Ae(Ot(t),e)})).apply(this,arguments)}function Le(t,e){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,i.Z)(function*(t,e){const n=(0,s.m9)(t);return yield Ie(!1,n,e.providerId),Oe(n,e)})).apply(this,arguments)}function Ue(t,e){return qe.apply(this,arguments)}function qe(){return(qe=(0,i.Z)(function*(t,e){return Ee((0,s.m9)(t),e)})).apply(this,arguments)}function je(t,e){return ze.apply(this,arguments)}function ze(){return(ze=(0,i.Z)(function*(t,e){return F(t,"POST","/v1/accounts:signInWithCustomToken",A(t,e))})).apply(this,arguments)}function Ve(){return(Ve=(0,i.Z)(function*(t,e){const n=Ot(t),i=yield je(n,{token:e,returnSecureToken:!0}),r=yield ve._fromIdTokenResponse(n,"signIn",i);return yield n._updateCurrentUser(r.user),r})).apply(this,arguments)}class Be{constructor(t,e){this.factorId=t,this.uid=e.mfaEnrollmentId,this.enrollmentTime=new Date(e.enrolledAt).toUTCString(),this.displayName=e.displayName}static _fromServerResponse(t,e){return"phoneInfo"in e?He._fromServerResponse(t,e):f(t,"internal-error")}}class He extends Be{constructor(t){super("phone",t),this.phoneNumber=t.phoneInfo}static _fromServerResponse(t,e){return new He(e)}}function $e(t,e,n){var i;v((null===(i=n.url)||void 0===i?void 0:i.length)>0,t,"invalid-continue-uri"),v(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(v(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(v(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function Ge(){return(Ge=(0,i.Z)(function*(t,e,n){const i=(0,s.m9)(t),r={requestType:"PASSWORD_RESET",email:e};n&&$e(i,r,n),yield Vt(i,r)})).apply(this,arguments)}function Ze(){return(Ze=(0,i.Z)(function*(t,e,n){yield Mt((0,s.m9)(t),{oobCode:e,newPassword:n})})).apply(this,arguments)}function We(){return(We=(0,i.Z)(function*(t,e){yield Dt((0,s.m9)(t),{oobCode:e})})).apply(this,arguments)}function Ke(t,e){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,i.Z)(function*(t,e){const n=(0,s.m9)(t),i=yield Mt(n,{oobCode:e}),r=i.requestType;switch(v(r,n,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":v(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":v(i.mfaInfo,n,"internal-error");default:v(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=Be._fromServerResponse(Ot(n),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:r}})).apply(this,arguments)}function Qe(){return(Qe=(0,i.Z)(function*(t,e){const{data:n}=yield Ke((0,s.m9)(t),e);return n.email})).apply(this,arguments)}function Je(){return(Je=(0,i.Z)(function*(t,e,n){const i=Ot(t),r=yield ye(i,{returnSecureToken:!0,email:e,password:n}),s=yield ve._fromIdTokenResponse(i,"signIn",r);return yield i._updateCurrentUser(s.user),s})).apply(this,arguments)}function Xe(){return(Xe=(0,i.Z)(function*(t,e,n){const i=(0,s.m9)(t),r={requestType:"EMAIL_SIGNIN",email:e};v(n.handleCodeInApp,i,"argument-error"),n&&$e(i,r,n),yield Ht(i,r)})).apply(this,arguments)}function tn(){return(tn=(0,i.Z)(function*(t,e,n){const i=(0,s.m9)(t),r=le.credentialWithLink(e,n||P());return v(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Re(i,r)})).apply(this,arguments)}function en(t,e){return nn.apply(this,arguments)}function nn(){return(nn=(0,i.Z)(function*(t,e){return N(t,"POST","/v1/accounts:createAuthUri",A(t,e))})).apply(this,arguments)}function rn(){return(rn=(0,i.Z)(function*(t,e){const n={identifier:e,continueUri:k()?P():"http://localhost"},{signinMethods:i}=yield en((0,s.m9)(t),n);return i||[]})).apply(this,arguments)}function sn(){return(sn=(0,i.Z)(function*(t,e){const n=(0,s.m9)(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&$e(n.auth,i,e);const{email:r}=yield jt(n.auth,i);r!==t.email&&(yield t.reload())})).apply(this,arguments)}function on(){return(on=(0,i.Z)(function*(t,e,n){const i=(0,s.m9)(t),r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield t.getIdToken(),newEmail:e};n&&$e(i.auth,r,n);const{email:o}=yield Gt(i.auth,r);o!==t.email&&(yield t.reload())})).apply(this,arguments)}function an(t,e){return ln.apply(this,arguments)}function ln(){return(ln=(0,i.Z)(function*(t,e){return N(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function cn(){return(cn=(0,i.Z)(function*(t,{displayName:e,photoURL:n}){if(void 0===e&&void 0===n)return;const i=(0,s.m9)(t),r={idToken:yield i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=yield Q(i,an(i.auth,r));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find(({providerId:t})=>"password"===t);a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),yield i._updateTokensIfNecessary(o)})).apply(this,arguments)}function un(t,e,n){return hn.apply(this,arguments)}function hn(){return(hn=(0,i.Z)(function*(t,e,n){const{auth:i}=t,r={idToken:yield t.getIdToken(),returnSecureToken:!0};e&&(r.email=e),n&&(r.password=n);const s=yield Q(t,Nt(i,r));yield t._updateTokensIfNecessary(s,!0)})).apply(this,arguments)}class dn{constructor(t,e,n={}){this.isNewUser=t,this.providerId=e,this.profile=n}}class pn extends dn{constructor(t,e,n,i){super(t,e,n),this.username=i}}class fn extends dn{constructor(t,e){super(t,"facebook.com",e)}}class gn extends pn{constructor(t,e){super(t,"github.com",e,"string"==typeof(null==e?void 0:e.login)?null==e?void 0:e.login:null)}}class mn extends dn{constructor(t,e){super(t,"google.com",e)}}class yn extends pn{constructor(t,e,n){super(t,"twitter.com",e,n)}}function _n(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(t){var e,n;if(!t)return null;const{providerId:i}=t,r=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||"identitytoolkit#SignupNewUserResponse"===t.kind;if(!i&&(null==t?void 0:t.idToken)){const i=null===(n=null===(e=Y(t.idToken))||void 0===e?void 0:e.firebase)||void 0===n?void 0:n.sign_in_provider;if(i)return new dn(s,"anonymous"!==i&&"custom"!==i?i:null)}if(!i)return null;switch(i){case"facebook.com":return new fn(s,r);case"github.com":return new gn(s,r);case"google.com":return new mn(s,r);case"twitter.com":return new yn(s,r,t.screenName||null);case"custom":case"anonymous":return new dn(s,null);default:return new dn(s,i,r)}}(n)}class vn{constructor(t,e){this.type=t,this.credential=e}static _fromIdtoken(t){return new vn("enroll",t)}static _fromMfaPendingCredential(t){return new vn("signin",t)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(t){var e,n;if(null==t?void 0:t.multiFactorSession){if(null===(e=t.multiFactorSession)||void 0===e?void 0:e.pendingCredential)return vn._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.idToken)return vn._fromIdtoken(t.multiFactorSession.idToken)}return null}}class bn{constructor(t,e,n){this.session=t,this.hints=e,this.signInResolver=n}static _fromError(t,e){const n=Ot(t),r=(e.serverResponse.mfaInfo||[]).map(t=>Be._fromServerResponse(n,t));v(e.serverResponse.mfaPendingCredential,n,"internal-error");const s=vn._fromMfaPendingCredential(e.serverResponse.mfaPendingCredential);return new bn(s,r,function(){var t=(0,i.Z)(function*(t){const i=yield t._process(n,s);delete e.serverResponse.mfaInfo,delete e.serverResponse.mfaPendingCredential;const r=Object.assign(Object.assign({},e.serverResponse),{idToken:i.idToken,refreshToken:i.refreshToken});switch(e.operationType){case"signIn":const t=yield ve._fromIdTokenResponse(n,e.operationType,r);return yield n._updateCurrentUser(t.user),t;case"reauthenticate":return v(e.user,n,"internal-error"),ve._forOperation(e.user,e.operationType,r);default:f(n,"internal-error")}});return function(e){return t.apply(this,arguments)}}())}resolveSignIn(t){var e=this;return(0,i.Z)(function*(){return e.signInResolver(t)})()}}function wn(t,e){return N(t,"POST","/v2/accounts/mfaEnrollment:start",A(t,e))}class Cn{constructor(t){this.user=t,this.enrolledFactors=[],t._onReload(e=>{e.mfaInfo&&(this.enrolledFactors=e.mfaInfo.map(e=>Be._fromServerResponse(t.auth,e)))})}static _fromUser(t){return new Cn(t)}getSession(){var t=this;return(0,i.Z)(function*(){return vn._fromIdtoken(yield t.user.getIdToken())})()}enroll(t,e){var n=this;return(0,i.Z)(function*(){const i=t,r=yield n.getSession(),s=yield Q(n.user,i._process(n.user.auth,r,e));return yield n.user._updateTokensIfNecessary(s),n.user.reload()})()}unenroll(t){var e=this;return(0,i.Z)(function*(){const n="string"==typeof t?t:t.uid,i=yield e.user.getIdToken(),r=yield Q(e.user,(s=e.user.auth,o={idToken:i,mfaEnrollmentId:n},N(s,"POST","/v2/accounts/mfaEnrollment:withdraw",A(s,o))));var s,o;e.enrolledFactors=e.enrolledFactors.filter(({uid:t})=>t!==n),yield e.user._updateTokensIfNecessary(r);try{yield e.user.reload()}catch(a){if("auth/user-token-expired"!==a.code)throw a}})()}}const xn=new WeakMap,Pn="__sak";class kn{constructor(t,e){this.storage=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Pn,"1"),this.storage.removeItem(Pn),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}}const On=(()=>{class t extends kn{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=(0,s.z$)();return mt(t)||Ct(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=xt(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),i=this.localCache[e];n!==i&&t(e,i,n)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys((t,e,n)=>{this.notifyListeners(t,n)});const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(t.newValue!==i)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const i=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},r=this.storage.getItem(n);(0,s.w1)()&&10===document.documentMode&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,10):i()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,e){var n=()=>super._set,r=this;return(0,i.Z)(function*(){yield n().call(r,t,e),r.localCache[t]=JSON.stringify(e)})()}_get(t){var e=()=>super._get,n=this;return(0,i.Z)(function*(){const i=yield e().call(n,t);return n.localCache[t]=JSON.stringify(i),i})()}_remove(t){var e=()=>super._remove,n=this;return(0,i.Z)(function*(){yield e().call(n,t),delete n.localCache[t]})()}}return t.type="LOCAL",t})(),Tn=(()=>{class t extends kn{constructor(){super(window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}return t.type="SESSION",t})();let In=(()=>{class t{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(t=>t.isListeningto(e));if(n)return n;const i=new t(e);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var e=this;return(0,i.Z)(function*(){const n=t,{eventId:r,eventType:s,data:o}=n.data,a=e.handlersMap[s];if(!(null==a?void 0:a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(function(){var t=(0,i.Z)(function*(t){return t(n.origin,o)});return function(e){return t.apply(this,arguments)}}()),c=yield function(t){return Promise.all(t.map(function(){var t=(0,i.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(e){return{fulfilled:!1,reason:e}}});return function(e){return t.apply(this,arguments)}}()))}(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})})()}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function Sn(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(10*Math.random());return t+n}class En{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,n=50){var r=this;return(0,i.Z)(function*(){const i="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Sn("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(t){const e=t;if(e.data.eventId===c)switch(e.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(e.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"))}}},r.handlers.add(o),i.port1.addEventListener("message",o.onMessage),r.target.postMessage({eventType:t,eventId:c,data:e},[i.port2])}).finally(()=>{o&&r.removeMessageHandler(o)})})()}}function Mn(){return window}function An(){return void 0!==Mn().WorkerGlobalScope&&"function"==typeof Mn().importScripts}function Nn(){return(Nn=(0,i.Z)(function*(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(t){return null}})).apply(this,arguments)}const Rn="firebaseLocalStorageDb",Dn="firebaseLocalStorage",Ln="fbase_key";class Fn{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Un(t,e){return t.transaction([Dn],e?"readwrite":"readonly").objectStore(Dn)}function qn(){const t=indexedDB.open(Rn,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const e=t.result;try{e.createObjectStore(Dn,{keyPath:Ln})}catch(i){n(i)}}),t.addEventListener("success",(0,i.Z)(function*(){const n=t.result;n.objectStoreNames.contains(Dn)?e(n):(n.close(),yield function(){const t=indexedDB.deleteDatabase(Rn);return new Fn(t).toPromise()}(),e(yield qn()))}))})}function jn(t,e,n){return zn.apply(this,arguments)}function zn(){return(zn=(0,i.Z)(function*(t,e,n){const i=Un(t,!0).put({[Ln]:e,value:n});return new Fn(i).toPromise()})).apply(this,arguments)}function Vn(){return(Vn=(0,i.Z)(function*(t,e){const n=Un(t,!1).get(e),i=yield new Fn(n).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function Bn(t,e){const n=Un(t,!0).delete(e);return new Fn(n).toPromise()}const Hn=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,i.Z)(function*(){return t.db||(t.db=yield qn()),t.db})()}_withRetries(t){var e=this;return(0,i.Z)(function*(){let n=0;for(;;)try{const n=yield e._openDb();return yield t(n)}catch(i){if(n++>3)throw i;e.db&&(e.db.close(),e.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,i.Z)(function*(){return An()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,i.Z)(function*(){t.receiver=In._getInstance(An()?self:null),t.receiver._subscribe("keyChanged",function(){var e=(0,i.Z)(function*(e,n){return{keyProcessed:(yield t._poll()).includes(n.key)}});return function(t,n){return e.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var t=(0,i.Z)(function*(t,e){return["keyChanged"]});return function(e,n){return t.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,i.Z)(function*(){var e,n;if(t.activeServiceWorker=yield function(){return Nn.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new En(t.activeServiceWorker);const i=yield t.sender._send("ping",{},800);i&&(null===(e=i[0])||void 0===e?void 0:e.fulfilled)&&(null===(n=i[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var e=this;return(0,i.Z)(function*(){var n;if(e.sender&&e.activeServiceWorker&&((null===(n=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null)===e.activeServiceWorker)try{yield e.sender._send("keyChanged",{key:t},e.serviceWorkerReceiverAvailable?800:50)}catch(n){}})()}_isAvailable(){return(0,i.Z)(function*(){try{if(!indexedDB)return!1;const t=yield qn();return yield jn(t,Pn,"1"),yield Bn(t,Pn),!0}catch(t){}return!1})()}_withPendingWrite(t){var e=this;return(0,i.Z)(function*(){e.pendingWrites++;try{yield t()}finally{e.pendingWrites--}})()}_set(t,e){var n=this;return(0,i.Z)(function*(){return n._withPendingWrite((0,i.Z)(function*(){return yield n._withRetries(n=>jn(n,t,e)),n.localCache[t]=e,n.notifyServiceWorker(t)}))})()}_get(t){var e=this;return(0,i.Z)(function*(){const n=yield e._withRetries(e=>function(t,e){return Vn.apply(this,arguments)}(e,t));return e.localCache[t]=n,n})()}_remove(t){var e=this;return(0,i.Z)(function*(){return e._withPendingWrite((0,i.Z)(function*(){return yield e._withRetries(e=>Bn(e,t)),delete e.localCache[t],e.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,i.Z)(function*(){const e=yield t._withRetries(t=>{const e=Un(t,!1).getAll();return new Fn(e).toPromise()});if(!e)return[];if(0!==t.pendingWrites)return[];const n=[],i=new Set;for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(t.localCache[r])!==JSON.stringify(s)&&(t.notifyListeners(r,s),n.push(r));for(const r of Object.keys(t.localCache))t.localCache[r]&&!i.has(r)&&(t.notifyListeners(r,null),n.push(r));return n})()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,i.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function $n(t,e){return N(t,"POST","/v2/accounts/mfaSignIn:start",A(t,e))}function Gn(){return(Gn=(0,i.Z)(function*(t){return(yield N(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Zn(t){return new Promise((e,n)=>{const i=document.createElement("script");var r,s;i.setAttribute("src",t),i.onload=e,i.onerror=t=>{const e=g("internal-error");e.customData=t,n(e)},i.type="text/javascript",i.charset="UTF-8",(null!==(s=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==s?s:document).appendChild(i)})}function Wn(t){return`__${t}${Math.floor(1e6*Math.random())}`}const Kn=1e12;class Yn{constructor(t){this.auth=t,this.counter=Kn,this._widgets=new Map}render(t,e){const n=this.counter;return this._widgets.set(n,new Qn(t,this.auth.name,e||{})),this.counter++,n}reset(t){var e;const n=t||Kn;null===(e=this._widgets.get(n))||void 0===e||e.delete(),this._widgets.delete(n)}getResponse(t){var e;return(null===(e=this._widgets.get(t||Kn))||void 0===e?void 0:e.getResponse())||""}execute(t){var e=this;return(0,i.Z)(function*(){var n;return null===(n=e._widgets.get(t||Kn))||void 0===n||n.execute(),""})()}}class Qn{constructor(t,e,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"==typeof t?document.getElementById(t):t;v(i,"argument-error",{appName:e}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<50;i++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}();const{callback:t,"expired-callback":e}=this.params;if(t)try{t(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,e)try{e()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Jn=Wn("rcb"),Xn=new T(3e4,6e4);class ti{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Mn().grecaptcha}load(t,e=""){return v(function(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}(e),t,"argument-error"),this.shouldResolveImmediately(e)?Promise.resolve(Mn().grecaptcha):new Promise((n,i)=>{const r=Mn().setTimeout(()=>{i(g(t,"network-request-failed"))},Xn.get());Mn()[Jn]=()=>{Mn().clearTimeout(r),delete Mn()[Jn];const s=Mn().grecaptcha;if(!s)return void i(g(t,"internal-error"));const o=s.render;s.render=(t,e)=>{const n=o(t,e);return this.counter++,n},this.hostLanguage=e,n(s)},Zn(`https://www.google.com/recaptcha/api.js??${(0,s.xO)({onload:Jn,render:"explicit",hl:e})}`).catch(()=>{clearTimeout(r),i(g(t,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(t){return!!Mn().grecaptcha&&(t===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ei{load(t){return(0,i.Z)(function*(){return new Yn(t)})()}clearedOneInstance(){}}const ni="recaptcha",ii={theme:"light",type:"image"};class ri{constructor(t,e=Object.assign({},ii),n){this.parameters=e,this.type=ni,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ot(n),this.isInvisible="invisible"===this.parameters.size,v("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const i="string"==typeof t?document.getElementById(t):t;v(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ei:new ti,this.validateStartingState()}verify(){var t=this;return(0,i.Z)(function*(){t.assertNotDestroyed();const e=yield t.render(),n=t.getAssertedRecaptcha();return n.getResponse(e)||new Promise(i=>{const r=e=>{e&&(t.tokenChangeListeners.delete(r),i(e))};t.tokenChangeListeners.add(r),t.isInvisible&&n.execute(e)})})()}render(){try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(t=>{throw this.renderPromise=null,t})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(t=>{this.container.removeChild(t)})}validateStartingState(){v(!this.parameters.sitekey,this.auth,"argument-error"),v(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),v("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(t){return e=>{if(this.tokenChangeListeners.forEach(t=>t(e)),"function"==typeof t)t(e);else if("string"==typeof t){const n=Mn()[t];"function"==typeof n&&n(e)}}}assertNotDestroyed(){v(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var t=this;return(0,i.Z)(function*(){if(yield t.init(),!t.widgetId){let e=t.container;if(!t.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}t.widgetId=t.getAssertedRecaptcha().render(e,t.parameters)}return t.widgetId})()}init(){var t=this;return(0,i.Z)(function*(){v(k()&&!An(),t.auth,"internal-error"),yield function(){let t=null;return new Promise(e=>{"complete"!==document.readyState?(t=()=>e(),window.addEventListener("load",t)):e()}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}(),t.recaptcha=yield t._recaptchaLoader.load(t.auth,t.auth.languageCode||void 0);const e=yield function(t){return Gn.apply(this,arguments)}(t.auth);v(e,t.auth,"internal-error"),t.parameters.sitekey=e})()}getAssertedRecaptcha(){return v(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class si{constructor(t,e){this.verificationId=t,this.onConfirmation=e}confirm(t){const e=oe._fromVerification(this.verificationId,t);return this.onConfirmation(e)}}function oi(){return(oi=(0,i.Z)(function*(t,e,n){const i=Ot(t),r=yield ci(i,e,(0,s.m9)(n));return new si(r,t=>Re(i,t))})).apply(this,arguments)}function ai(){return(ai=(0,i.Z)(function*(t,e,n){const i=(0,s.m9)(t);yield Ie(!1,i,"phone");const r=yield ci(i.auth,e,(0,s.m9)(n));return new si(r,t=>Le(i,t))})).apply(this,arguments)}function li(){return(li=(0,i.Z)(function*(t,e,n){const i=(0,s.m9)(t),r=yield ci(i.auth,e,(0,s.m9)(n));return new si(r,t=>Ue(i,t))})).apply(this,arguments)}function ci(t,e,n){return ui.apply(this,arguments)}function ui(){return(ui=(0,i.Z)(function*(t,e,n){var i;const r=yield n.verify();try{let s;if(v("string"==typeof r,t,"argument-error"),v(n.type===ni,t,"argument-error"),s="string"==typeof e?{phoneNumber:e}:e,"session"in s){const e=s.session;if("phoneNumber"in s)return v("enroll"===e.type,t,"internal-error"),(yield wn(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{v("signin"===e.type,t,"internal-error");const n=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;return v(n,t,"missing-multi-factor-info"),(yield $n(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=yield te(t,{phoneNumber:s.phoneNumber,recaptchaToken:r});return e}}finally{n._reset()}})).apply(this,arguments)}function hi(){return(hi=(0,i.Z)(function*(t,e){yield Oe((0,s.m9)(t),e)})).apply(this,arguments)}let di=(()=>{class t{constructor(e){this.providerId=t.PROVIDER_ID,this.auth=Ot(e)}verifyPhoneNumber(t,e){return ci(this.auth,t,(0,s.m9)(e))}static credential(t,e){return oe._fromVerification(t,e)}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:n}=t;return e&&n?oe._fromTokenResponse(e,n):null}}return t.PROVIDER_ID="phone",t.PHONE_SIGN_IN_METHOD="phone",t})();function pi(t,e){return e?x(e):(v(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class fi extends Et{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Qt(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Qt(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Qt(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function gi(t){return Ae(t.auth,new fi(t),t.bypassAuthState)}function mi(t){const{auth:e,user:n}=t;return v(n,e,"internal-error"),Ee(n,new fi(t),t.bypassAuthState)}function yi(t){return _i.apply(this,arguments)}function _i(){return(_i=(0,i.Z)(function*(t){const{auth:e,user:n}=t;return v(n,e,"internal-error"),Oe(n,new fi(t),t.bypassAuthState)})).apply(this,arguments)}class vi{constructor(t,e,n,i,r=!1){this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){var t=this;return new Promise(function(){var e=(0,i.Z)(function*(e,n){t.pendingPromise={resolve:e,reject:n};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(i){t.reject(i)}});return function(t,n){return e.apply(this,arguments)}}())}onAuthEvent(t){var e=this;return(0,i.Z)(function*(){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=t;if(o)return void e.reject(o);const l={auth:e.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:e.user,bypassAuthState:e.bypassAuthState};try{e.resolve(yield e.getIdpTask(a)(l))}catch(c){e.reject(c)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return gi;case"linkViaPopup":case"linkViaRedirect":return yi;case"reauthViaPopup":case"reauthViaRedirect":return mi;default:f(this.auth,"internal-error")}}resolve(t){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bi=new T(2e3,1e4);function wi(){return(wi=(0,i.Z)(function*(t,e,n){const i=Ot(t);y(t,e,ce);const r=pi(i,n);return new Pi(i,"signInViaPopup",e,r).executeNotNull()})).apply(this,arguments)}function Ci(){return(Ci=(0,i.Z)(function*(t,e,n){const i=(0,s.m9)(t);y(i.auth,e,ce);const r=pi(i.auth,n);return new Pi(i.auth,"reauthViaPopup",e,r,i).executeNotNull()})).apply(this,arguments)}function xi(){return(xi=(0,i.Z)(function*(t,e,n){const i=(0,s.m9)(t);y(i.auth,e,ce);const r=pi(i.auth,n);return new Pi(i.auth,"linkViaPopup",e,r,i).executeNotNull()})).apply(this,arguments)}let Pi=(()=>{class t extends vi{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var t=this;return(0,i.Z)(function*(){const e=yield t.execute();return v(e,t.auth,"internal-error"),e})()}onExecution(){var t=this;return(0,i.Z)(function*(){w(1===t.filter.length,"Popup operations only handle one event");const e=Sn();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],e),t.authWindow.associatedEvent=e,t.resolver._originValidation(t.auth).catch(e=>{t.reject(e)}),t.resolver._isIframeWebStorageSupported(t.auth,e=>{e||t.reject(g(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(g(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;this.pollId=(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(g(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(t,bi.get())};t()}}return t.currentPopupAction=null,t})();const ki=new Map;class Oi extends vi{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}execute(){var t=()=>super.execute,e=this;return(0,i.Z)(function*(){let n=ki.get(e.auth._key());if(!n){try{const i=(yield function(t,e){return Ti.apply(this,arguments)}(e.resolver,e.auth))?yield t().call(e):null;n=()=>Promise.resolve(i)}catch(i){n=()=>Promise.reject(i)}ki.set(e.auth._key(),n)}return n()})()}onAuthEvent(t){var e=()=>super.onAuthEvent,n=this;return(0,i.Z)(function*(){if("signInViaRedirect"===t.type)return e().call(n,t);if("unknown"!==t.type){if(t.eventId){const i=yield n.auth._redirectUserForId(t.eventId);if(i)return n.user=i,e().call(n,t);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,i.Z)(function*(){})()}cleanUp(){}}function Ti(){return(Ti=(0,i.Z)(function*(t,e){const n=Mi(e),i="true"===(yield Ei(t)._get(n));return yield Ei(t)._remove(n),i})).apply(this,arguments)}function Ii(t,e){return Si.apply(this,arguments)}function Si(){return(Si=(0,i.Z)(function*(t,e){return Ei(t)._set(Mi(e),"true")})).apply(this,arguments)}function Ei(t){return x(t._redirectPersistence)}function Mi(t){return dt("pendingRedirect",t.config.apiKey,t.name)}function Ai(){return(Ai=(0,i.Z)(function*(t,e,n){const i=Ot(t);y(t,e,ce);const r=pi(i,n);return yield Ii(r,i),r._openRedirect(i,e,"signInViaRedirect")})).apply(this,arguments)}function Ni(){return(Ni=(0,i.Z)(function*(t,e,n){const i=(0,s.m9)(t);y(i.auth,e,ce);const r=pi(i.auth,n);yield Ii(r,i.auth);const o=yield Ui(i);return r._openRedirect(i.auth,e,"reauthViaRedirect",o)})).apply(this,arguments)}function Ri(){return(Ri=(0,i.Z)(function*(t,e,n){const i=(0,s.m9)(t);y(i.auth,e,ce);const r=pi(i.auth,n);yield Ie(!1,i,e.providerId),yield Ii(r,i.auth);const o=yield Ui(i);return r._openRedirect(i.auth,e,"linkViaRedirect",o)})).apply(this,arguments)}function Di(){return(Di=(0,i.Z)(function*(t,e){return yield Ot(t)._initializationPromise,Li(t,e,!1)})).apply(this,arguments)}function Li(t,e){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,i.Z)(function*(t,e,n=!1){const i=Ot(t),r=pi(i,e),s=new Oi(i,r,n),o=yield s.execute();return o&&!n&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})).apply(this,arguments)}function Ui(t){return qi.apply(this,arguments)}function qi(){return(qi=(0,i.Z)(function*(t){const e=Sn(`${t.uid}:::`);return t._redirectEventId=e,yield t.auth._setRedirectUser(t),yield t.auth._persistUserIfCurrent(t),e})).apply(this,arguments)}class ji{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vi(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!Vi(t)){const i=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(g(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zi(t))}saveEventToCache(t){this.cachedEventUids.add(zi(t)),this.lastProcessedEventTime=Date.now()}}function zi(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(t=>t).join("-")}function Vi({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}function Bi(t){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,i.Z)(function*(t,e={}){return N(t,"GET","/v1/projects",e)})).apply(this,arguments)}const $i=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gi=/^https?/;function Zi(){return(Zi=(0,i.Z)(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield Bi(t);for(const i of e)try{if(Wi(i))return}catch(n){}f(t,"unauthorized-domain")})).apply(this,arguments)}function Wi(t){const e=P(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return""===r.hostname&&""===i?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!Gi.test(n))return!1;if($i.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const Ki=new T(3e4,6e4);function Yi(){const t=Mn().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Qi=null;function Ji(t){return Qi=Qi||function(t){return new Promise((e,n)=>{var i,r,s;function o(){Yi(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yi(),n(g(t,"network-request-failed"))},timeout:Ki.get()})}if(null===(r=null===(i=Mn().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=Mn().gapi)||void 0===s?void 0:s.load)){const e=Wn("iframefcb");return Mn()[e]=()=>{gapi.load?o():n(g(t,"network-request-failed"))},Zn(`https://apis.google.com/js/api.js?onload=${e}`)}o()}}).catch(t=>{throw Qi=null,t})}(t),Qi}const Xi=new T(5e3,15e3),tr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},er=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nr(t){const e=t.config;v(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?I(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,i={apiKey:e.apiKey,appName:t.name,v:o.SDK_VERSION},r=er.get(t.config.apiHost);r&&(i.eid=r);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${(0,s.xO)(i).slice(1)}`}function ir(){return(ir=(0,i.Z)(function*(t){const e=yield Ji(t),n=Mn().gapi;return v(n,t,"internal-error"),e.open({where:document.body,url:nr(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tr,dontclear:!0},e=>new Promise(function(){var n=(0,i.Z)(function*(n,i){yield e.restyle({setHideOnLeave:!1});const r=g(t,"network-request-failed"),s=Mn().setTimeout(()=>{i(r)},Xi.get());function o(){Mn().clearTimeout(s),n(e)}e.ping(o).then(o,()=>{i(r)})});return function(t,e){return n.apply(this,arguments)}}()))})).apply(this,arguments)}const rr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sr{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function or(t,e,n,i,r,a){v(t.config.authDomain,t,"auth-domain-config-required"),v(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:o.SDK_VERSION,eventId:r};if(e instanceof ce){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",(0,s.xb)(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(a||{}))l[t]=e}if(e instanceof ue){const t=e.getScopes().filter(t=>""!==t);t.length>0&&(l.scopes=t.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const s of Object.keys(c))void 0===c[s]&&delete c[s];return`${function({config:t}){return t.emulator?I(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${(0,s.xO)(c).slice(1)}`}const ar="webStorageSupport";class lr extends class{constructor(t){this.factorId=t}_process(t,e,n){switch(e.type){case"enroll":return this._finalizeEnroll(t,e.credential,n);case"signin":return this._finalizeSignIn(t,e.credential);default:return b("unexpected MultiFactorSessionType")}}}{constructor(t){super("phone"),this.credential=t}static _fromCredential(t){return new lr(t)}_finalizeEnroll(t,e,n){return function(t,e){return N(t,"POST","/v2/accounts/mfaEnrollment:finalize",A(t,e))}(t,{idToken:e,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(t,e){return function(t,e){return N(t,"POST","/v2/accounts/mfaSignIn:finalize",A(t,e))}(t,{mfaPendingCredential:e,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let cr=(()=>{class t{constructor(){}static assertion(t){return lr._fromCredential(t)}}return t.FACTOR_ID="phone",t})();var ur;class hr{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return(0,i.Z)(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(e=>{var n;t((null===(n=e)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function dr(){return window}function pr(){return(pr=(0,i.Z)(function*(t,e,n){var i;const{BuildInfo:r}=dr();w(e.sessionId,"AuthEvent did not contain a session ID");const s=yield mr(e.sessionId),o={};return Ct()?o.ibi=r.packageName:vt()?o.apn=r.packageName:f(t,"operation-not-supported-in-this-environment"),r.displayName&&(o.appDisplayName=r.displayName),o.sessionId=s,or(t,n,e.type,void 0,null!==(i=e.eventId)&&void 0!==i?i:void 0,o)})).apply(this,arguments)}function fr(){return(fr=(0,i.Z)(function*(t){const{BuildInfo:e}=dr(),n={};Ct()?n.iosBundleId=e.packageName:vt()?n.androidPackageName=e.packageName:f(t,"operation-not-supported-in-this-environment"),yield Bi(t,n)})).apply(this,arguments)}function gr(){return(gr=(0,i.Z)(function*(t,e,n){const{cordova:i}=dr();let r=()=>{};try{yield new Promise((s,o)=>{let a=null;function l(){var t;s();const e=null===(t=i.plugins.browsertab)||void 0===t?void 0:t.close;"function"==typeof e&&e(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout(()=>{o(g(t,"redirect-cancelled-by-user"))},2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),vt()&&document.addEventListener("visibilitychange",u,!1),r=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{r()}})).apply(this,arguments)}function mr(t){return yr.apply(this,arguments)}function yr(){return(yr=(0,i.Z)(function*(t){const e=_r(t),n=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(t=>t.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function _r(t){if(w(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}ur="Browser",(0,o._registerComponent)(new c.wA("auth",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),{apiKey:i,authDomain:r}=n.options;return(t=>{v(i&&!i.includes(":"),"invalid-api-key",{appName:t.name}),v(!(null==r?void 0:r.includes(":")),"argument-error",{appName:t.name});const n={apiKey:i,authDomain:r,clientPlatform:ur,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pt(ur)},s=new kt(t,n);return function(t,e){const n=(null==e?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(x);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,null==e?void 0:e.popupRedirectResolver)}(s,e),s})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new c.wA("auth-internal",t=>{return e=Ot(t.getProvider("auth").getImmediate()),new hr(e);var e},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)("@firebase/auth","0.18.1",void 0);class vr extends ji{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(t=>{this.resolveInialized=t})}addPassiveListener(t){this.passiveListeners.add(t)}removePassiveListener(t){this.passiveListeners.delete(t)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(t){return this.resolveInialized(),this.passiveListeners.forEach(e=>e(t)),super.onEvent(t)}initialized(){var t=this;return(0,i.Z)(function*(){yield t.initPromise})()}}function br(t){return wr.apply(this,arguments)}function wr(){return(wr=(0,i.Z)(function*(t){const e=yield xr()._get(Pr(t));return e&&(yield xr()._remove(Pr(t))),e})).apply(this,arguments)}function Cr(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*e.length);t.push(e.charAt(n))}return t.join("")}function xr(){return x(On)}function Pr(t){return dt("authEvent",t.config.apiKey,t.name)}function kr(t){if(!(null==t?void 0:t.includes("?")))return{};const[e,...n]=t.split("?");return(0,s.zd)(n.join("?"))}function Or(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:g("no-auth-event")}}function Tr(){var t;return(null===(t=null===self||void 0===self?void 0:self.location)||void 0===t?void 0:t.protocol)||null}function Ir(t=(0,s.z$)()){return!("file:"!==Tr()&&"ionic:"!==Tr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sr(){try{const t=self.localStorage,e=Sn();if(t)return t.setItem(e,"1"),t.removeItem(e),!function(t=(0,s.z$)()){return(0,s.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(t=(0,s.z$)()){return/Edge\/\d+/.test(t)}(t)}()||(0,s.hl)()}catch(t){return Er()&&(0,s.hl)()}return!1}function Er(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Mr(){return("http:"===Tr()||"https:"===Tr()||(0,s.ru)()||Ir())&&!((0,s.b$)()||(0,s.UG)())&&Sr()&&!Er()}function Ar(){return Ir()&&"undefined"!=typeof document}function Nr(){return(Nr=(0,i.Z)(function*(){return!!Ar()&&new Promise(t=>{const e=setTimeout(()=>{t(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})})})).apply(this,arguments)}const Rr={LOCAL:"local",NONE:"none",SESSION:"session"},Dr=v,Lr="persistence";function Fr(t){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,i.Z)(function*(t){yield t._initializationPromise;const e=qr(),n=dt(Lr,t.config.apiKey,t.name);(null==e?void 0:e.sessionStorage)&&e.sessionStorage.setItem(n,t._getPersistence())})).apply(this,arguments)}function qr(){return"undefined"!=typeof window?window:null}const jr=v;class zr{constructor(){this.browserResolver=x(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tn,this._completeRedirectFn=Li}_openPopup(t,e,n,r){var o=this;return(0,i.Z)(function*(){var i;w(null===(i=o.eventManagers[t._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");const a=or(t,e,n,P(),r);return function(t,e,n,i=500,r=600){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const c=Object.assign(Object.assign({},rr),{width:i.toString(),height:r.toString(),top:o,left:a}),u=(0,s.z$)().toLowerCase();n&&(l=yt(u)?"_blank":n),gt(u)&&(e=e||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce((t,[e,n])=>`${t}${e}=${n},`,"");if(function(t=(0,s.z$)()){var e;return Ct(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==l)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(e||"",l),new sr(null);const d=window.open(e||"",l,h);v(d,t,"popup-blocked");try{d.focus()}catch(p){}return new sr(d)}(t,a,Sn())})()}_openRedirect(t,e,n,r){var s=this;return(0,i.Z)(function*(){var i;return yield s._originValidation(t),i=or(t,e,n,P(),r),Mn().location.href=i,new Promise(()=>{})})()}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(w(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n}initAndGetManager(t){var e=this;return(0,i.Z)(function*(){const n=yield function(t){return ir.apply(this,arguments)}(t),i=new ji(t);return n.register("authEvent",e=>(v(null==e?void 0:e.authEvent,t,"invalid-auth-event"),{status:i.onEvent(e.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),e.eventManagers[t._key()]={manager:i},e.iframes[t._key()]=n,i})()}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(ar,{type:ar},n=>{var i;const r=null===(i=null==n?void 0:n[0])||void 0===i?void 0:i.webStorageSupport;void 0!==r&&e(!!r),f(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function(t){return Zi.apply(this,arguments)}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return xt()||mt()||Ct()}}),this.cordovaResolver=x(class{constructor(){this._redirectPersistence=Tn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Li}_initialize(t){var e=this;return(0,i.Z)(function*(){const n=t._key();let i=e.eventManagers.get(n);return i||(i=new vr(t),e.eventManagers.set(n,i),e.attachCallbackListeners(t,i)),i})()}_openPopup(t){f(t,"operation-not-supported-in-this-environment")}_openRedirect(t,e,n,r){var o=this;return(0,i.Z)(function*(){!function(t){var e,n,i,r,s,o,a,l,c,u;const h=dr();v("function"==typeof(null===(e=null==h?void 0:h.universalLinks)||void 0===e?void 0:e.subscribe),t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),v(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),v("function"==typeof(null===(s=null===(r=null===(i=null==h?void 0:h.cordova)||void 0===i?void 0:i.plugins)||void 0===r?void 0:r.browsertab)||void 0===s?void 0:s.openUrl),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),v("function"==typeof(null===(l=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),v("function"==typeof(null===(u=null===(c=null==h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(t);const i=yield o._initialize(t);yield i.initialized(),i.resetRedirect(),ki.clear(),yield o._originValidation(t);const a=function(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:Cr(),postBody:null,tenantId:t.tenantId,error:g(t,"no-auth-event")}}(t,n,r);yield function(t,e){return xr()._set(Pr(t),e)}(t,a);const l=yield function(t,e,n){return pr.apply(this,arguments)}(t,a,e),c=yield function(t){const{cordova:e}=dr();return new Promise(n=>{e.plugins.browsertab.isAvailable(i=>{let r=null;i?e.plugins.browsertab.openUrl(t):r=e.InAppBrowser.open(t,function(t=(0,s.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}()?"_blank":"_system","location=yes"),n(r)})})}(l);return function(t,e,n){return gr.apply(this,arguments)}(t,i,c)})()}_isIframeWebStorageSupported(t,e){throw new Error("Method not implemented.")}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function(t){return fr.apply(this,arguments)}(t)),this.originValidationPromises[e]}attachCallbackListeners(t,e){const{universalLinks:n,handleOpenURL:r,BuildInfo:s}=dr(),o=setTimeout((0,i.Z)(function*(){yield br(t),e.onEvent(Or())}),500),a=function(){var n=(0,i.Z)(function*(n){clearTimeout(o);const i=yield br(t);let r=null;i&&(null==n?void 0:n.url)&&(r=function(t,e){var n,i;const r=function(t){const e=kr(t),n=e.link?decodeURIComponent(e.link):void 0,i=kr(n).link,r=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return kr(r).link||r||i||n||t}(e);if(r.includes("/__/auth/callback")){const e=kr(r),s=e.firebaseError?function(t){try{return JSON.parse(t)}catch(e){return null}}(decodeURIComponent(e.firebaseError)):null,o=null===(i=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===i?void 0:i[1],a=o?g(o):null;return a?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:r,postBody:null}}return null}(i,n.url)),e.onEvent(r||Or())});return function(t){return n.apply(this,arguments)}}();void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const l=r,c=`${s.packageName.toLowerCase()}://`;dr().handleOpenURL=function(){var t=(0,i.Z)(function*(t){if(t.toLowerCase().startsWith(c)&&a({url:t}),"function"==typeof l)try{l(t)}catch(e){console.error(e)}});return function(e){return t.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Tn,this._completeRedirectFn=Li}_initialize(t){var e=this;return(0,i.Z)(function*(){return yield e.selectUnderlyingResolver(),e.assertedUnderlyingResolver._initialize(t)})()}_openPopup(t,e,n,r){var s=this;return(0,i.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(t,e,n,r)})()}_openRedirect(t,e,n,r){var s=this;return(0,i.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(t,e,n,r)})()}_isIframeWebStorageSupported(t,e){this.assertedUnderlyingResolver._isIframeWebStorageSupported(t,e)}_originValidation(t){return this.assertedUnderlyingResolver._originValidation(t)}get _shouldInitProactively(){return Ar()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return jr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var t=this;return(0,i.Z)(function*(){if(t.underlyingResolver)return;const e=yield function(){return Nr.apply(this,arguments)}();t.underlyingResolver=e?t.cordovaResolver:t.browserResolver})()}}function Vr(t){return t.unwrap()}function Br(t){return $r(t)}function Hr(t,e){var n;const i=null===(n=e.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===e.code)e.resolver=new Yr(t,function(t,e){var n;const i=(0,s.m9)(t),r=e;return v(e.operationType,i,"argument-error"),v(null===(n=r.serverResponse)||void 0===n?void 0:n.mfaPendingCredential,i,"argument-error"),bn._fromError(i,r)}(t,e));else if(i){const t=$r(e),n=e;t&&(n.credential=t,n.tenantId=i.tenantId||void 0,n.email=i.email||void 0,n.phoneNumber=i.phoneNumber||void 0)}}function $r(t){const{_tokenResponse:e}=t instanceof s.ZR?t.customData:t;if(!e)return null;if(!(t instanceof s.ZR)&&"temporaryProof"in e&&"phoneNumber"in e)return di.credentialFromResult(t);const n=e.providerId;if(!n||"password"===n)return null;let i;switch(n){case"google.com":i=pe;break;case"facebook.com":i=de;break;case"github.com":i=fe;break;case"twitter.com":i=me;break;default:const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:o,nonce:a}=e;return r||s||t||o?o?n.startsWith("saml.")?ge._create(n,o):Xt._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:t,accessToken:r}):new he(n).credential({idToken:t,accessToken:r,rawNonce:a}):null}return t instanceof s.ZR?i.credentialFromError(t):i.credentialFromResult(t)}function Gr(t,e){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,i.Z)(function*(t,e){let n;try{n=yield e}catch(o){throw o instanceof s.ZR&&Hr(t,o),o}const{operationType:i,user:r}=n;return{operationType:i,credential:Br(n),additionalUserInfo:_n(n),user:Qr.getOrCreate(r)}})).apply(this,arguments)}function Wr(t,e){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,i.Z)(function*(t,e){const n=yield e;return{verificationId:n.verificationId,confirm:e=>Gr(t,n.confirm(e))}})).apply(this,arguments)}class Yr{constructor(t,e){this.resolver=e,this.auth=t.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(t){return Gr(Vr(this.auth),this.resolver.resolveSignIn(t))}}let Qr=(()=>{class t{constructor(t){this._delegate=t,this.multiFactor=function(t){const e=(0,s.m9)(t);return xn.has(e)||xn.set(e,Cn._fromUser(e)),xn.get(e)}(t)}static getOrCreate(e){return t.USER_MAP.has(e)||t.USER_MAP.set(e,new t(e)),t.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(t){return this._delegate.getIdTokenResult(t)}getIdToken(t){return this._delegate.getIdToken(t)}linkAndRetrieveDataWithCredential(t){return this.linkWithCredential(t)}linkWithCredential(t){var e=this;return(0,i.Z)(function*(){return Gr(e.auth,Le(e._delegate,t))})()}linkWithPhoneNumber(t,e){var n=this;return(0,i.Z)(function*(){return Wr(n.auth,function(t,e,n){return ai.apply(this,arguments)}(n._delegate,t,e))})()}linkWithPopup(t){var e=this;return(0,i.Z)(function*(){return Gr(e.auth,function(t,e,n){return xi.apply(this,arguments)}(e._delegate,t,zr))})()}linkWithRedirect(t){var e=this;return(0,i.Z)(function*(){return yield Fr(Ot(e.auth)),function(t,e,n){return function(t,e,n){return Ri.apply(this,arguments)}(t,e,n)}(e._delegate,t,zr)})()}reauthenticateAndRetrieveDataWithCredential(t){return this.reauthenticateWithCredential(t)}reauthenticateWithCredential(t){var e=this;return(0,i.Z)(function*(){return Gr(e.auth,Ue(e._delegate,t))})()}reauthenticateWithPhoneNumber(t,e){return Wr(this.auth,function(t,e,n){return li.apply(this,arguments)}(this._delegate,t,e))}reauthenticateWithPopup(t){return Gr(this.auth,function(t,e,n){return Ci.apply(this,arguments)}(this._delegate,t,zr))}reauthenticateWithRedirect(t){var e=this;return(0,i.Z)(function*(){return yield Fr(Ot(e.auth)),function(t,e,n){return function(t,e,n){return Ni.apply(this,arguments)}(t,e,n)}(e._delegate,t,zr)})()}sendEmailVerification(t){return function(t,e){return sn.apply(this,arguments)}(this._delegate,t)}unlink(t){var e=this;return(0,i.Z)(function*(){return yield function(t,e){return ke.apply(this,arguments)}(e._delegate,t),e})()}updateEmail(t){return function(t,e){return un((0,s.m9)(t),e,null)}(this._delegate,t)}updatePassword(t){return function(t,e){return un((0,s.m9)(t),null,e)}(this._delegate,t)}updatePhoneNumber(t){return function(t,e){return hi.apply(this,arguments)}(this._delegate,t)}updateProfile(t){return function(t,e){return cn.apply(this,arguments)}(this._delegate,t)}verifyBeforeUpdateEmail(t,e){return function(t,e,n){return on.apply(this,arguments)}(this._delegate,t,e)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}return t.USER_MAP=new WeakMap,t})();const Jr=v;let Xr=(()=>{class t{constructor(t,e){if(this.app=t,e.isInitialized())return this._delegate=e.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=t.options;Jr(n,"invalid-api-key",{appName:t.name});let i=[ht];if("undefined"!=typeof window){i=function(t,e){const n=qr();if(!(null==n?void 0:n.sessionStorage))return[];const i=dt(Lr,t,e);switch(n.sessionStorage.getItem(i)){case Rr.NONE:return[ht];case Rr.LOCAL:return[Hn,Tn];case Rr.SESSION:return[Tn];default:return[]}}(n,t.name);for(const t of[Hn,On,Tn])i.includes(t)||i.push(t)}Jr(n,"invalid-api-key",{appName:t.name});const r="undefined"!=typeof window?zr:void 0;this._delegate=e.initialize({options:{persistence:i,popupRedirectResolver:r}}),this._delegate._updateErrorMap(u),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,e){!function(t,e,n){const i=Ot(t);v(i._canInitEmulator,i,"emulator-config-failed"),v(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(null==n?void 0:n.disableWarnings),s=It(e),{host:o,port:a}=function(t){const e=It(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const t=r[1];return{host:t,port:St(i.substr(t.length+1))}}{const[t,e]=i.split(":");return{host:t,port:St(e)}}}(e);i.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),function(t){function e(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"==typeof window||"undefined"==typeof document||t||("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}(r)}(this._delegate,t,e)}applyActionCode(t){return function(t,e){return We.apply(this,arguments)}(this._delegate,t)}checkActionCode(t){return Ke(this._delegate,t)}confirmPasswordReset(t,e){return function(t,e,n){return Ze.apply(this,arguments)}(this._delegate,t,e)}createUserWithEmailAndPassword(t,e){var n=this;return(0,i.Z)(function*(){return Gr(n._delegate,function(t,e,n){return Je.apply(this,arguments)}(n._delegate,t,e))})()}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return function(t,e){return rn.apply(this,arguments)}(this._delegate,t)}isSignInWithEmailLink(t){return function(t,e){const n=ae.parseLink(e);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,t)}getRedirectResult(){var t=this;return(0,i.Z)(function*(){Jr(Mr(),t._delegate,"operation-not-supported-in-this-environment");const e=yield function(t,e){return Di.apply(this,arguments)}(t._delegate,zr);return e?Gr(t._delegate,Promise.resolve(e)):{credential:null,user:null}})()}addFrameworkForLogging(t){!function(t,e){Ot(t)._logFramework(e)}(this._delegate,t)}onAuthStateChanged(t,e,n){const{next:i,error:r,complete:s}=ts(t,e,n);return this._delegate.onAuthStateChanged(i,r,s)}onIdTokenChanged(t,e,n){const{next:i,error:r,complete:s}=ts(t,e,n);return this._delegate.onIdTokenChanged(i,r,s)}sendSignInLinkToEmail(t,e){return function(t,e,n){return Xe.apply(this,arguments)}(this._delegate,t,e)}sendPasswordResetEmail(t,e){return function(t,e,n){return Ge.apply(this,arguments)}(this._delegate,t,e||void 0)}setPersistence(t){var e=this;return(0,i.Z)(function*(){let n;switch(function(t,e){Dr(Object.values(Rr).includes(e),t,"invalid-persistence-type"),(0,s.b$)()?Dr(e!==Rr.SESSION,t,"unsupported-persistence-type"):(0,s.UG)()?Dr(e===Rr.NONE,t,"unsupported-persistence-type"):Er()?Dr(e===Rr.NONE||e===Rr.LOCAL&&(0,s.hl)(),t,"unsupported-persistence-type"):Dr(e===Rr.NONE||Sr(),t,"unsupported-persistence-type")}(e._delegate,t),t){case Rr.SESSION:n=Tn;break;case Rr.LOCAL:n=(yield x(Hn)._isAvailable())?Hn:On;break;case Rr.NONE:n=ht;break;default:return f("argument-error",{appName:e._delegate.name})}return e._delegate.setPersistence(n)})()}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return Gr(this._delegate,function(t){return we.apply(this,arguments)}(this._delegate))}signInWithCredential(t){return Gr(this._delegate,Re(this._delegate,t))}signInWithCustomToken(t){return Gr(this._delegate,function(t,e){return Ve.apply(this,arguments)}(this._delegate,t))}signInWithEmailAndPassword(t,e){return Gr(this._delegate,function(t,e,n){return Re((0,s.m9)(t),le.credential(e,n))}(this._delegate,t,e))}signInWithEmailLink(t,e){return Gr(this._delegate,function(t,e,n){return tn.apply(this,arguments)}(this._delegate,t,e))}signInWithPhoneNumber(t,e){return Wr(this._delegate,function(t,e,n){return oi.apply(this,arguments)}(this._delegate,t,e))}signInWithPopup(t){var e=this;return(0,i.Z)(function*(){return Jr(Mr(),e._delegate,"operation-not-supported-in-this-environment"),Gr(e._delegate,function(t,e,n){return wi.apply(this,arguments)}(e._delegate,t,zr))})()}signInWithRedirect(t){var e=this;return(0,i.Z)(function*(){return Jr(Mr(),e._delegate,"operation-not-supported-in-this-environment"),yield Fr(e._delegate),function(t,e,n){return function(t,e,n){return Ai.apply(this,arguments)}(t,e,n)}(e._delegate,t,zr)})()}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return function(t,e){return Qe.apply(this,arguments)}(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return t.Persistence=Rr,t})();function ts(t,e,n){let i=t;"function"!=typeof t&&({next:i,error:e,complete:n}=t);const r=i;return{next:t=>r(t&&Qr.getOrCreate(t)),error:e,complete:n}}let es=(()=>{class t{constructor(){this.providerId="phone",this._delegate=new di(Vr(r.Z.auth()))}static credential(t,e){return di.credential(t,e)}verifyPhoneNumber(t,e){return this._delegate.verifyPhoneNumber(t,e)}unwrap(){return this._delegate}}return t.PHONE_SIGN_IN_METHOD=di.PHONE_SIGN_IN_METHOD,t.PROVIDER_ID=di.PROVIDER_ID,t})();const ns=v;var is;(is=r.Z).INTERNAL.registerComponent(new c.wA("auth-compat",t=>{const e=t.getProvider("app-compat").getImmediate(),n=t.getProvider("auth");return new Xr(e,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:le,FacebookAuthProvider:de,GithubAuthProvider:fe,GoogleAuthProvider:pe,OAuthProvider:he,PhoneAuthProvider:es,PhoneMultiFactorGenerator:cr,RecaptchaVerifier:class{constructor(t,e,n=r.Z.app()){var i;ns(null===(i=n.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new ri(t,e,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:me,Auth:Xr,AuthCredential:Et,Error:s.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),is.registerVersion("@firebase/auth-compat","0.1.4")},8318:(t,e,n)=>{"use strict";n.d(e,{y:()=>c});var i=n(6673),r=n(5331),s=n(7498),o=n(6197),a=n(3392),l=n(1484);let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof i.L)return t;if(t[r.b])return t[r.b]()}return t||e||n?new i.L(t,e,n):new i.L(s.c)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||l.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){l.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof i.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=u(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.L](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=u(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function u(t){if(t||(t=l.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},7498:(t,e,n)=>{"use strict";n.d(e,{c:()=>s});var i=n(1484),r=n(4294);const s={closed:!0,next(t){},error(t){if(i.v.useDeprecatedSynchronousErrorHandling)throw t;(0,r.z)(t)},complete(){}}},5959:(t,e,n)=>{"use strict";n.d(e,{Yc:()=>c,xQ:()=>u});var i=n(8318),r=n(6673),s=n(7570),o=n(3895),a=n(9291),l=n(5331);class c extends r.L{constructor(t){super(t),this.destination=t}}let u=(()=>{class t extends i.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.b](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.N;return this.hasError?(t.error(this.thrownError),s.w.EMPTY):this.isStopped?(t.complete(),s.w.EMPTY):(this.observers.push(t),new a.W(this,t))}asObservable(){const t=new i.y;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends u{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.w.EMPTY}}},9291:(t,e,n)=>{"use strict";n.d(e,{W:()=>r});var i=n(7570);class r extends i.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},6673:(t,e,n)=>{"use strict";n.d(e,{L:()=>c});var i=n(5024),r=n(7498),s=n(7570),o=n(5331),a=n(1484),l=n(4294);class c extends s.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=r.c;break;case 1:if(!t){this.destination=r.c;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,t,e,n)}}[o.b](){return this}static create(t,e,n){const i=new c(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class u extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;(0,i.m)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==r.c&&(a=Object.create(e),(0,i.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,l.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,l.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,l.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):((0,l.z)(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},7570:(t,e,n)=>{"use strict";n.d(e,{w:()=>a});var i=n(8470),r=n(2056),s=n(5024);const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if((0,s.m)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?l(h.errors):[h]}}if((0,i.k)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if((0,r.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(l(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function l(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},1484:(t,e,n)=>{"use strict";n.d(e,{v:()=>r});let i=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},6882:(t,e,n)=>{"use strict";n.d(e,{IY:()=>o,Ds:()=>a,ft:()=>l});var i=n(6673),r=n(8318),s=n(6015);class o extends i.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends i.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function l(t,e){if(e.closed)return;if(t instanceof r.y)return t.subscribe(e);let n;try{n=(0,s.s)(t)(e)}catch(i){e.error(i)}return n}},2875:(t,e,n)=>{"use strict";n.d(e,{c:()=>a,N:()=>l});var i=n(5959),r=n(8318),s=n(7570),o=n(1564);class a extends r.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.w,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.w.EMPTY)),t}refCount(){return(0,o.x)()(this)}}const l=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends i.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},653:(t,e,n)=>{"use strict";n.d(e,{E:()=>r,c:()=>s});var i=n(8318);const r=new i.y(t=>t.complete());function s(t){return t?function(t){return new i.y(e=>t.schedule(()=>e.complete()))}(t):r}},9764:(t,e,n)=>{"use strict";n.d(e,{D:()=>h});var i=n(8318),r=n(6015),s=n(7570),o=n(6197),a=n(2570),l=n(5686),c=n(5168),u=n(9653);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.L]}(t))return function(t,e){return new i.y(n=>{const i=new s.w;return i.add(e.schedule(()=>{const r=t[o.L]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if((0,c.t)(t))return function(t,e){return new i.y(n=>{const i=new s.w;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if((0,u.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[l.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new i.y(n=>{const i=new s.w;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[l.hZ](),i.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof i.y?t:new i.y((0,r.s)(t))}},9342:(t,e,n)=>{"use strict";n.d(e,{n:()=>o});var i=n(8318),r=n(625),s=n(2570);function o(t,e){return e?(0,s.r)(t,e):new i.y((0,r.V)(t))}},1906:(t,e,n)=>{"use strict";n.d(e,{T:()=>a});var i=n(8318),r=n(6163),s=n(7471),o=n(9342);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,r.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof i.y?t[0]:(0,s.J)(e)((0,o.n)(t,n))}},878:(t,e,n)=>{"use strict";n.d(e,{of:()=>o});var i=n(6163),r=n(9342),s=n(2570);function o(...t){let e=t[t.length-1];return(0,i.K)(e)?(t.pop(),(0,s.r)(t,e)):(0,r.n)(t)}},9996:(t,e,n)=>{"use strict";n.d(e,{U:()=>r});var i=n(6673);function r(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends i.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},7471:(t,e,n)=>{"use strict";n.d(e,{J:()=>s});var i=n(3982),r=n(3392);function s(t=Number.POSITIVE_INFINITY){return(0,i.zg)(r.y,t)}},3982:(t,e,n)=>{"use strict";n.d(e,{zg:()=>o});var i=n(9996),r=n(9764),s=n(6882);function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>(0,r.D)(t(n,s)).pipe((0,i.U)((t,i)=>e(n,t,s,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends s.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.IY(this),n=this.destination;n.add(e);const i=(0,s.ft)(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9098:(t,e,n)=>{"use strict";n.d(e,{ht:()=>u,QV:()=>l});var i=n(6673),r=n(653),s=n(878),o=n(8318);let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return(0,s.of)(this.value);case"E":return t=this.error,new o.y(e=>e.error(t));case"C":return(0,r.c)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function l(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new u(t,this.scheduler,this.delay))}}class u extends i.L{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(u.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},1564:(t,e,n)=>{"use strict";n.d(e,{x:()=>r});var i=n(6673);function r(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new o(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class o extends i.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}},1055:(t,e,n)=>{"use strict";n.d(e,{B:()=>a});var i=n(2875),r=n(1564),s=n(5959);function o(){return new s.xQ}function a(){return t=>{return(0,r.x)()((e=o,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,i.N);return r.source=t,r.subjectFactory=n,r})(t));var e}}},4187:(t,e,n)=>{"use strict";n.d(e,{R:()=>m});var i=n(8318);let r=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const l={setImmediate(t){const e=r++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n(8277);class u extends c.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=l.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(l.clearImmediate(e),t.scheduled=void 0)}}var h=n(1098);class d extends h.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const p=new d(u);var f=n(8470);class g extends i.y{constructor(t,e=0,n=p){var i;super(),this.source=t,this.delayTime=e,this.scheduler=n,((0,f.k)(i=e)||!(i-parseFloat(i)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=p)}static create(t,e=0,n=p){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},6599:(t,e,n)=>{"use strict";n.d(e,{b:()=>o});var i=n(6673);function r(){}var s=n(5024);function o(t,e,n){return function(i){return i.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new l(t,this.nextOrObserver,this.error,this.complete))}}class l extends i.L{constructor(t,e,n,i){super(t),this._tapNext=r,this._tapError=r,this._tapComplete=r,this._tapError=n||r,this._tapComplete=i||r,(0,s.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||r,this._tapError=e.error||r,this._tapComplete=e.complete||r)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},2570:(t,e,n)=>{"use strict";n.d(e,{r:()=>s});var i=n(8318),r=n(7570);function s(t,e){return new i.y(n=>{const i=new r.w;let s=0;return i.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||i.add(this.schedule())):n.complete()})),i})}},8277:(t,e,n)=>{"use strict";n.d(e,{o:()=>s});var i=n(7570);class r extends i.w{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends r{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,i=!1;try{this.work(t)}catch(r){i=!0,n=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},1098:(t,e,n)=>{"use strict";n.d(e,{v:()=>r});let i=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class r extends i{constructor(t,e=i.now){super(t,()=>r.delegate&&r.delegate!==this?r.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return r.delegate&&r.delegate!==this?r.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},8569:(t,e,n)=>{"use strict";n.d(e,{z:()=>r,P:()=>s});var i=n(8277);const r=new(n(1098).v)(i.o),s=r},8489:(t,e,n)=>{"use strict";n.d(e,{c:()=>l,N:()=>a});var i=n(8277);class r extends i.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n(1098);class o extends s.v{}const a=new o(r),l=a},5686:(t,e,n)=>{"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,{hZ:()=>r});const r=i()},6197:(t,e,n)=>{"use strict";n.d(e,{L:()=>i});const i=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},5331:(t,e,n)=>{"use strict";n.d(e,{b:()=>i});const i=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},3895:(t,e,n)=>{"use strict";n.d(e,{N:()=>i});const i=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},4294:(t,e,n)=>{"use strict";function i(t){setTimeout(()=>{throw t},0)}n.d(e,{z:()=>i})},3392:(t,e,n)=>{"use strict";function i(t){return t}n.d(e,{y:()=>i})},8470:(t,e,n)=>{"use strict";n.d(e,{k:()=>i});const i=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},9653:(t,e,n)=>{"use strict";n.d(e,{z:()=>i});const i=t=>t&&"number"==typeof t.length&&"function"!=typeof t},5024:(t,e,n)=>{"use strict";function i(t){return"function"==typeof t}n.d(e,{m:()=>i})},2056:(t,e,n)=>{"use strict";function i(t){return null!==t&&"object"==typeof t}n.d(e,{K:()=>i})},5168:(t,e,n)=>{"use strict";function i(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:()=>i})},6163:(t,e,n)=>{"use strict";function i(t){return t&&"function"==typeof t.schedule}n.d(e,{K:()=>i})},6015:(t,e,n)=>{"use strict";n.d(e,{s:()=>u});var i=n(625),r=n(4294),s=n(5686),o=n(6197),a=n(9653),l=n(5168),c=n(2056);const u=t=>{if(t&&"function"==typeof t[o.L])return u=t,t=>{const e=u[o.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.z)(t))return(0,i.V)(t);if((0,l.t)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,r.z),t);if(t&&"function"==typeof t[s.hZ])return e=t,t=>{const n=e[s.hZ]();for(;;){let e;try{e=n.next()}catch(i){return t.error(i),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=(0,c.K)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,u}},625:(t,e,n)=>{"use strict";n.d(e,{V:()=>i});const i=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}},6363:(t,e,n)=>{"use strict";var i=n(5366);let r=null;function s(){return r}const o=new i.OlP("DocumentToken");let a=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return(0,i.LFG)(u)}const c=new i.OlP("Location Initialized");let u=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){const e=s().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=s().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(o))},t.\u0275prov=(0,i.Yz7)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new u((0,i.LFG)(o))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function f(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=(0,i.LFG)(o).location;return new v((0,i.LFG)(a),e&&e.origin||"")}const _=new i.OlP("appBaseHref");let v=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+g(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+g(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(a),i.LFG(_,8))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),b=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+g(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+g(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(a),i.LFG(_,8))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new i.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=f(x(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,x(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(m),i.LFG(a))},t.normalizeQueryParams=g,t.joinWithSlash=p,t.stripTrailingSlash=f,t.\u0275prov=(0,i.Yz7)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new w((0,i.LFG)(m),(0,i.LFG)(a))}function x(t){return t.replace(/\/index.html$/,"")}var P=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const k=i.kL8;class O{}let T=(()=>{class t extends O{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(k(e||this.locale)(t)){case P.Zero:return"zero";case P.One:return"one";case P.Two:return"two";case P.Few:return"few";case P.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.soG))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class I{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let S=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(Dv){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new I(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new E(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const s=new E(t,r);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(i.ZZ4))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class E{constructor(t,e){this.record=t,this.view=e}}let M=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new A,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){N("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){N("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b),i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class A{constructor(){this.$implicit=null,this.ngIf=null}}function N(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,i.AaK)(e)}'.`)}let R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[{provide:O,useClass:T}]}),t})();function D(t){return"server"===t}let L=(()=>{class t{}return t.\u0275prov=(0,i.Yz7)({token:t,providedIn:"root",factory:()=>new F((0,i.LFG)(o),window)}),t})();class F{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=n.currentNode;for(;i;){const t=i.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}i=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=U(this.window.history)||U(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(Dv){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Dv){return!1}}}function U(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class q extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new q,r||(r=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(z=z||document.querySelector("base"),z?z.getAttribute("href"):null);return null==e?null:function(t){j=j||document.createElement("a"),j.setAttribute("href",t);const e=j.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){z=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}(document.cookie,t)}}let j,z=null;const V=new i.OlP("TRANSITION_ID"),B=[{provide:i.ip1,useFactory:function(t,e,n){return()=>{n.get(i.CZH).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[V,o,i.zs3],multi:!0}];class H{static init(){(0,i.VLi)(new H)}addToWindow(t){i.dqk.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},i.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),i.dqk.frameworkStabilizers||(i.dqk.frameworkStabilizers=[]),i.dqk.frameworkStabilizers.push(t=>{const e=i.dqk.getAllAngularTestabilities();let n=e.length,r=!1;const s=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let $=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const G=new i.OlP("EventManagerPlugins");let Z=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(G),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class W{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=s().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let K=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Y=(()=>{class t extends K{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const i=this._doc.createElement("style");i.textContent=t,n.push(e.appendChild(i))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(Q),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Q))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(o))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function Q(t){s().remove(t)}const J={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},X=/%COMP%/g;function tt(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?tt(t,r,n):(r=r.replace(X,t),n.push(r))}return n}function et(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let nt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new it(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new rt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case i.ifc.ShadowDom:return new st(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=tt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Z),i.LFG(Y),i.LFG(i.AFp))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class it{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(J[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=J[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=J[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(i.JOm.DashCase|i.JOm.Important)?t.style.setProperty(e,n,r&i.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,et(n)):this.eventManager.addEventListener(t,e,et(n))}}class rt extends it{constructor(t,e,n,i){super(t),this.component=n;const r=tt(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(X,i+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(X,i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class st extends it{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=tt(i.id,i.styles,[]);for(let s=0;s<r.length;s++){const t=document.createElement("style");t.textContent=r[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ot=(()=>{class t extends W{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(o))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const at=["alt","control","meta","shift"],lt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ct={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ut={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ht=(()=>{class t extends W{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const r=t.parseEventName(n),o=t.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,r.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=t._normalizeKey(n.pop());let s="";if(at.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=r,0!=n.length||0===r.length)return null;const o={};return o.domEventName=i,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ct.hasOwnProperty(e)&&(e=ct[e]))}return lt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),at.forEach(i=>{i!=n&&(0,ut[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return r=>{t.getEventFullKey(r)===e&&i.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(o))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),dt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:function(){return(0,i.LFG)(ft)},token:t,providedIn:"root"}),t})();function pt(t){return new ft(t.get(o))}let ft=(()=>{class t extends dt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case i.q3G.NONE:return e;case i.q3G.HTML:return(0,i.qzn)(e,"HTML")?(0,i.z3N)(e):(0,i.EiD)(this._doc,String(e)).toString();case i.q3G.STYLE:return(0,i.qzn)(e,"Style")?(0,i.z3N)(e):e;case i.q3G.SCRIPT:if((0,i.qzn)(e,"Script"))return(0,i.z3N)(e);throw new Error("unsafe value used in a script context");case i.q3G.URL:return(0,i.yhl)(e),(0,i.qzn)(e,"URL")?(0,i.z3N)(e):(0,i.mCW)(String(e));case i.q3G.RESOURCE_URL:if((0,i.qzn)(e,"ResourceURL"))return(0,i.z3N)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,i.JVY)(t)}bypassSecurityTrustStyle(t){return(0,i.L6k)(t)}bypassSecurityTrustScript(t){return(0,i.eBb)(t)}bypassSecurityTrustUrl(t){return(0,i.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,i.pB0)(t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(o))},t.\u0275prov=(0,i.Yz7)({factory:function(){return pt((0,i.LFG)(i.gxx))},token:t,providedIn:"root"}),t})();const gt=(0,i.eFA)(i._c5,"browser",[{provide:i.Lbi,useValue:"browser"},{provide:i.g9A,useValue:function(){q.makeCurrent(),H.init()},multi:!0},{provide:o,useFactory:function(){return(0,i.RDi)(document),document},deps:[]}]),mt=[[],{provide:i.zSh,useValue:"root"},{provide:i.qLn,useFactory:function(){return new i.qLn},deps:[]},{provide:G,useClass:ot,multi:!0,deps:[o,i.R0b,i.Lbi]},{provide:G,useClass:ht,multi:!0,deps:[o]},[],{provide:nt,useClass:nt,deps:[Z,Y,i.AFp]},{provide:i.FYo,useExisting:nt},{provide:K,useExisting:Y},{provide:Y,useClass:Y,deps:[o]},{provide:i.dDg,useClass:i.dDg,deps:[i.R0b]},{provide:Z,useClass:Z,deps:[G,i.R0b]},{provide:class{},useClass:$,deps:[]},[]];let yt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:i.AFp,useValue:e.appId},{provide:V,useExisting:i.AFp},B]}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(t,12))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:mt,imports:[R,i.hGG]}),t})();"undefined"!=typeof window&&window;class _t{}const vt="*";function bt(t,e){return{type:7,name:t,definitions:e,options:{}}}function wt(t,e=null){return{type:4,styles:e,timings:t}}function Ct(t,e=null){return{type:2,steps:t,options:e}}function xt(t){return{type:6,styles:t,offset:null}}function Pt(t,e,n){return{type:0,name:t,styles:e,options:n}}function kt(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Ot(t){Promise.resolve(null).then(t)}class Tt{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ot(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class It{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?Ot(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function St(){return"undefined"!=typeof window&&void 0!==window.document}function Et(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Mt(t){switch(t.length){case 0:return new Tt;case 1:return t[0];default:return new It(t)}}function At(t,e,n,i,r={},s={}){const o=[],a=[];let l=-1,c=null;if(i.forEach(t=>{const n=t.offset,i=n==l,u=i&&c||{};Object.keys(t).forEach(n=>{let i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,o),a){case"!":a=r[n];break;case vt:a=s[n];break;default:a=e.normalizeStyleValue(n,i,a,o)}u[i]=a}),i||a.push(u),c=u,l=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Nt(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&Rt(n,"start",t)));break;case"done":t.onDone(()=>i(n&&Rt(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&Rt(n,"destroy",t)))}}function Rt(t,e,n){const i=n.totalTime,r=Dt(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),s=t._data;return null!=s&&(r._data=s),r}function Dt(t,e,n,i,r="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Lt(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function Ft(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Ut=(t,e)=>!1,qt=(t,e)=>!1,jt=(t,e,n)=>[];const zt=Et();(zt||"undefined"!=typeof Element)&&(Ut=St()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),qt=(()=>{if(zt||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):qt}})(),jt=(t,e,n)=>{let i=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)i.push(n[t])}else{const n=t.querySelector(e);n&&i.push(n)}return i});let Vt=null,Bt=!1;function Ht(t){Vt||(Vt=("undefined"!=typeof document?document.body:null)||{},Bt=!!Vt.style&&"WebkitAppearance"in Vt.style);let e=!0;return Vt.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Vt.style,!e&&Bt)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Vt.style),e}const $t=qt,Gt=Ut,Zt=jt;function Wt(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let Kt=(()=>{class t{validateStyleProperty(t){return Ht(t)}matchesElement(t,e){return $t(t,e)}containsElement(t,e){return Gt(t,e)}query(t,e,n){return Zt(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,s=[],o){return new Tt(n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Yt=(()=>{class t{}return t.NOOP=new Kt,t})();const Qt="ng-enter",Jt="ng-leave",Xt="ng-trigger",te=".ng-trigger",ee="ng-animating",ne=".ng-animating";function ie(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:re(parseFloat(e[1]),e[2])}function re(t,e){switch(e){case"s":return 1e3*t;default:return t}}function se(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=re(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(r=re(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else i=t;if(!n){let n=!1,s=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:s}}(t,e,n)}function oe(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function ae(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else oe(t,n);return n}function le(t,e,n){return n?e+":"+n+";":""}function ce(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=le(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=le(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function ue(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=_e(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),Et()&&ce(t))}function he(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=_e(e);t.style[n]=""}),Et()&&ce(t))}function de(t){return Array.isArray(t)?1==t.length?t[0]:Ct(t):t}const pe=new RegExp("{{\\s*(.+?)\\s*}}","g");function fe(t){let e=[];if("string"==typeof t){let n;for(;n=pe.exec(t);)e.push(n[1]);pe.lastIndex=0}return e}function ge(t,e,n){const i=t.toString(),r=i.replace(pe,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),r=""),r.toString()});return r==i?t:r}function me(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const ye=/-+([a-z0-9])/g;function _e(t){return t.replace(ye,(...t)=>t[1].toUpperCase())}function ve(t,e){return 0===t||0===e}function be(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var r=1;r<e.length;r++){let n=e[r];o.forEach(function(e){n[e]=Ce(t,e)})}}return e}function we(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Ce(t,e){return window.getComputedStyle(t)[e]}const xe="*";function Pe(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],s=i[2],o=i[3];e.push(Te(r,o)),"<"!=s[0]||r==xe&&o==xe||e.push(Te(o,r))}(t,n,e)):n.push(t),n}const ke=new Set(["true","1"]),Oe=new Set(["false","0"]);function Te(t,e){const n=ke.has(t)||Oe.has(t),i=ke.has(e)||Oe.has(e);return(r,s)=>{let o=t==xe||t==r,a=e==xe||e==s;return!o&&n&&"boolean"==typeof r&&(o=r?ke.has(t):Oe.has(t)),!a&&i&&"boolean"==typeof s&&(a=s?ke.has(e):Oe.has(e)),o&&a}}const Ie=new RegExp("s*:selfs*,?","g");function Se(t,e,n){return new Ee(t).build(e,n)}class Ee{constructor(t){this._driver=t}build(t,e){const n=new Me(e);return this._resetContextStyleTimingState(n),we(this,de(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,s.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:s,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,s=i||{};if(n.styles.forEach(t=>{if(Ae(t)){const e=t;Object.keys(e).forEach(t=>{fe(e[t]).forEach(t=>{s.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=me(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=we(this,de(t.animation),e);return{type:1,matchers:Pe(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Ne(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>we(this,t,e)),options:Ne(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=we(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:Ne(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Re(se(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Re(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||se(i,e),Re(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:xt({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,s=!1;if(!r){s=!0;const t={};n.easing&&(t.easing=n.easing),r=xt(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(r,e);o.isEmptyStep=s,i=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==vt?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(Ae(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(r!=i&&r>=o.startTime&&i<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=o.startTime),a&&(s[n]={startTime:r,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},r=fe(t);r.length&&r.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let s=!1,o=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Ae(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Ae(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=l&&(i++,c=n.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,r.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let u=0;i>0&&i<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(u=1/(c-1));const h=c-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return l.forEach((t,i)=>{const s=u>0?i==h?1:u*i:r[i],o=s*f;e.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:we(this,de(t.animation),e),options:Ne(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ne(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ne(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Ie,"")),[t=t.replace(/@\*/g,te).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,ne),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,Lt(e.collectedStyles,e.currentQuerySelector,{});const o=we(this,de(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Ne(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:se(t.timings,e.errors,!0);return{type:12,animation:we(this,de(t.animation),e),timings:n,options:null}}}class Me{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Ae(t){return!Array.isArray(t)&&"object"==typeof t}function Ne(t){var e;return t?(t=oe(t)).params&&(t.params=(e=t.params)?oe(e):null):t={},t}function Re(t,e,n){return{duration:t,delay:e,easing:n}}function De(t,e,n,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class Le{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Fe=new RegExp(":enter","g"),Ue=new RegExp(":leave","g");function qe(t,e,n,i,r,s={},o={},a,l,c=[]){return(new je).buildKeyframes(t,e,n,i,r,s,o,a,l,c)}class je{buildKeyframes(t,e,n,i,r,s,o,a,l,c=[]){l=l||new Le;const u=new Ve(t,e,l,i,r,c,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),we(this,n,u);const h=u.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,u.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[De(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);r!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?ie(n.duration):null,s=null!=n.delay?ie(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,s);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),we(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&(i=e.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ze);const t=ie(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>we(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?ie(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);r&&o.delayNextStep(r),we(this,s,o),i=Math.max(i,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return se(e.params?ge(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*r),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?ie(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ze);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,i)=>{e.currentQueryIndex=i;const o=e.createSubContext(t.options,n);r&&o.delayNextStep(r),n===e.element&&(a=o.currentTimeline),we(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,s=Math.abs(r.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;we(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-c+(i.startTime-n.currentTimeline.startTime)}}const ze={};class Ve{constructor(t,e,n,i,r,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ze,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Be(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=ie(n.duration)),null!=n.delay&&(i.delay=ie(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=ge(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new Ve(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=ze,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new He(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,s){let o=[];if(i&&o.push(this.element),t.length>0){t=(t=t.replace(Fe,"."+this._enterClassName)).replace(Ue,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return r||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Be{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Be(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||vt,this._currentKeyframe[t]=vt}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},s=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]=vt})):ae(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=ge(s[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:vt),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,s)=>{const o=ae(r,!0);Object.keys(o).forEach(n=>{const i=o[n];"!"==i?t.add(n):i==vt&&e.add(n)}),n||(o.offset=s/this.duration),i.push(o)});const r=t.size?me(t.values()):[],s=e.size?me(e.values()):[];if(n){const t=i[0],e=oe(t);t.offset=0,e.offset=1,i=[t,e]}return De(this.element,i,r,s,this.duration,this.startTime,this.easing,!1)}}class He extends Be{constructor(t,e,n,i,r,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],s=n+e,o=e/s,a=ae(t[0],!1);a.offset=0,r.push(a);const l=ae(t[0],!1);l.offset=$e(o),r.push(l);const c=t.length-1;for(let i=1;i<=c;i++){let o=ae(t[i],!1);o.offset=$e((e+o.offset*n)/s),r.push(o)}n=s,e=0,i="",t=r}return De(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function $e(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Ge{}class Ze extends Ge{normalizePropertyName(t,e){return _e(t)}normalizeStyleValue(t,e,n,i){let r="";const s=n.toString().trim();if(We[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+r}}const We=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ke(t,e,n,i,r,s,o,a,l,c,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const Ye={};class Qe{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],s=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):s}build(t,e,n,i,r,s,o,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||Ye,d=this.buildStyles(n,o&&o.params||Ye,u),p=a&&a.params||Ye,f=this.buildStyles(i,p,u),g=new Set,m=new Map,y=new Map,_="void"===i,v={params:Object.assign(Object.assign({},h),p)},b=c?[]:qe(t,e,this.ast.animation,r,s,d,f,v,l,u);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),u.length)return Ke(e,this._triggerName,n,i,_,d,f,[],[],m,y,w,u);b.forEach(t=>{const n=t.element,i=Lt(m,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=Lt(y,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&g.add(n)});const C=me(g.values());return Ke(e,this._triggerName,n,i,_,d,f,b,C,m,y,w)}}class Je{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=oe(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let s=r[t];s.length>1&&(s=ge(s,i,e)),n[t]=s})}}),n}}class Xe{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Je(t.style,t.options&&t.options.params||{})}),tn(this.states,"true","1"),tn(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Qe(t,e,this.states))}),this.fallbackTransition=new Qe(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function tn(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const en=new Le;class nn{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=Se(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=At(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let s;const o=new Map;if(r?(s=qe(this._driver,e,r,Qt,Jt,{},{},n,en,i),s.forEach(t=>{const e=Lt(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),s=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,vt)})});const a=Mt(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,i){const r=Dt(e,"","","");return Nt(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const rn="ng-animate-queued",sn="ng-animate-disabled",on=".ng-animate-disabled",an=[],ln={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class un{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=oe(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const hn="void",dn=new un(hn);class pn{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,bn(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const s=Lt(this._elementListeners,t,[]),o={name:e,phase:n,callback:i};s.push(o);const a=Lt(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(bn(t,Xt),bn(t,"ng-trigger-"+e),a[e]=dn),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),s=new gn(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(bn(t,Xt),bn(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const l=new un(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[e]=l,a||(a=dn),l.value!==hn&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,l.params)){const e=[],n=r.matchStyles(a.value,a.params,e),i=r.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{he(t,n),ue(t,i)})}return}const c=Lt(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=r.matchTransition(a.value,l.value,t,l.params),h=!1;if(!u){if(!i)return;u=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(bn(t,rn),s.onStart(()=>{wn(t,rn)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,te,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const s=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,hn,i);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Mt(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const i=new Set;e.forEach(e=>{const r=e.name;if(i.has(r))return;i.add(r);const s=this._triggers[r].fallbackTransition,o=n[r]||dn,a=new un(hn),l=new gn(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:s,fromState:o,toState:a,player:l,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==ln||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){bn(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,s=this._elementListeners.get(r);s&&s.forEach(e=>{if(e.name==n.triggerName){const i=Dt(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,Nt(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class fn{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new pn(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(mn(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!mn(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),bn(t,sn)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),wn(t,sn))}removeNode(t,e,n,i){if(mn(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return mn(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,te,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,ne,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Mt(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=ln,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,on)&&this.markElementAsDisabled(t,!1),this.driver.query(t,on,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)bn(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Mt(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Le,i=[],r=new Map,s=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=vn(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n=Qt+f++;p.set(e,n),t.forEach(t=>bn(t,n))});const g=[],m=new Set,y=new Set;for(let E=0;E<this.collectedLeaveElements.length;E++){const t=this.collectedLeaveElements[E],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const _=new Map,v=vn(h,Array.from(m));v.forEach((t,e)=>{const n=Jt+f++;_.set(e,n),t.forEach(t=>bn(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>wn(t,n))}),v.forEach((t,e)=>{const n=_.get(e);t.forEach(t=>wn(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let E=this._namespaceList.length-1;E>=0;E--)this._namespaceList[E].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(b.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!u||!this.driver.containsElement(u,r),h=_.get(r),d=p.get(r),f=this._buildInstruction(t,n,d,h,c);if(f.errors&&f.errors.length)w.push(f);else{if(c)return e.onStart(()=>he(r,f.fromStyles)),e.onDestroy(()=>ue(r,f.toStyles)),void i.push(e);if(t.isFallbackTransition)return e.onStart(()=>he(r,f.fromStyles)),e.onDestroy(()=>ue(r,f.toStyles)),void i.push(e);f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,f.timelines),s.push({instruction:f,player:e,element:r}),f.queriedElements.forEach(t=>Lt(o,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=l.get(e);i||l.set(e,i=new Set),n.forEach(t=>i.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,x=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(x.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Lt(C,e,[]).push(t),t.destroy()})});const P=g.filter(t=>Pn(t,a,l)),k=new Map;_n(k,this.driver,y,l,vt).forEach(t=>{Pn(t,a,l)&&P.push(t)});const O=new Map;d.forEach((t,e)=>{_n(O,this.driver,new Set(t),a,"!")}),P.forEach(t=>{const e=k.get(t),n=O.get(t);k.set(t,Object.assign(Object.assign({},e),n))});const T=[],I=[],S={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>ue(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void i.push(s);let t=S;if(x.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=x.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>x.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,C,r,O,k);if(s.setRealPlayer(n),t===S)T.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Mt(e)),i.push(s)}}else he(e,o.fromStyles),s.onDestroy(()=>ue(e,o.toStyles)),I.push(s),c.has(e)&&i.push(s)}),I.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=Mt(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let E=0;E<g.length;E++){const t=g[E],e=t.__ng_removed;if(wn(t,Jt),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,ne,!0);for(let t=0;t<i.length;t++){let e=o.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?Cn(this,t,i):this.processLeaveNode(t)}return g.length=0,T.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),T}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||r==hn;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&s.push(e)})}}return(n||i)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==i,l=Lt(n,t,[]);this._getPreviousPlayers(t,a,r,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}he(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,s){const o=e.triggerName,a=e.element,l=[],c=new Set,u=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Tt(e.duration,e.delay);const p=h!==a,f=function(t){const e=[];return xn(t,e),e}((n.get(h)||an).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=r.get(h),m=s.get(h),y=At(0,this._normalizer,0,e.keyframes,g,m),_=this._buildPlayer(e,y,f);if(e.subTimeline&&i&&u.add(h),p){const e=new gn(t,o,h);e.setRealPlayer(_),l.push(e)}return _});l.forEach(t=>{Lt(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>bn(t,ee));const d=Mt(h);return d.onDestroy(()=>{c.forEach(t=>wn(t,ee)),ue(a,e.toStyles)}),u.forEach(t=>{Lt(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Tt(t.duration,t.delay)}}class gn{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Tt,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Nt(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Lt(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function mn(t){return t&&1===t.nodeType}function yn(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function _n(t,e,n,i,r){const s=[];n.forEach(t=>s.push(yn(t)));const o=[];i.forEach((n,i)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=cn,o.push(i))}),t.set(i,s)});let a=0;return n.forEach(t=>yn(t,s[a++])),o}function vn(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;function s(t){if(!t)return 1;let e=r.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:i.has(o)?1:s(o),r.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function bn(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function wn(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Cn(t,e,n){Mt(n).onDone(()=>t.processLeaveNode(e))}function xn(t,e){for(let n=0;n<t.length;n++){const i=t[n];i instanceof It?xn(i.players,e):e.push(i)}}function Pn(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class kn{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new fn(t,e,n),this._timelineEngine=new nn(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,r){const s=t+"-"+i;let o=this._triggerCache[s];if(!o){const t=[],e=Se(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Xe(t,e)}(i,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,i,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=Ft(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=Ft(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function On(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=In(e[0]),e.length>1&&(i=In(e[e.length-1]))):e&&(n=In(e)),n||i?new Tn(t,n,i):null}let Tn=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&ue(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ue(this._element,this._initialStyles),this._endStyles&&(ue(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(he(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(he(this._element,this._endStyles),this._endStyles=null),ue(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function In(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];Sn(r)&&(e=e||{},e[r]=t[r])}return e}function Sn(t){return"display"===t||"position"===t}const En="animation",Mn="animationend";class An{constructor(t,e,n,i,r,s,o){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Un(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),Fn(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Ln(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Nn(this._element,this._name,"paused")}resume(){Nn(this._element,this._name,"running")}setPosition(t){const e=Rn(this._element,this._name);this._position=t*this._duration,Fn(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Ln(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Un(t,"").split(","),i=Dn(n,e);i>=0&&(n.splice(i,1),Fn(t,"",n.join(",")))}(this._element,this._name))}}function Nn(t,e,n){Fn(t,"PlayState",n,Rn(t,e))}function Rn(t,e){const n=Un(t,"");return n.indexOf(",")>0?Dn(n.split(","),e):Dn([n],e)}function Dn(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Ln(t,e,n){n?t.removeEventListener(Mn,e):t.addEventListener(Mn,e)}function Fn(t,e,n,i){const r=En+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function Un(t,e){return t.style[En+e]||""}class qn{constructor(t,e,n,i,r,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new An(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Ce(this.element,n))})}this.currentSnapshot=t}}class jn extends Tt{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Wt(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class zn{constructor(){this._count=0}validateStyleProperty(t){return Ht(t)}matchesElement(t,e){return $t(t,e)}containsElement(t,e){return Gt(t,e)}query(t,e,n){return Zt(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Wt(t));let i=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=" ";const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=`${r}}\n`}),i+="}\n";const s=document.createElement("style");return s.textContent=i,s}animate(t,e,n,i,r,s=[],o){const a=s.filter(t=>t instanceof qn),l={};ve(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=be(t,e,l));if(0==n)return new jn(t,c);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,u,e);(function(t){var e;const n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(h);const d=On(t,e),p=new qn(t,e,u,n,i,r,c,d);return p.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),p}}class Vn{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Ce(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Bn{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Hn().toString()),this._cssKeyframesDriver=new zn}validateStyleProperty(t){return Ht(t)}matchesElement(t,e){return $t(t,e)}containsElement(t,e){return Gt(t,e)}query(t,e,n){return Zt(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,s);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const l={},c=s.filter(t=>t instanceof Vn);ve(n,i)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=On(t,e=be(t,e=e.map(t=>ae(t,!1)),l));return new Vn(t,e,a,u)}}function Hn(){return St()&&Element.prototype.animate||{}}let $n=(()=>{class t extends _t{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:i.ifc.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Ct(t):t;return Wn(this._renderer,null,e,"register",[n]),new Gn(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.FYo),i.LFG(o))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class Gn extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Zn(this._id,t,e||{},this._renderer)}}class Zn{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Wn(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Wn(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}const Kn="@",Yn="@.disabled";let Qn=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Jn("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(i,r,t,e.name,e)};return e.data.animation.forEach(s),new Xn(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.FYo),i.LFG(kn),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class Jn{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,i=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Kn&&e==Yn?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Xn extends Jn{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Kn?"."==e.charAt(1)&&e==Yn?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Kn){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),s="";return r.charAt(0)!=Kn&&([r,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let ti=(()=>{class t extends kn{constructor(t,e,n){super(t.body,e,n)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(o),i.LFG(Yt),i.LFG(Ge))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const ei=new i.OlP("AnimationModuleType"),ni=[{provide:_t,useClass:$n},{provide:Ge,useFactory:function(){return new Ze}},{provide:kn,useClass:ti},{provide:i.FYo,useFactory:function(t,e,n){return new Qn(t,e,n)},deps:[nt,kn,i.R0b]}],ii=[{provide:Yt,useFactory:function(){return"function"==typeof Hn()?new Bn:new zn}},{provide:ei,useValue:"BrowserAnimations"},...ni],ri=[{provide:Yt,useClass:Kt},{provide:ei,useValue:"NoopAnimations"},...ni];let si=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?ri:ii}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:ii,imports:[yt]}),t})();var oi=n(9764),ai=n(878),li=n(5959),ci=n(3895);class ui extends li.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ci.N;return this._value}next(t){super.next(this._value=t)}}var hi=n(6163),di=n(8470),pi=n(6673);class fi extends pi.L{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class gi extends pi.L{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var mi=n(6015),yi=n(8318);function _i(t,e,n,i,r=new gi(t,n,i)){if(!r.closed)return e instanceof yi.y?e.subscribe(r):(0,mi.s)(e)(r)}var vi=n(9342);const bi={};class wi{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ci(t,this.resultSelector))}}class Ci extends fi{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(bi),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(_i(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const i=this.values,r=this.toRespond?i[n]===bi?--this.toRespond:this.toRespond:0;i[n]=e,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const xi=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Pi=n(7471);function ki(...t){return(0,Pi.J)(1)((0,ai.of)(...t))}var Oi=n(653);function Ti(t){return new yi.y(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?(0,oi.D)(n):(0,Oi.c)()).subscribe(e)})}var Ii=n(2875),Si=n(9996),Ei=n(6882);function Mi(t,e){return"function"==typeof e?n=>n.pipe(Mi((n,i)=>(0,oi.D)(t(n,i)).pipe((0,Si.U)((t,r)=>e(n,t,i,r))))):e=>e.lift(new Ai(t))}class Ai{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ni(t,this.project))}}class Ni extends Ei.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(Vx){return void this.destination.error(Vx)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Ei.IY(this),i=this.destination;i.add(n),this.innerSubscription=(0,Ei.ft)(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Ri=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Di(t){return e=>0===t?(0,Oi.c)():e.lift(new Li(t))}class Li{constructor(t){if(this.total=t,this.total<0)throw new Ri}call(t,e){return e.subscribe(new Fi(t,this.total))}}class Fi extends pi.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Ui(...t){const e=t[t.length-1];return(0,hi.K)(e)?(t.pop(),n=>ki(t,n,e)):e=>ki(t,e)}function qi(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new ji(t,e,n))}}class ji{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new zi(t,this.accumulator,this.seed,this.hasSeed))}}class zi extends pi.L{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function Vi(t,e){return function(n){return n.lift(new Bi(t,e))}}class Bi{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Hi(t,this.predicate,this.thisArg))}}class Hi extends pi.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function $i(t){return function(e){const n=new Gi(t),i=e.lift(n);return n.caught=i}}class Gi{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Zi(t,this.selector,this.caught))}}class Zi extends Ei.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new Ei.IY(this);this.add(i);const r=(0,Ei.ft)(n,i);r!==i&&this.add(r)}}}var Wi=n(3982);function Ki(t,e){return(0,Wi.zg)(t,e,1)}function Yi(t){return function(e){return 0===t?(0,Oi.c)():e.lift(new Qi(t))}}class Qi{constructor(t){if(this.total=t,this.total<0)throw new Ri}call(t,e){return e.subscribe(new Ji(t,this.total))}}class Ji extends pi.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}function Xi(t=nr){return e=>e.lift(new tr(t))}class tr{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new er(t,this.errorFactory))}}class er extends pi.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function nr(){return new xi}function ir(t=null){return e=>e.lift(new rr(t))}class rr{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new sr(t,this.defaultValue))}}class sr extends pi.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var or=n(3392);function ar(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Vi((e,n)=>t(e,n,i)):or.y,Di(1),n?ir(e):Xi(()=>new xi))}var lr=n(6599),cr=n(1564),ur=n(7570);function hr(t){return e=>e.lift(new dr(t))}class dr{constructor(t){this.callback=t}call(t,e){return e.subscribe(new pr(t,this.callback))}}class pr extends pi.L{constructor(t,e){super(t),this.add(new ur.w(e))}}class fr{constructor(t,e){this.id=t,this.url=e}}class gr extends fr{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class mr extends fr{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yr extends fr{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _r extends fr{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vr extends fr{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class br extends fr{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wr extends fr{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Cr extends fr{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xr extends fr{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pr{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kr{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Or{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tr{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ir{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sr{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Er{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Mr="primary";class Ar{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Nr(t){return new Ar(t)}function Rr(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Dr(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const e=i[s],n=t[s];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Lr(t,e){const n=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!Fr(t[r],e[r]))return!1;return!0}function Fr(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((t,e)=>i[e]===t)}return t===e}function Ur(t){return Array.prototype.concat.apply([],t)}function qr(t){return t.length>0?t[t.length-1]:null}function jr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function zr(t){return(0,i.CqO)(t)?t:(0,i.QGY)(t)?(0,oi.D)(Promise.resolve(t)):(0,ai.of)(t)}const Vr={exact:function t(e,n,i){if(!Qr(e.segments,n.segments))return!1;if(!Zr(e.segments,n.segments,i))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r],i))return!1}return!0},subset:$r},Br={exact:function(t,e){return Lr(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Fr(t[n],e[n]))},ignored:()=>!0};function Hr(t,e,n){return Vr[n.paths](t.root,e.root,n.matrixParams)&&Br[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function $r(t,e,n){return Gr(t,e,e.segments,n)}function Gr(t,e,n,i){if(t.segments.length>n.length){const r=t.segments.slice(0,n.length);return!!Qr(r,n)&&!e.hasChildren()&&!!Zr(r,n,i)}if(t.segments.length===n.length){if(!Qr(t.segments,n))return!1;if(!Zr(t.segments,n,i))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!$r(t.children[n],e.children[n],i))return!1}return!0}{const r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!Qr(t.segments,r)&&!!Zr(t.segments,r,i)&&!!t.children.primary&&Gr(t.children.primary,e,s,i)}}function Zr(t,e,n){return e.every((e,i)=>Br[n](t[i].parameters,e.parameters))}class Wr{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nr(this.queryParams)),this._queryParamMap}toString(){return ts.serialize(this)}}class Kr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,jr(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return es(this)}}class Yr{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Nr(this.parameters)),this._parameterMap}toString(){return ls(this)}}function Qr(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Jr{}class Xr{parse(t){const e=new ps(t);return new Wr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${ns(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${rs(e)}=${rs(t)}`).join("&"):`${rs(e)}=${rs(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const ts=new Xr;function es(t){return t.segments.map(t=>ls(t)).join("/")}function ns(t,e){if(!t.hasChildren())return es(t);if(e){const e=t.children.primary?ns(t.children.primary,!1):"",n=[];return jr(t.children,(t,e)=>{e!==Mr&&n.push(`${e}:${ns(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return jr(t.children,(t,i)=>{i===Mr&&(n=n.concat(e(t,i)))}),jr(t.children,(t,i)=>{i!==Mr&&(n=n.concat(e(t,i)))}),n}(t,(e,n)=>n===Mr?[ns(t.children.primary,!1)]:[`${n}:${ns(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${es(t)}/${e[0]}`:`${es(t)}/(${e.join("//")})`}}function is(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rs(t){return is(t).replace(/%3B/gi,";")}function ss(t){return is(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function os(t){return decodeURIComponent(t)}function as(t){return os(t.replace(/\+/g,"%20"))}function ls(t){return`${ss(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${ss(t)}=${ss(e[t])}`).join("")}`;var e}const cs=/^[^\/()?;=#]+/;function us(t){const e=t.match(cs);return e?e[0]:""}const hs=/^[^=?&#]+/,ds=/^[^?&#]+/;class ps{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kr([],{}):new Kr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Kr(t,e)),n}parseSegment(){const t=us(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Yr(os(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=us(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=us(this.remaining);t&&(n=t,this.capture(n))}t[os(e)]=os(n)}parseQueryParam(t){const e=function(t){const e=t.match(hs);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(ds);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=as(e),r=as(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=us(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=Mr);const s=this.parseChildren();e[r]=1===Object.keys(s).length?s.primary:new Kr([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class fs{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=gs(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=gs(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ms(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return ms(t,this._root).map(t=>t.value)}}function gs(t,e){if(t===e.value)return e;for(const n of e.children){const e=gs(t,n);if(e)return e}return null}function ms(t,e){if(t===e.value)return[e];for(const n of e.children){const i=ms(t,n);if(i.length)return i.unshift(e),i}return[]}class ys{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function _s(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class vs extends fs{constructor(t,e){super(t),this.snapshot=e,ks(this,t)}toString(){return this.snapshot.toString()}}function bs(t,e){const n=function(t,e){const n=new xs([],{},{},"",{},Mr,e,null,t.root,-1,{});return new Ps("",new ys(n,[]))}(t,e),i=new ui([new Yr("",{})]),r=new ui({}),s=new ui({}),o=new ui({}),a=new ui(""),l=new ws(i,r,o,a,s,Mr,e,n.root);return l.snapshot=n.root,new vs(new ys(l,[]),n)}class ws{constructor(t,e,n,i,r,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Si.U)(t=>Nr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Si.U)(t=>Nr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cs(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class xs{constructor(t,e,n,i,r,s,o,a,l,c,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ps extends fs{constructor(t,e){super(e),this.url=t,ks(this,e)}toString(){return Os(this._root)}}function ks(t,e){e.value._routerState=t,e.children.forEach(e=>ks(t,e))}function Os(t){const e=t.children.length>0?` { ${t.children.map(Os).join(", ")} } `:"";return`${t.value}${e}`}function Ts(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Lr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Lr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Lr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Lr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Is(t,e){return Lr(t.params,e.params)&&function(t,e){return Qr(t,e)&&t.every((t,n)=>Lr(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Is(t.parent,e.parent))}function Ss(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const r=function(t,e,n){return e.children.map(e=>{for(const i of n.children)if(t.shouldReuseRoute(e.value,i.value.snapshot))return Ss(t,e,i);return Ss(t,e)})}(t,e,n);return new ys(i,r)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Es(e,t),t}}const n=new ws(new ui((i=e.value).url),new ui(i.params),new ui(i.queryParams),new ui(i.fragment),new ui(i.data),i.outlet,i.component,i),r=e.children.map(e=>Ss(t,e));return new ys(n,r)}var i}function Es(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Es(t.children[n],e.children[n])}function Ms(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function As(t){return"object"==typeof t&&null!=t&&t.outlets}function Ns(t,e,n,i,r){let s={};return i&&jr(i,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Wr(n.root===t?e:Rs(n.root,t,e),s,r)}function Rs(t,e,n){const i={};return jr(t.children,(t,r)=>{i[r]=t===e?n:Rs(t,e,n)}),new Kr(t.segments,i)}class Ds{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Ms(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(As);if(i&&i!==qr(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ls{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Fs(t,e,n){if(t||(t=new Kr([],{})),0===t.segments.length&&t.hasChildren())return Us(t,e,n);const i=function(t,e,n){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;const e=t.segments[r],o=n[i];if(As(o))break;const a=`${o}`,l=i<n.length-1?n[i+1]:null;if(r>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!Vs(a,l,e))return s;i+=2}else{if(!Vs(a,{},e))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new Kr(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new Kr(t.segments.slice(i.pathIndex),t.children),Us(e,0,r)}return i.match&&0===r.length?new Kr(t.segments,{}):i.match&&!t.hasChildren()?qs(t,e,n):i.match?Us(t,0,r):qs(t,e,n)}function Us(t,e,n){if(0===n.length)return new Kr(t.segments,{});{const i=function(t){return As(t[0])?t[0].outlets:{[Mr]:t}}(n),r={};return jr(i,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(r[i]=Fs(t.children[i],e,n))}),jr(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new Kr(t.segments,r)}}function qs(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){const s=n[r];if(As(s)){const t=js(s.outlets);return new Kr(i,t)}if(0===r&&Ms(n[0])){i.push(new Yr(t.segments[e].path,zs(n[0]))),r++;continue}const o=As(s)?s.outlets.primary:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&Ms(a)?(i.push(new Yr(o,zs(a))),r+=2):(i.push(new Yr(o,{})),r++)}return new Kr(i,{})}function js(t){const e={};return jr(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=qs(new Kr([],{}),0,t))}),e}function zs(t){const e={};return jr(t,(t,n)=>e[n]=`${t}`),e}function Vs(t,e,n){return t==n.path&&Lr(e,n.parameters)}class Bs{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Ts(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=_s(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),jr(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,r=_s(t);for(const s of Object.keys(r))this.deactivateRouteAndItsChildren(r[s],i);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const i=_s(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new Sr(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Tr(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(Ts(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Hs(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Hs(t){Ts(t.value),t.children.forEach(Hs)}class $s{constructor(t,e){this.routes=t,this.module=e}}function Gs(t){return"function"==typeof t}function Zs(t){return t instanceof Wr}const Ws=Symbol("INITIAL_VALUE");function Ks(){return Mi(t=>function(...t){let e,n;return(0,hi.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,di.k)(t[0])&&(t=t[0]),(0,vi.n)(t,n).lift(new wi(e))}(t.map(t=>t.pipe(Di(1),Ui(Ws)))).pipe(qi((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==Ws)return t;if(i===Ws&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||Zs(i))return i}return t},t)},Ws),Vi(t=>t!==Ws),(0,Si.U)(t=>Zs(t)?t:!0===t),Di(1)))}let Ys=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i._UZ(0,"router-outlet")},directives:function(){return[$o]},encapsulation:2}),t})();function Qs(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];Js(i,Xs(e,i))}}function Js(t,e){t.children&&Qs(t.children,e)}function Xs(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function to(t){const e=t.children&&t.children.map(to),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Mr&&(n.component=Ys),n}function eo(t){return t.outlet||Mr}function no(t,e){const n=t.filter(t=>eo(t)===e);return n.push(...t.filter(t=>eo(t)!==e)),n}const io={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ro(t,e,n){var i;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},io):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Dr)(n,t,e);if(!r)return Object.assign({},io);const s={};jr(r.posParams,(t,e)=>{s[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function so(t,e,n,i,r="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>oo(t,e,n)&&eo(n)!==Mr)}(t,n,i)){const r=new Kr(e,function(t,e,n,i){const r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&eo(s)!==Mr){const n=new Kr([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[eo(s)]=n}return r}(t,e,i,new Kr(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>oo(t,e,n))}(t,n,i)){const s=new Kr(t.segments,function(t,e,n,i,r,s){const o={};for(const a of i)if(oo(t,n,a)&&!r[eo(a)]){const n=new Kr([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[eo(a)]=n}return Object.assign(Object.assign({},r),o)}(t,e,n,i,t.children,r));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Kr(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function oo(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function ao(t,e,n,i){return!!(eo(t)===i||i!==Mr&&oo(e,n,t))&&("**"===t.path||ro(e,t,n).matched)}function lo(t,e,n){return 0===e.length&&!t.children[n]}class co{constructor(t){this.segmentGroup=t||null}}class uo{constructor(t){this.urlTree=t}}function ho(t){return new yi.y(e=>e.error(new co(t)))}function po(t){return new yi.y(e=>e.error(new uo(t)))}function fo(t){return new yi.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class go{constructor(t,e,n,r,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(i.h0i)}apply(){const t=so(this.urlTree.root,[],[],this.config).segmentGroup,e=new Kr(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Mr).pipe((0,Si.U)(t=>this.createUrlTree(mo(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe($i(t=>{if(t instanceof uo)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof co)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Mr).pipe((0,Si.U)(e=>this.createUrlTree(mo(e),t.queryParams,t.fragment))).pipe($i(t=>{if(t instanceof co)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new Kr([],{[Mr]:t}):t;return new Wr(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,Si.U)(t=>new Kr([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){const i=[];for(const r of Object.keys(n.children))"primary"===r?i.unshift(r):i.push(r);return(0,oi.D)(i).pipe(Ki(i=>{const r=n.children[i],s=no(e,i);return this.expandSegmentGroup(t,s,r,i).pipe((0,Si.U)(t=>({segment:t,outlet:i})))}),qi((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Vi((e,n)=>t(e,n,i)):or.y,Yi(1),n?ir(e):Xi(()=>new xi))}())}expandSegment(t,e,n,i,r,s){return(0,oi.D)(n).pipe(Ki(o=>this.expandSegmentAgainstRoute(t,e,n,o,i,r,s).pipe($i(t=>{if(t instanceof co)return(0,ai.of)(null);throw t}))),ar(t=>!!t),$i((t,n)=>{if(t instanceof xi||"EmptyError"===t.name){if(lo(e,i,r))return(0,ai.of)(new Kr([],{}));throw new co(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,i,r,s,o){return ao(i,e,r,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s):ho(e):ho(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?po(r):this.lineralizeSegments(n,r).pipe((0,Wi.zg)(n=>{const r=new Kr(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=ro(e,i,r);if(!o)return ho(e);const u=this.applyRedirectCommands(a,i.redirectTo,c);return i.redirectTo.startsWith("/")?po(u):this.lineralizeSegments(i,u).pipe((0,Wi.zg)(i=>this.expandSegment(t,e,n,i.concat(r.slice(l)),s,!1)))}matchSegmentAgainstRoute(t,e,n,i,r){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,ai.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,Si.U)(t=>(n._loadedConfig=t,new Kr(i,{})))):(0,ai.of)(new Kr(i,{}));const{matched:s,consumedSegments:o,lastChild:a}=ro(e,n,i);if(!s)return ho(e);const l=i.slice(a);return this.getChildConfig(t,n,i).pipe((0,Wi.zg)(t=>{const i=t.module,s=t.routes,{segmentGroup:a,slicedSegments:c}=so(e,o,l,s),u=new Kr(a.segments,a.children);if(0===c.length&&u.hasChildren())return this.expandChildren(i,s,u).pipe((0,Si.U)(t=>new Kr(o,t)));if(0===s.length&&0===c.length)return(0,ai.of)(new Kr(o,{}));const h=eo(n)===r;return this.expandSegment(i,u,s,c,h?Mr:r,!0).pipe((0,Si.U)(t=>new Kr(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?(0,ai.of)(new $s(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,ai.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,Wi.zg)(n=>n?this.configLoader.load(t.injector,e).pipe((0,Si.U)(t=>(e._loadedConfig=t,t))):function(t){return new yi.y(e=>e.error(Rr(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):(0,ai.of)(new $s([],t))}runCanLoadGuards(t,e,n){const i=e.canLoad;if(!i||0===i.length)return(0,ai.of)(!0);const r=i.map(i=>{const r=t.get(i);let s;if(function(t){return t&&Gs(t.canLoad)}(r))s=r.canLoad(e,n);else{if(!Gs(r))throw new Error("Invalid CanLoad guard");s=r(e,n)}return zr(s)});return(0,ai.of)(r).pipe(Ks(),(0,lr.b)(t=>{if(!Zs(t))return;const e=Rr(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,Si.U)(t=>!0===t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return(0,ai.of)(n);if(i.numberOfChildren>1||!i.children.primary)return fo(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new Wr(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return jr(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let s={};return jr(e.children,(e,r)=>{s[r]=this.createSegmentGroup(t,e,n,i)}),new Kr(r,s)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function mo(t){const e={};for(const n of Object.keys(t.children)){const i=mo(t.children[n]);(i.segments.length>0||i.hasChildren())&&(e[n]=i)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Kr(t.segments.concat(e.segments),e.children)}return t}(new Kr(t.segments,e))}class yo{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class _o{constructor(t,e){this.component=t,this.route=e}}function vo(t,e,n){const i=t._root;return wo(i,e?e._root:null,n,[i.value])}function bo(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function wo(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=_s(e);return t.children.forEach(t=>{!function(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Qr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Qr(t.url,e.url)||!Lr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Is(t,e)||!Lr(t.queryParams,e.queryParams);case"paramsChange":default:return!Is(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new yo(i)):(s.data=o.data,s._resolvedData=o._resolvedData),wo(t,e,s.component?a?a.children:null:n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new _o(a.outlet.component,o))}else o&&Co(e,a,r),r.canActivateChecks.push(new yo(i)),wo(t,null,s.component?a?a.children:null:n,i,r)}(t,s[t.value.outlet],n,i.concat([t.value]),r),delete s[t.value.outlet]}),jr(s,(t,e)=>Co(t,n.getContext(e),r)),r}function Co(t,e,n){const i=_s(t),r=t.value;jr(i,(t,i)=>{Co(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new _o(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class xo{}function Po(t){return new yi.y(e=>e.error(t))}class ko{constructor(t,e,n,i,r,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}recognize(){const t=so(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Mr);if(null===e)return null;const n=new xs([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Mr,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ys(n,e),r=new Ps(this.url,i);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(t){const e=t.value,n=Cs(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const r of Object.keys(e.children)){const i=e.children[r],s=no(t,r),o=this.processSegmentGroup(s,i,r);if(null===o)return null;n.push(...o)}const i=To(n);return i.sort((t,e)=>t.value.outlet===Mr?-1:e.value.outlet===Mr?1:t.value.outlet.localeCompare(e.value.outlet)),i}processSegment(t,e,n,i){for(const r of t){const t=this.processSegmentAgainstRoute(r,e,n,i);if(null!==t)return t}return lo(e,n,i)?[]:null}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo||!ao(t,e,n,i))return null;let r,s=[],o=[];if("**"===t.path){const i=n.length>0?qr(n).parameters:{};r=new xs(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Eo(t),eo(t),t.component,t,Io(e),So(e)+n.length,Mo(t))}else{const i=ro(e,t,n);if(!i.matched)return null;s=i.consumedSegments,o=n.slice(i.lastChild),r=new xs(s,i.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Eo(t),eo(t),t.component,t,Io(e),So(e)+s.length,Mo(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:c}=so(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const t=this.processChildren(a,l);return null===t?null:[new ys(r,t)]}if(0===a.length&&0===c.length)return[new ys(r,[])];const u=eo(t)===i,h=this.processSegment(a,l,c,u?Mr:i);return null===h?null:[new ys(r,h)]}}function Oo(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function To(t){const e=[],n=new Set;for(const i of t){if(!Oo(i)){e.push(i);continue}const t=e.find(t=>i.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...i.children),n.add(t)):e.push(i)}for(const i of n){const t=To(i.children);e.push(new ys(i.value,t))}return e.filter(t=>!n.has(t))}function Io(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function So(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Eo(t){return t.data||{}}function Mo(t){return t.resolve||{}}function Ao(t){return Mi(e=>{const n=t(e);return n?(0,oi.D)(n).pipe((0,Si.U)(()=>e)):(0,ai.of)(e)})}class No extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Ro=new i.OlP("ROUTES");class Do{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,Si.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new $s(Ur(r.injector.get(Ro,void 0,i.XFs.Self|i.XFs.Optional)).map(to),r)}),$i(t=>{throw e._loader$=void 0,t}));return e._loader$=new Ii.c(n,()=>new li.xQ).pipe((0,cr.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,oi.D)(this.loader.load(t)):zr(t()).pipe((0,Wi.zg)(t=>t instanceof i.YKP?(0,ai.of)(t):(0,oi.D)(this.compiler.compileModuleAsync(t))))}}class Lo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Fo,this.attachRef=null}}class Fo{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Lo,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Uo{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function qo(t){throw t}function jo(t,e,n){return e.parse("/")}function zo(t,e){return(0,ai.of)(null)}const Vo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Bo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ho=(()=>{class t{constructor(t,e,n,r,s,o,a,l){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new li.xQ,this.errorHandler=qo,this.malformedUriErrorHandler=jo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:zo,afterPreactivation:zo},this.urlHandlingStrategy=new Uo,this.routeReuseStrategy=new No,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(i.h0i),this.console=s.get(i.c2e);const c=s.get(i.R0b);this.isNgZoneEnabled=c instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new Wr(new Kr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Do(o,a,t=>this.triggerEvent(new Pr(t)),t=>this.triggerEvent(new kr(t))),this.routerState=bs(this.currentUrlTree,this.rootComponentType),this.transitions=new ui({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Vi(t=>0!==t.id),(0,Si.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Mi(t=>{let n=!1,i=!1;return(0,ai.of)(t).pipe((0,lr.b)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Mi(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return(0,ai.of)(t).pipe(Mi(t=>{const n=this.transitions.getValue();return e.next(new gr(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Oi.E:Promise.resolve(t)}),(i=this.ngModule.injector,r=this.configLoader,s=this.urlSerializer,o=this.config,Mi(t=>function(t,e,n,i,r){return new go(t,e,n,i,r).apply()}(i,r,s,t.extractedUrl,o).pipe((0,Si.U)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),(0,lr.b)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return(0,Wi.zg)(s=>function(t,e,n,i,r="emptyOnly",s="legacy"){try{const o=new ko(t,e,n,i,r,s).recognize();return null===o?Po(new xo):(0,ai.of)(o)}catch(o){return Po(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),i,r).pipe((0,Si.U)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,lr.b)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new vr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var i,r,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:s,extras:o}=t,a=new gr(n,this.serializeUrl(i),r,s);e.next(a);const l=bs(i,this.rootComponentType).snapshot;return(0,ai.of)(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:i,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Oi.E}),Ao(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),(0,lr.b)(t=>{const e=new br(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,Si.U)(t=>Object.assign(Object.assign({},t),{guards:vo(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,Wi.zg)(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?(0,ai.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return(0,oi.D)(t).pipe((0,Wi.zg)(t=>function(t,e,n,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,ai.of)(!0);const o=s.map(s=>{const o=bo(s,e,r);let a;if(function(t){return t&&Gs(t.canDeactivate)}(o))a=zr(o.canDeactivate(t,e,n,i));else{if(!Gs(o))throw new Error("Invalid CanDeactivate guard");a=zr(o(t,e,n,i))}return a.pipe(ar())});return(0,ai.of)(o).pipe(Ks())}(t.component,t.route,n,e,i)),ar(t=>!0!==t,!0))}(o,i,r,t).pipe((0,Wi.zg)(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,i){return(0,oi.D)(e).pipe(Ki(e=>ki(function(t,e){return null!==t&&e&&e(new Or(t)),(0,ai.of)(!0)}(e.route.parent,i),function(t,e){return null!==t&&e&&e(new Ir(t)),(0,ai.of)(!0)}(e.route,i),function(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Ti(()=>{const r=e.guards.map(r=>{const s=bo(r,e.node,n);let o;if(function(t){return t&&Gs(t.canActivateChild)}(s))o=zr(s.canActivateChild(i,t));else{if(!Gs(s))throw new Error("Invalid CanActivateChild guard");o=zr(s(i,t))}return o.pipe(ar())});return(0,ai.of)(r).pipe(Ks())}));return(0,ai.of)(r).pipe(Ks())}(t,e.path,n),function(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,ai.of)(!0);const r=i.map(i=>Ti(()=>{const r=bo(i,e,n);let s;if(function(t){return t&&Gs(t.canActivate)}(r))s=zr(r.canActivate(e,t));else{if(!Gs(r))throw new Error("Invalid CanActivate guard");s=zr(r(e,t))}return s.pipe(ar())}));return(0,ai.of)(r).pipe(Ks())}(t,e.route,n))),ar(t=>!0!==t,!0))}(i,s,t,e):(0,ai.of)(n)),(0,Si.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),(0,lr.b)(t=>{if(Zs(t.guardsResult)){const e=Rr(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new wr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Vi(t=>!!t.guardsResult||(this.cancelNavigationTransition(t,""),!1)),Ao(t=>{if(t.guards.canActivateChecks.length)return(0,ai.of)(t).pipe((0,lr.b)(t=>{const e=new Cr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Mi(t=>{let e=!1;return(0,ai.of)(t).pipe((n=this.paramsInheritanceStrategy,i=this.ngModule.injector,(0,Wi.zg)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:r}}=t;if(!r.length)return(0,ai.of)(t);let s=0;return(0,oi.D)(r).pipe(Ki(t=>function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return(0,ai.of)({});const s={};return(0,oi.D)(r).pipe((0,Wi.zg)(r=>function(t,e,n,i){const r=bo(t,e,i);return zr(r.resolve?r.resolve(e,n):r(e,n))}(t[r],e,n,i).pipe((0,lr.b)(t=>{s[r]=t}))),Yi(1),(0,Wi.zg)(()=>Object.keys(s).length===r.length?(0,ai.of)(s):Oi.E))}(t._resolve,t,e,i).pipe((0,Si.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Cs(t,n).resolve),null)))}(t.route,e,n,i)),(0,lr.b)(()=>s++),Yi(1),(0,Wi.zg)(e=>s===r.length?(0,ai.of)(t):Oi.E))})),(0,lr.b)({next:()=>e=!0,complete:()=>{e||this.cancelNavigationTransition(t,"At least one route resolver didn't emit any value.")}}));var n,i}),(0,lr.b)(t=>{const e=new xr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Ao(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),(0,Si.U)(t=>{const e=function(t,e,n){const i=Ss(t,e._root,n?n._root:void 0);return new vs(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),(0,lr.b)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),(r=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),(0,Si.U)(t=>(new Bs(s,t.targetRouterState,t.currentRouterState,o).activate(r),t))),(0,lr.b)({next(){n=!0},complete(){n=!0}}),hr(()=>{n||i||this.cancelNavigationTransition(t,`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation=null}),$i(n=>{if(i=!0,function(t){return t&&t.ngNavigationCancelingError}(n)){const i=Zs(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new yr(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),i?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new _r(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(np){t.reject(np)}}return Oi.E}));var r,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:i}=e,r={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(r.state=t)}this.scheduleNavigation(i,t,n,r)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Qs(t),this.config=t.map(to),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,l=o?this.currentUrlTree.fragment:r;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,i,r){if(0===n.length)return Ns(e.root,e.root,e,i,r);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ds(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return jr(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new Ds(n,e,i)}(n);if(s.toRoot())return Ns(e.root,new Kr([],{}),e,i,r);const o=function(t,e,n){if(t.isAbsolute)return new Ls(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Ls(t,t===e.root,0)}const i=Ms(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Ls(i,!1,r-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Us(o.segmentGroup,o.index,s.commands):Fs(o.segmentGroup,o.index,s.commands);return Ns(o.segmentGroup,a,e,i,r)}(a,this.currentUrlTree,t,c,null!=l?l:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Zs(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);let r=null;return"computed"===this.canceledNavigationResolution&&(0===this.currentPageId||e.skipLocationChange||e.replaceUrl)&&(r=this.location.getState()),this.scheduleNavigation(i,"imperative",r,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},Vo):!1===e?Object.assign({},Bo):e,Zs(t))return Hr(this.currentUrlTree,t,n);const i=this.parseUrl(t);return Hr(this.currentUrlTree,i,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new mr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i,r){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let l,c,u;r?(l=r.resolve,c=r.reject,u=r.promise):u=new Promise((t,e)=>{l=t,c=e});const h=++this.navigationId;let d;return d="computed"===this.canceledNavigationResolution?n&&n.\u0275routerPageId?n.\u0275routerPageId:this.currentPageId+1:0,this.setTransition({id:h,targetPageId:d,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),i=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",i):this.location.go(n,"",i)}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,e){"computed"===this.canceledNavigationResolution?"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy||this.location.historyGo(this.currentPageId-t.targetPageId):this.resetUrlToCurrentUrlTree();const n=new yr(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.DyG),i.LFG(Jr),i.LFG(Fo),i.LFG(w),i.LFG(i.zs3),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(void 0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),$o=(()=>{class t{constructor(t,e,n,r,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.name=r||Mr,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new Go(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Fo),i.Y36(i.s_b),i.Y36(i._Vd),i.$8M("name"),i.Y36(i.sBO))},t.\u0275dir=i.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Go{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ws?this.route:t===Fo?this.childContexts:this.parent.get(t,e)}}class Zo{}class Wo{preload(t,e){return(0,ai.of)(null)}}let Ko=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new Do(e,n,e=>t.triggerEvent(new Pr(e)),e=>t.triggerEvent(new kr(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Vi(t=>t instanceof mr),Ki(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return(0,oi.D)(n).pipe((0,Pi.J)(),(0,Si.U)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?(0,ai.of)(e._loadedConfig):this.loader.load(t.injector,e)).pipe((0,Wi.zg)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Ho),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(i.zs3),i.LFG(Zo))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Yo=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof gr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof mr&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Er&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Er(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Ho),i.LFG(L),i.LFG(void 0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const Qo=new i.OlP("ROUTER_CONFIGURATION"),Jo=new i.OlP("ROUTER_FORROOT_GUARD"),Xo=[w,{provide:Jr,useClass:Xr},{provide:Ho,useFactory:function(t,e,n,i,r,s,o,a={},l,c){const u=new Ho(null,t,e,n,i,r,s,Ur(o));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),u},deps:[Jr,Fo,w,i.zs3,i.v3s,i.Sil,Ro,Qo,[class{},new i.FiY],[class{},new i.FiY]]},Fo,{provide:ws,useFactory:function(t){return t.routerState.root},deps:[Ho]},{provide:i.v3s,useClass:i.EAV},Ko,Wo,class{preload(t,e){return e().pipe($i(()=>(0,ai.of)(null)))}},{provide:Qo,useValue:{enableTracing:!1}}];function ta(){return new i.PXZ("Router",Ho)}let ea=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Xo,sa(e),{provide:Jo,useFactory:ra,deps:[[Ho,new i.FiY,new i.tp0]]},{provide:Qo,useValue:n||{}},{provide:m,useFactory:ia,deps:[a,[new i.tBr(_),new i.FiY],Qo]},{provide:Yo,useFactory:na,deps:[Ho,L,Qo]},{provide:Zo,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Wo},{provide:i.PXZ,multi:!0,useFactory:ta},[oa,{provide:i.ip1,multi:!0,useFactory:aa,deps:[oa]},{provide:ca,useFactory:la,deps:[oa]},{provide:i.tb,multi:!0,useExisting:ca}]]}}static forChild(e){return{ngModule:t,providers:[sa(e)]}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Jo,8),i.LFG(Ho,8))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();function na(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Yo(t,e,n)}function ia(t,e,n={}){return n.useHash?new b(t,e):new v(t,e)}function ra(t){return"guarded"}function sa(t){return[{provide:i.deG,multi:!0,useValue:t},{provide:Ro,multi:!0,useValue:t}]}let oa=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new li.xQ}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Ho),i=this.injector.get(Qo);return"disabled"===i.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,ai.of)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Qo),n=this.injector.get(Ko),r=this.injector.get(Yo),s=this.injector.get(Ho),o=this.injector.get(i.z2F);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),r.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.zs3))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function aa(t){return t.appInitializer.bind(t)}function la(t){return t.bootstrapListener.bind(t)}const ca=new i.OlP("Router Initializer"),ua=[];let ha=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[ea.forRoot(ua)],ea]}),t})();const da={apiKey:"AIzaSyBi8NPLjaXZoqV-EhyWTqYheYiTM5JPz_g",authDomain:"co-onetest-407b6.firebaseapp.com",projectId:"co-onetest-407b6",storageBucket:"co-onetest-407b6.appspot.com",messagingSenderId:"701363109445",appId:"1:701363109445:web:2896083f48a80c31076d2c"};var pa=n(8569),fa=n(5271);function ga(){return t=>t.lift(new ma)}class ma{call(t,e){return e.subscribe(new ya(t))}}class ya extends pi.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function _a(t,e){return n=>n.lift(new va(t,e))}class va{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new ba(t,this.compare,this.keySelector))}}class ba extends pi.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var wa,Ca=n(9748),xa=(n(3678),n(1932)),Pa=n(6304),ka=n(7092),Oa=n(5119),Ta=n(2134),Ia=n(5725),Sa="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ea={},Ma=Ma||{},Aa=Sa||self;function Na(){}function Ra(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Da(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var La="closure_uid_"+(1e9*Math.random()>>>0),Fa=0;function Ua(t,e,n){return t.call.apply(t.bind,arguments)}function qa(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function ja(t,e,n){return(ja=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ua:qa).apply(null,arguments)}function za(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Va(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}function Ba(){this.s=this.s,this.o=this.o}var Ha={};Ba.prototype.s=!1,Ba.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,La)&&t[La]||(t[La]=++Fa)}(this);delete Ha[t]}},Ba.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $a=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ga=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const i=t.length,r="string"==typeof t?t.split(""):t;for(let s=0;s<i;s++)s in r&&e.call(n,r[s],s,t)};function Za(t){return Array.prototype.concat.apply([],arguments)}function Wa(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function Ka(t){return/^[\s\xa0]*$/.test(t)}var Ya,Qa=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ja(t,e){return-1!=t.indexOf(e)}function Xa(t,e){return t<e?-1:t>e?1:0}t:{var tl=Aa.navigator;if(tl){var el=tl.userAgent;if(el){Ya=el;break t}}Ya=""}function nl(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function il(t){const e={};for(const n in t)e[n]=t[n];return e}var rl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sl(t,e){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)t[n]=i[n];for(let e=0;e<rl.length;e++)n=rl[e],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function ol(t){return ol[" "](t),t}ol[" "]=Na;var al,ll,cl=Ja(Ya,"Opera"),ul=Ja(Ya,"Trident")||Ja(Ya,"MSIE"),hl=Ja(Ya,"Edge"),dl=hl||ul,pl=Ja(Ya,"Gecko")&&!(Ja(Ya.toLowerCase(),"webkit")&&!Ja(Ya,"Edge"))&&!(Ja(Ya,"Trident")||Ja(Ya,"MSIE"))&&!Ja(Ya,"Edge"),fl=Ja(Ya.toLowerCase(),"webkit")&&!Ja(Ya,"Edge");function gl(){var t=Aa.document;return t?t.documentMode:void 0}t:{var ml="",yl=(ll=Ya,pl?/rv:([^\);]+)(\)|;)/.exec(ll):hl?/Edge\/([\d\.]+)/.exec(ll):ul?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ll):fl?/WebKit\/(\S+)/.exec(ll):cl?/(?:Version)[ \/]?(\S+)/.exec(ll):void 0);if(yl&&(ml=yl?yl[1]:""),ul){var _l=gl();if(null!=_l&&_l>parseFloat(ml)){al=String(_l);break t}}al=ml}var vl={};var bl=Aa.document&&ul&&(gl()||parseInt(al,10))||void 0,wl=function(){if(!Aa.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Aa.addEventListener("test",Na,e),Aa.removeEventListener("test",Na,e)}catch(n){}return t}();function Cl(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function xl(t,e){if(Cl.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(pl){t:{try{ol(e.nodeName);var r=!0;break t}catch(s){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Pl[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&xl.Z.h.call(this)}}Cl.prototype.h=function(){this.defaultPrevented=!0},Va(xl,Cl);var Pl={2:"touch",3:"pen",4:"mouse"};xl.prototype.h=function(){xl.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var kl="closure_listenable_"+(1e6*Math.random()|0),Ol=0;function Tl(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ia=r,this.key=++Ol,this.ca=this.fa=!1}function Il(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Sl(t){this.src=t,this.g={},this.h=0}function El(t,e){var n=e.type;if(n in t.g){var i,r=t.g[n],s=$a(r,e);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Il(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Ml(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==i)return r}return-1}Sl.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Ml(t,e,i,r);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new Tl(e,this.src,s,!!i,r)).fa=n,t.push(e)),e};var Al="closure_lm_"+(1e6*Math.random()|0),Nl={};function Rl(t,e,n,i,r){if(i&&i.once)return Ll(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Rl(t,e[s],n,i,r);return null}return n=Bl(n),t&&t[kl]?t.N(e,n,Da(i)?!!i.capture:!!i,r):Dl(t,e,n,!1,i,r)}function Dl(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=Da(r)?!!r.capture:!!r,a=zl(t);if(a||(t[Al]=a=new Sl(t)),(n=a.add(e,n,i,o,s)).proxy)return n;if(i=function(){var t=jl;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)wl||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(ql(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function Ll(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ll(t,e[s],n,i,r);return null}return n=Bl(n),t&&t[kl]?t.O(e,n,Da(i)?!!i.capture:!!i,r):Dl(t,e,n,!0,i,r)}function Fl(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)Fl(t,e[s],n,i,r);else i=Da(i)?!!i.capture:!!i,n=Bl(n),t&&t[kl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Ml(s=t.g[e],n,i,r))&&(Il(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=zl(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ml(e,n,i,r)),(n=-1<t?e[t]:null)&&Ul(n))}function Ul(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[kl])El(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(ql(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=zl(e))?(El(n,t),0==n.h&&(n.src=null,e[Al]=null)):Il(t)}}}function ql(t){return t in Nl?Nl[t]:Nl[t]="on"+t}function jl(t,e){if(t.ca)t=!0;else{e=new xl(e,this);var n=t.listener,i=t.ia||t.src;t.fa&&Ul(t),t=n.call(i,e)}return t}function zl(t){return(t=t[Al])instanceof Sl?t:null}var Vl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bl(t){return"function"==typeof t?t:(t[Vl]||(t[Vl]=function(e){return t.handleEvent(e)}),t[Vl])}function Hl(){Ba.call(this),this.i=new Sl(this),this.P=this,this.I=null}function $l(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,"string"==typeof e)e=new Cl(e,t);else if(e instanceof Cl)e.target=e.target||t;else{var r=e;sl(e=new Cl(i,t),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=Gl(o,i,!0,e)&&r}if(r=Gl(o=e.g=t,i,!0,e)&&r,r=Gl(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)r=Gl(o=e.g=n[s],i,!1,e)&&r}function Gl(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&El(t.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}Va(Hl,Ba),Hl.prototype[kl]=!0,Hl.prototype.removeEventListener=function(t,e,n,i){Fl(this,t,e,n,i)},Hl.prototype.M=function(){if(Hl.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)Il(n[i]);delete e.g[t],e.h--}}this.I=null},Hl.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},Hl.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var Zl=Aa.JSON.stringify;function Wl(){var t=ec;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Kl,Yl=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Ql,t=>t.reset());class Ql{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Jl(t){Aa.setTimeout(()=>{throw t},0)}function Xl(t,e){Kl||function(){var t=Aa.Promise.resolve(void 0);Kl=function(){t.then(nc)}}(),tc||(Kl(),tc=!0),ec.add(t,e)}var tc=!1,ec=new class{constructor(){this.h=this.g=null}add(t,e){const n=Yl.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}};function nc(){for(var t;t=Wl();){try{t.h.call(t.g)}catch(n){Jl(n)}var e=Yl;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}tc=!1}function ic(t,e){Hl.call(this),this.h=t||1,this.g=e||Aa,this.j=ja(this.kb,this),this.l=Date.now()}function rc(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function sc(t,e,n){if("function"==typeof t)n&&(t=ja(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ja(t.handleEvent,t)}return 2147483647<Number(e)?-1:Aa.setTimeout(t,e||0)}function oc(t){t.g=sc(()=>{t.g=null,t.i&&(t.i=!1,oc(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Va(ic,Hl),(wa=ic.prototype).da=!1,wa.S=null,wa.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),$l(this,"tick"),this.da&&(rc(this),this.start()))}},wa.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},wa.M=function(){ic.Z.M.call(this),rc(this),delete this.g};class ac extends Ba{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:oc(this)}M(){super.M(),this.g&&(Aa.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lc(t){Ba.call(this),this.h=t,this.g={}}Va(lc,Ba);var cc=[];function uc(t,e,n,i){Array.isArray(n)||(n&&(cc[0]=n.toString()),n=cc);for(var r=0;r<n.length;r++){var s=Rl(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function hc(t){nl(t.g,function(t,e){this.g.hasOwnProperty(e)&&Ul(t)},t),t.g={}}function dc(){this.g=!0}function pc(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return Zl(n)}catch(a){return e}}(t,n)+(i?" "+i:"")})}lc.prototype.M=function(){lc.Z.M.call(this),hc(this)},lc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dc.prototype.Aa=function(){this.g=!1},dc.prototype.info=function(){};var fc={},gc=null;function mc(){return gc=gc||new Hl}function yc(t){Cl.call(this,fc.Ma,t)}function _c(t){const e=mc();$l(e,new yc(e,t))}function vc(t,e){Cl.call(this,fc.STAT_EVENT,t),this.stat=e}function bc(t){const e=mc();$l(e,new vc(e,t))}function wc(t,e){Cl.call(this,fc.Na,t),this.size=e}function Cc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Aa.setTimeout(function(){t()},e)}fc.Ma="serverreachability",Va(yc,Cl),fc.STAT_EVENT="statevent",Va(vc,Cl),fc.Na="timingevent",Va(wc,Cl);var xc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Pc={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function kc(){}function Oc(){}kc.prototype.h=null;var Tc,Ic={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Sc(){Cl.call(this,"d")}function Ec(){Cl.call(this,"c")}function Mc(){}function Ac(t,e,n,i){this.l=t,this.j=e,this.m=n,this.X=i||1,this.V=new lc(this),this.P=Rc,this.W=new ic(t=dl?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Nc}function Nc(){this.i=null,this.g="",this.h=!1}Va(Sc,Cl),Va(Ec,Cl),Va(Mc,kc),Mc.prototype.g=function(){return new XMLHttpRequest},Mc.prototype.i=function(){return{}},Tc=new Mc;var Rc=45e3,Dc={},Lc={};function Fc(t,e,n){t.K=1,t.v=ou(tu(e)),t.s=n,t.U=!0,Uc(t,null)}function Uc(t,e){t.F=Date.now(),Vc(t),t.A=tu(t.v);var n=t.A,i=t.X;Array.isArray(i)||(i=[String(i)]),vu(n.h,"t",i),t.C=0,n=t.l.H,t.h=new Nc,t.g=vh(t.l,n?e:null,!t.s),0<t.O&&(t.L=new ac(ja(t.Ia,t,t.g),t.O)),uc(t.V,t.g,"readystatechange",t.gb),e=t.H?il(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),_c(1),function(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function qc(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function jc(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=zc(t,n),i==Lc){4==e&&(t.o=4,bc(14),r=!1),pc(t.j,t.m,null,"[Incomplete Response]");break}if(i==Dc){t.o=4,bc(15),pc(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}pc(t.j,t.m,i,null),Zc(t,i)}qc(t)&&i!=Lc&&i!=Dc&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,bc(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),hh(e),e.L=!0,bc(11))):(pc(t.j,t.m,n,"[Invalid Chunked Response]"),Gc(t),$c(t))}function zc(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?Lc:(n=Number(e.substring(n,i)),isNaN(n)?Dc:(i+=1)+n>e.length?Lc:(e=e.substr(i,n),t.C=i+n,e))}function Vc(t){t.Y=Date.now()+t.P,Bc(t,t.P)}function Bc(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Cc(ja(t.eb,t),e)}function Hc(t){t.B&&(Aa.clearTimeout(t.B),t.B=null)}function $c(t){0==t.l.G||t.I||fh(t.l,t)}function Gc(t){Hc(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,rc(t.W),hc(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Zc(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||ku(n.i,t)))if(n.I=t.N,!t.J&&ku(n.i,t)&&3==n.G){try{var i=n.Ca.g.parse(e)}catch(c){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;ph(n),nh(n)}uh(n),bc(18)}}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&0==n.A&&!n.v&&(n.v=Cc(ja(n.ab,n),6e3));if(1>=Pu(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else mh(n,11)}else if((t.J||n.g==t)&&ph(n),!Ka(e))for(r=n.Ca.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const e=c[3];null!=e&&(n.ma=e,n.h.info("VER="+n.ma));const r=c[4];null!=r&&(n.za=r,n.h.info("SVER="+n.za));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(n.K=i=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=i.i;!s.g&&(Ja(t,"spdy")||Ja(t,"quic")||Ja(t,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Ou(s,s.h),s.h=null))}if(i.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(i.sa=t,su(i.F,i.D,t))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((i=n).oa=_h(i,i.H?i.la:null,i.W),o.J){Tu(i.i,o);var a=o,l=i.K;l&&a.setTimeout(l),a.B&&(Hc(a),Vc(a)),i.g=o}else ch(i);0<n.l.length&&sh(n)}else"stop"!=c[0]&&"close"!=c[0]||mh(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?mh(n,7):eh(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}_c(4)}catch(c){}}function Wc(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ra(t)||"string"==typeof t)Ga(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Ra(t)||"string"==typeof t){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;r=(i=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Ra(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t)).length;for(var s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}}function Kc(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Kc)for(n=t.T(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Yc(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var i=t.g[e];Qc(t.h,i)&&(t.g[n++]=i),e++}t.g.length=n}if(t.i!=t.g.length){var r={};for(n=e=0;e<t.g.length;)Qc(r,i=t.g[e])||(t.g[n++]=i,r[i]=1),e++;t.g.length=n}}function Qc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(wa=Ac.prototype).setTimeout=function(t){this.P=t},wa.gb=function(t){t=t.target;const e=this.L;e&&3==Yu(t)?e.l():this.Ia(t)},wa.Ia=function(t){try{if(t==this.g)t:{const u=Yu(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>u)&&(3!=u||dl||this.g&&(this.h.h||this.g.ga()||Qu(this.g)))){this.I||4!=u||7==e||_c(8==e||0>=h?3:2),Hc(this);var n=this.g.ba();this.N=n;e:if(qc(this)){var i=Qu(this.g);t="";var r=i.length,s=4==Yu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Gc(this),$c(this);var o="";break e}this.h.i=new Aa.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ka(a)){var c=a;break e}}c=null}if(!(n=c)){this.i=!1,this.o=3,bc(12),Gc(this),$c(this);break t}pc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Zc(this,n)}this.U?(jc(this,u,o),dl&&this.i&&3==u&&(uc(this.V,this.W,"tick",this.fb),this.W.start())):(pc(this.j,this.m,o,null),Zc(this,o)),4==u&&Gc(this),this.i&&!this.I&&(4==u?fh(this.l,this):(this.i=!1,Vc(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,bc(12)):(this.o=0,bc(13)),Gc(this),$c(this)}}}catch(u){}},wa.fb=function(){if(this.g){var t=Yu(this.g),e=this.g.ga();this.C<e.length&&(Hc(this),jc(this,t,e),this.i&&4!=t&&Vc(this))}},wa.cancel=function(){this.I=!0,Gc(this)},wa.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(_c(3),bc(17)),Gc(this),this.o=2,$c(this)):Bc(this,this.Y-t)},(wa=Kc.prototype).R=function(){Yc(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},wa.T=function(){return Yc(this),this.g.concat()},wa.get=function(t,e){return Qc(this.h,t)?this.h[t]:e},wa.set=function(t,e){Qc(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},wa.forEach=function(t,e){for(var n=this.T(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);t.call(e,s,r,this)}};var Jc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xc(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Xc){this.g=void 0!==e?e:t.g,eu(this,t.j),this.s=t.s,nu(this,t.i),iu(this,t.m),this.l=t.l,e=t.h;var n=new gu;n.i=e.i,e.g&&(n.g=new Kc(e.g),n.h=e.h),ru(this,n),this.o=t.o}else t&&(n=String(t).match(Jc))?(this.g=!!e,eu(this,n[1]||"",!0),this.s=au(n[2]||""),nu(this,n[3]||"",!0),iu(this,n[4]),this.l=au(n[5]||"",!0),ru(this,n[6]||"",!0),this.o=au(n[7]||"")):(this.g=!!e,this.h=new gu(null,this.g))}function tu(t){return new Xc(t)}function eu(t,e,n){t.j=n?au(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function nu(t,e,n){t.i=n?au(e,!0):e}function iu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ru(t,e,n){e instanceof gu?(t.h=e,function(t,e){e&&!t.j&&(mu(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(yu(this,e),vu(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=lu(e,pu)),t.h=new gu(e,t.g))}function su(t,e,n){t.h.set(e,n)}function ou(t){return su(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function au(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function lu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,cu),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function cu(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Xc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(lu(e,uu,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(lu(e,uu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(lu(n,"/"==n.charAt(0)?du:hu,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",lu(n,fu)),t.join("")};var uu=/[#\/\?@]/g,hu=/[#\?:]/g,du=/[#\?]/g,pu=/[#\?@]/g,fu=/#/g;function gu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function mu(t){t.g||(t.g=new Kc,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function yu(t,e){mu(t),e=bu(t,e),Qc(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Qc((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Yc(t)))}function _u(t,e){return mu(t),e=bu(t,e),Qc(t.g.h,e)}function vu(t,e,n){yu(t,e),0<n.length&&(t.i=null,t.g.set(bu(t,e),Wa(n)),t.h+=n.length)}function bu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function wu(t){this.l=t||Cu,t=Aa.PerformanceNavigationTiming?0<(t=Aa.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Aa.g&&Aa.g.Ea&&Aa.g.Ea()&&Aa.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(wa=gu.prototype).add=function(t,e){mu(this),this.i=null,t=bu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},wa.forEach=function(t,e){mu(this),this.g.forEach(function(n,i){Ga(n,function(n){t.call(e,n,i,this)},this)},this)},wa.T=function(){mu(this);for(var t=this.g.R(),e=this.g.T(),n=[],i=0;i<e.length;i++)for(var r=t[i],s=0;s<r.length;s++)n.push(e[i]);return n},wa.R=function(t){mu(this);var e=[];if("string"==typeof t)_u(this,t)&&(e=Za(e,this.g.get(bu(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Za(e,t[n])}return e},wa.set=function(t,e){return mu(this),this.i=null,_u(this,t=bu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},wa.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},wa.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var o=r;""!==i[s]&&(o+="="+encodeURIComponent(String(i[s]))),t.push(o)}}return this.i=t.join("&")};var Cu=10;function xu(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Pu(t){return t.h?1:t.g?t.g.size:0}function ku(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Ou(t,e){t.g?t.g.add(e):t.h=e}function Tu(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Iu(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Wa(t.i)}function Su(){}function Eu(){this.g=new Su}function Mu(t,e,n){const i=n||"";try{Wc(t,function(t,n){let r=t;Da(t)&&(r=Zl(t)),e.push(i+n+"="+encodeURIComponent(r))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Au(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}function Nu(t){this.l=t.$b||null,this.j=t.ib||!1}function Ru(t,e){Hl.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Du,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wu.prototype.cancel=function(){if(this.i=Iu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},Su.prototype.stringify=function(t){return Aa.JSON.stringify(t,void 0)},Su.prototype.parse=function(t){return Aa.JSON.parse(t,void 0)},Va(Nu,kc),Nu.prototype.g=function(){return new Ru(this.l,this.j)},Nu.prototype.i=function(t){return function(){return t}}({}),Va(Ru,Hl);var Du=0;function Lu(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Fu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Uu(t)}function Uu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(wa=Ru.prototype).open=function(t,e){if(this.readyState!=Du)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Uu(this)},wa.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Aa).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},wa.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fu(this)),this.readyState=Du},wa.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Uu(this)),this.g&&(this.readyState=3,Uu(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Aa.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Lu(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},wa.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Fu(this):Uu(this),3==this.readyState&&Lu(this)}},wa.Ua=function(t){this.g&&(this.response=this.responseText=t,Fu(this))},wa.Ta=function(t){this.g&&(this.response=t,Fu(this))},wa.ha=function(){this.g&&Fu(this)},wa.setRequestHeader=function(t,e){this.v.append(t,e)},wa.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},wa.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Ru.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var qu=Aa.JSON.parse;function ju(t){Hl.call(this),this.headers=new Kc,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=zu,this.K=this.L=!1}Va(ju,Hl);var zu="",Vu=/^https?$/i,Bu=["POST","PUT"];function Hu(t){return"content-type"==t.toLowerCase()}function $u(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Gu(t),Wu(t)}function Gu(t){t.D||(t.D=!0,$l(t,"complete"),$l(t,"error"))}function Zu(t){if(t.h&&void 0!==Ma&&(!t.C[1]||4!=Yu(t)||2!=t.ba()))if(t.v&&4==Yu(t))sc(t.Fa,0,t);else if($l(t,"readystatechange"),4==Yu(t)){t.h=!1;try{const l=t.ba();t:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var i;if(i=0===l){var r=String(t.H).match(Jc)[1]||null;if(!r&&Aa.self&&Aa.self.location){var s=Aa.self.location.protocol;r=s.substr(0,s.length-1)}i=!Vu.test(r?r.toLowerCase():"")}n=i}if(n)$l(t,"complete"),$l(t,"success");else{t.m=6;try{var o=2<Yu(t)?t.g.statusText:""}catch(a){o=""}t.j=o+" ["+t.ba()+"]",Gu(t)}}finally{Wu(t)}}}function Wu(t,e){if(t.g){Ku(t);const i=t.g,r=t.C[0]?Na:null;t.g=null,t.C=null,e||$l(t,"ready");try{i.onreadystatechange=r}catch(n){}}}function Ku(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Aa.clearTimeout(t.A),t.A=null)}function Yu(t){return t.g?t.g.readyState:0}function Qu(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case zu:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ju(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=function(t){let e="";return nl(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):su(t,e,n))}function Xu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function th(t){this.za=0,this.l=[],this.h=new dc,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Xu("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Xu("baseRetryDelayMs",5e3,t),this.$a=Xu("retryDelaySeedMs",1e4,t),this.Ya=Xu("forwardChannelMaxRetries",2,t),this.ra=Xu("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new wu(t&&t.concurrentRequestLimit),this.Ca=new Eu,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function eh(t){if(ih(t),3==t.G){var e=t.V++,n=tu(t.F);su(n,"SID",t.J),su(n,"RID",e),su(n,"TYPE","terminate"),ah(t,n),(e=new Ac(t,t.h,e,void 0)).K=2,e.v=ou(tu(n)),n=!1,Aa.navigator&&Aa.navigator.sendBeacon&&(n=Aa.navigator.sendBeacon(e.v.toString(),"")),!n&&Aa.Image&&((new Image).src=e.v,n=!0),n||(e.g=vh(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Vc(e)}yh(t)}function nh(t){t.g&&(hh(t),t.g.cancel(),t.g=null)}function ih(t){nh(t),t.u&&(Aa.clearTimeout(t.u),t.u=null),ph(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Aa.clearTimeout(t.m),t.m=null)}function rh(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&sh(t)}function sh(t){xu(t.i)||t.m||(t.m=!0,Xl(t.Ha,t),t.C=0)}function oh(t,e){var n;n=e?e.m:t.V++;const i=tu(t.F);su(i,"SID",t.J),su(i,"RID",n),su(i,"AID",t.U),ah(t,i),t.o&&t.s&&Ju(i,t.o,t.s),n=new Ac(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=lh(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Ou(t.i,n),Fc(n,i,e)}function ah(t,e){t.j&&Wc({},function(t,n){su(e,n,t)})}function lh(t,e,n){n=Math.min(t.l.length,n);var i=t.j?ja(t.j.Oa,t.j,t):null;t:{var r=t.l;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=r[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let s=!0;for(let o=0;o<n;o++){let n=r[o].h;const a=r[o].g;if(n-=e,0>n)e=Math.max(0,r[o].h-100),s=!1;else try{Mu(a,t,"req"+n+"_")}catch(Qh){i&&i(a)}}if(s){i=t.join("&");break t}}}return t=t.l.splice(0,n),e.D=t,i}function ch(t){t.g||t.u||(t.Y=1,Xl(t.Ga,t),t.A=0)}function uh(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Cc(ja(t.Ga,t),gh(t,t.A)),t.A++,0))}function hh(t){null!=t.B&&(Aa.clearTimeout(t.B),t.B=null)}function dh(t){t.g=new Ac(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=tu(t.oa);su(e,"RID","rpc"),su(e,"SID",t.J),su(e,"CI",t.N?"0":"1"),su(e,"AID",t.U),ah(t,e),su(e,"TYPE","xmlhttp"),t.o&&t.s&&Ju(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=ou(tu(e)),n.s=null,n.U=!0,Uc(n,t)}function ph(t){null!=t.v&&(Aa.clearTimeout(t.v),t.v=null)}function fh(t,e){var n=null;if(t.g==e){ph(t),hh(t),t.g=null;var i=2}else{if(!ku(t.i,e))return;n=e.D,Tu(t.i,e),i=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==i){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;$l(i=mc(),new wc(i,n,e,r)),sh(t)}else ch(t);else if(3==(r=e.o)||0==r&&0<t.I||!(1==i&&function(t,e){return!(Pu(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Cc(ja(t.Ha,t,e),gh(t,t.C)),t.C++,0)))}(t,e)||2==i&&uh(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:mh(t,5);break;case 4:mh(t,10);break;case 3:mh(t,6);break;default:mh(t,2)}}function gh(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function mh(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var i=ja(t.jb,t);n||(n=new Xc("//www.google.com/images/cleardot.gif"),Aa.location&&"http"==Aa.location.protocol||eu(n,"https"),ou(n)),function(t,e){const n=new dc;if(Aa.Image){const i=new Image;i.onload=za(Au,n,i,"TestLoadImage: loaded",!0,e),i.onerror=za(Au,n,i,"TestLoadImage: error",!1,e),i.onabort=za(Au,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=za(Au,n,i,"TestLoadImage: timeout",!1,e),Aa.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}(n.toString(),i)}else bc(2);t.G=0,t.j&&t.j.va(e),yh(t),ih(t)}function yh(t){t.G=0,t.I=-1,t.j&&(0==Iu(t.i).length&&0==t.l.length||(t.i.i.length=0,Wa(t.l),t.l.length=0),t.j.ua())}function _h(t,e,n){let i=function(t){return t instanceof Xc?tu(t):new Xc(t,void 0)}(n);if(""!=i.i)e&&nu(i,e+"."+i.i),iu(i,i.m);else{const t=Aa.location;i=function(t,e,n,i){var r=new Xc(null,void 0);return t&&eu(r,t),e&&nu(r,e),n&&iu(r,n),i&&(r.l=i),r}(t.protocol,e?e+"."+t.hostname:t.hostname,+t.port,n)}return t.aa&&nl(t.aa,function(t,e){su(i,e,t)}),n=t.sa,(e=t.D)&&n&&su(i,e,n),su(i,"VER",t.ma),ah(t,i),i}function vh(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ju(n&&t.Ba&&!t.qa?new Nu({ib:!0}):t.qa)).L=t.H,e}function bh(){}function wh(){if(ul&&!(10<=Number(bl)))throw Error("Environmental error: no available transport.")}function Ch(t,e){Hl.call(this),this.g=new th(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ka(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ka(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new kh(this)}function xh(t){Sc.call(this);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Ph(){Ec.call(this),this.status=1}function kh(t){this.g=t}(wa=ju.prototype).ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Tc.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Tc),this.g.onreadystatechange=ja(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void $u(this,s)}t=n||"";const r=new Kc(this.headers);i&&Wc(i,function(t,e){r.set(e,t)}),i=function(t){t:{var e=Hu;const n=t.length,i="string"==typeof t?t.split(""):t;for(let r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(r.T()),n=Aa.FormData&&t instanceof Aa.FormData,!(0<=$a(Bu,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ku(this),0<this.B&&((this.K=function(t){return ul&&function(){return t=vl,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let t=0;const e=Qa(String(al)).split("."),n=Qa("9").split("."),i=Math.max(e.length,n.length);for(let o=0;0==t&&o<i;o++){var r=e[o]||"",s=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;t=Xa(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||Xa(0==r[2].length,0==s[2].length)||Xa(r[2],s[2]),r=r[3],s=s[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ja(this.pa,this)):this.A=sc(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){$u(this,s)}},wa.pa=function(){void 0!==Ma&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$l(this,"timeout"),this.abort(8))},wa.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,$l(this,"complete"),$l(this,"abort"),Wu(this))},wa.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wu(this,!0)),ju.Z.M.call(this)},wa.Fa=function(){this.s||(this.F||this.v||this.l?Zu(this):this.cb())},wa.cb=function(){Zu(this)},wa.ba=function(){try{return 2<Yu(this)?this.g.status:-1}catch(ll){return-1}},wa.ga=function(){try{return this.g?this.g.responseText:""}catch(ll){return""}},wa.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),qu(e)}},wa.Da=function(){return this.m},wa.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(wa=th.prototype).ma=8,wa.G=1,wa.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},wa.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const r=new Ac(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=il(s),sl(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)t:{for(var e=0,n=0;n<this.l.length;n++){var i=this.l[n];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=n;break t}if(4096===e||n===this.l.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=lh(this,r,e),su(n=tu(this.F),"RID",t),su(n,"CVER",22),this.D&&su(n,"X-HTTP-Session-Id",this.D),ah(this,n),this.o&&s&&Ju(n,this.o,s),Ou(this.i,r),this.Ra&&su(n,"TYPE","init"),this.ja?(su(n,"$req",e),su(n,"SID","null"),r.$=!0,Fc(r,n,null)):Fc(r,n,e),this.G=2}}else 3==this.G&&(t?oh(this,t):0==this.l.length||xu(this.i)||oh(this))},wa.Ga=function(){if(this.u=null,dh(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Cc(ja(this.bb,this),t)}},wa.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,bc(10),nh(this),dh(this))},wa.ab=function(){null!=this.v&&(this.v=null,nh(this),uh(this),bc(19))},wa.jb=function(t){t?(this.h.info("Successfully pinged google.com"),bc(2)):(this.h.info("Failed to ping google.com"),bc(1))},(wa=bh.prototype).xa=function(){},wa.wa=function(){},wa.va=function(){},wa.ua=function(){},wa.Oa=function(){},wh.prototype.g=function(t,e){return new Ch(t,e)},Va(Ch,Hl),Ch.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Xl(ja(t.hb,t,e))),bc(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=_h(t,null,t.W),sh(t)},Ch.prototype.close=function(){eh(this.g)},Ch.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,rh(this.g,e)}else this.v?((e={}).__data__=Zl(t),rh(this.g,e)):rh(this.g,t)},Ch.prototype.M=function(){this.g.j=null,delete this.j,eh(this.g),delete this.g,Ch.Z.M.call(this)},Va(xh,Sc),Va(Ph,Ec),Va(kh,bh),kh.prototype.xa=function(){$l(this.g,"a")},kh.prototype.wa=function(t){$l(this.g,new xh(t))},kh.prototype.va=function(t){$l(this.g,new Ph(t))},kh.prototype.ua=function(){$l(this.g,"b")},wh.prototype.createWebChannel=wh.prototype.g,Ch.prototype.send=Ch.prototype.u,Ch.prototype.open=Ch.prototype.m,Ch.prototype.close=Ch.prototype.close,xc.NO_ERROR=0,xc.TIMEOUT=8,xc.HTTP_ERROR=6,Pc.COMPLETE="complete",Oc.EventType=Ic,Ic.OPEN="a",Ic.CLOSE="b",Ic.ERROR="c",Ic.MESSAGE="d",Hl.prototype.listen=Hl.prototype.N,ju.prototype.listenOnce=ju.prototype.O,ju.prototype.getLastError=ju.prototype.La,ju.prototype.getLastErrorCode=ju.prototype.Da,ju.prototype.getStatus=ju.prototype.ba,ju.prototype.getResponseJson=ju.prototype.Qa,ju.prototype.getResponseText=ju.prototype.ga,ju.prototype.send=ju.prototype.ea;var Oh=Ea.createWebChannelTransport=function(){return new wh},Th=Ea.getStatEventTarget=function(){return mc()},Ih=Ea.ErrorCode=xc,Sh=Ea.EventType=Pc,Eh=Ea.Event=fc,Mh=Ea.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ah=Ea.FetchXmlHttpFactory=Nu,Nh=Ea.WebChannel=Oc,Rh=Ea.XhrIo=ju;class Dh{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Dh.UNAUTHENTICATED=new Dh(null),Dh.GOOGLE_CREDENTIALS=new Dh("google-credentials-uid"),Dh.FIRST_PARTY=new Dh("first-party-uid"),Dh.MOCK_USER=new Dh("mock-user");let Lh="9.1.0";const Fh=new Ta.Yd("@firebase/firestore");function Uh(){return Fh.logLevel}function qh(t,...e){if(Fh.logLevel<=Ta.in.DEBUG){const n=e.map(Vh);Fh.debug(`Firestore (${Lh}): ${t}`,...n)}}function jh(t,...e){if(Fh.logLevel<=Ta.in.ERROR){const n=e.map(Vh);Fh.error(`Firestore (${Lh}): ${t}`,...n)}}function zh(t,...e){if(Fh.logLevel<=Ta.in.WARN){const n=e.map(Vh);Fh.warn(`Firestore (${Lh}): ${t}`,...n)}}function Vh(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function Bh(t="Unexpected state"){const e=`FIRESTORE (${Lh}) INTERNAL ASSERTION FAILED: `+t;throw jh(e),new Error(e)}function Hh(t,e){t||Bh()}function $h(t,e){return t}const Gh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Zh extends Error{constructor(t,e){super(e),this.code=t,this.message=e,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wh{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class Kh{constructor(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${t}`}}class Yh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Dh.UNAUTHENTICATED))}shutdown(){}}class Qh{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Jh{constructor(t){this.t=t,this.currentUser=Dh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var n=this;let i=this.i;const r=t=>this.i!==i?(i=this.i,e(t)):Promise.resolve();let s=new Wh;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wh,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const e=s;t.enqueueRetryable((0,Pa.Z)(function*(){yield e.promise,yield r(n.currentUser)}))},a=t=>{qh("FirebaseCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(t=>a(t)),setTimeout(()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?a(t):(qh("FirebaseCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wh)}},0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(e=>this.i!==t?(qh("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Hh("string"==typeof e.accessToken),new Kh(e.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Hh(null===t||"string"==typeof t),new Dh(t)}}class Xh{constructor(t,e,n){this.h=t,this.l=e,this.m=n,this.type="FirstParty",this.user=Dh.FIRST_PARTY}get authHeaders(){const t={"X-Goog-AuthUser":this.l},e=this.h.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.m&&(t["X-Goog-Iam-Authorization-Token"]=this.m),t}}class td{constructor(t,e,n){this.h=t,this.l=e,this.m=n}getToken(){return Promise.resolve(new Xh(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Dh.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ed{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.g(t),this.p=t=>e.writeSequenceNumber(t))}g(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.p&&this.p(t),t}}function nd(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}ed.T=-1;class id{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const i=nd(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%t.length))}return n}}function rd(t,e){return t<e?-1:t>e?1:0}function sd(t,e,n){return t.length===e.length&&t.every((t,i)=>n(t,e[i]))}function od(t){return t+"\0"}class ad{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Zh(Gh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Zh(Gh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Zh(Gh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Zh(Gh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ad.fromMillis(Date.now())}static fromDate(t){return ad.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new ad(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?rd(this.nanoseconds,t.nanoseconds):rd(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ld{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ld(t)}static min(){return new ld(new ad(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function cd(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ud(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hd(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class dd{constructor(t,e,n){void 0===e?e=0:e>t.length&&Bh(),void 0===n?n=t.length-e:n>t.length-e&&Bh(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===dd.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof dd?t.forEach(t=>{e.push(t)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const n=t.get(i),r=e.get(i);if(n<r)return-1;if(n>r)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class pd extends dd{construct(t,e,n){return new pd(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new Zh(Gh.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(t=>t.length>0))}return new pd(e)}static emptyPath(){return new pd([])}}const fd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gd extends dd{construct(t,e,n){return new gd(t,e,n)}static isValidIdentifier(t){return fd.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gd.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gd(["__name__"])}static fromServerFormat(t){const e=[];let n="",i=0;const r=()=>{if(0===n.length)throw new Zh(Gh.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let s=!1;for(;i<t.length;){const e=t[i];if("\\"===e){if(i+1===t.length)throw new Zh(Gh.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[i+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new Zh(Gh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,i+=2}else"`"===e?(s=!s,i++):"."!==e||s?(n+=e,i++):(r(),i++)}if(r(),s)throw new Zh(Gh.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new gd(e)}static emptyPath(){return new gd([])}}class md{constructor(t){this.fields=t,t.sort(gd.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return sd(this.fields,t.fields,(t,e)=>t.isEqual(e))}}let yd=(()=>{class t{constructor(t){this.binaryString=t}static fromBase64String(e){const n=atob(e);return new t(n)}static fromUint8Array(e){const n=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e);return new t(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return rd(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}return t.EMPTY_BYTE_STRING=new t(""),t})();const _d=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vd(t){if(Hh(!!t),"string"==typeof t){let e=0;const n=_d.exec(t);if(Hh(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:bd(t.seconds),nanos:bd(t.nanos)}}function bd(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function wd(t){return"string"==typeof t?yd.fromBase64String(t):yd.fromUint8Array(t)}function Cd(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xd(t){const e=t.mapValue.fields.__previous_value__;return Cd(e)?xd(e):e}function Pd(t){const e=vd(t.mapValue.fields.__local_write_time__.timestampValue);return new ad(e.seconds,e.nanos)}function kd(t){return null==t}function Od(t){return 0===t&&1/t==-1/0}function Td(t){return"number"==typeof t&&Number.isInteger(t)&&!Od(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}class Id{constructor(t){this.path=t}static fromPath(t){return new Id(pd.fromString(t))}static fromName(t){return new Id(pd.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===pd.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return pd.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Id(new pd(t.slice()))}}function Sd(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cd(t)?4:10:Bh()}function Ed(t,e){const n=Sd(t);if(n!==Sd(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pd(t).isEqual(Pd(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=vd(t.timestampValue),i=vd(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return wd(t.bytesValue).isEqual(wd(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return bd(t.geoPointValue.latitude)===bd(e.geoPointValue.latitude)&&bd(t.geoPointValue.longitude)===bd(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return bd(t.integerValue)===bd(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=bd(t.doubleValue),i=bd(e.doubleValue);return n===i?Od(n)===Od(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return sd(t.arrayValue.values||[],e.arrayValue.values||[],Ed);case 10:return function(t,e){const n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(cd(n)!==cd(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!Ed(n[r],i[r])))return!1;return!0}(t,e);default:return Bh()}}function Md(t,e){return void 0!==(t.values||[]).find(t=>Ed(t,e))}function Ad(t,e){const n=Sd(t),i=Sd(e);if(n!==i)return rd(n,i);switch(n){case 0:return 0;case 1:return rd(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=bd(t.integerValue||t.doubleValue),i=bd(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return Nd(t.timestampValue,e.timestampValue);case 4:return Nd(Pd(t),Pd(e));case 5:return rd(t.stringValue,e.stringValue);case 6:return function(t,e){const n=wd(t),i=wd(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),i=e.split("/");for(let r=0;r<n.length&&r<i.length;r++){const t=rd(n[r],i[r]);if(0!==t)return t}return rd(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=rd(bd(t.latitude),bd(e.latitude));return 0!==n?n:rd(bd(t.longitude),bd(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const t=Ad(n[r],i[r]);if(t)return t}return rd(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){const n=t.fields||{},i=Object.keys(n),r=e.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let o=0;o<i.length&&o<s.length;++o){const t=rd(i[o],s[o]);if(0!==t)return t;const e=Ad(n[i[o]],r[s[o]]);if(0!==e)return e}return rd(i.length,s.length)}(t.mapValue,e.mapValue);default:throw Bh()}}function Nd(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return rd(t,e);const n=vd(t),i=vd(e),r=rd(n.seconds,i.seconds);return 0!==r?r:rd(n.nanos,i.nanos)}function Rd(t){return Dd(t)}function Dd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=vd(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?wd(t.bytesValue).toBase64():"referenceValue"in t?Id.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",n=!0;for(const i of t.values||[])n?n=!1:e+=",",e+=Dd(i);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",i=!0;for(const r of e)i?i=!1:n+=",",n+=`${r}:${Dd(t.fields[r])}`;return n+"}"}(t.mapValue):Bh();var e}function Ld(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fd(t){return!!t&&"integerValue"in t}function Ud(t){return!!t&&"arrayValue"in t}function qd(t){return!!t&&"nullValue"in t}function jd(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zd(t){return!!t&&"mapValue"in t}function Vd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ud(t.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Vd(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vd(t.arrayValue.values[n]);return e}return Object.assign({},t)}class Bd{constructor(t){this.value=t}static empty(){return new Bd({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!zd(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vd(e)}setAll(t){let e=gd.emptyPath(),n={},i=[];t.forEach((t,r)=>{if(!e.isImmediateParentOf(r)){const t=this.getFieldsMap(e);this.applyChanges(t,n,i),n={},i=[],e=r.popLast()}t?n[r.lastSegment()]=Vd(t):i.push(r.lastSegment())});const r=this.getFieldsMap(e);this.applyChanges(r,n,i)}delete(t){const e=this.field(t.popLast());zd(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ed(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=e.mapValue.fields[t.get(n)];zd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,n){ud(e,(e,n)=>t[e]=n);for(const i of n)delete t[i]}clone(){return new Bd(Vd(this.value))}}function Hd(t){const e=[];return ud(t.fields,(t,n)=>{const i=new gd([t]);if(zd(n)){const t=Hd(n.mapValue).fields;if(0===t.length)e.push(i);else for(const n of t)e.push(i.child(n))}else e.push(i)}),new md(e)}class $d{constructor(t,e,n,i,r){this.key=t,this.documentType=e,this.version=n,this.data=i,this.documentState=r}static newInvalidDocument(t){return new $d(t,0,ld.min(),Bd.empty(),0)}static newFoundDocument(t,e,n){return new $d(t,1,e,n,0)}static newNoDocument(t,e){return new $d(t,2,e,Bd.empty(),0)}static newUnknownDocument(t,e){return new $d(t,3,e,Bd.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Bd.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Bd.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof $d&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}clone(){return new $d(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gd{constructor(t,e=null,n=[],i=[],r=null,s=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.A=null}}function Zd(t,e=null,n=[],i=[],r=null,s=null,o=null){return new Gd(t,e,n,i,r,s,o)}function Wd(t){const e=$h(t);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(t=>function(t){return t.field.canonicalString()+t.op.toString()+Rd(t.value)}(t)).join(","),t+="|ob:",t+=e.orderBy.map(t=>function(t){return t.field.canonicalString()+t.dir}(t)).join(","),kd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=ap(e.startAt)),e.endAt&&(t+="|ub:",t+=ap(e.endAt)),e.A=t}return e.A}function Kd(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!cp(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if((n=t.filters[r]).op!==(i=e.filters[r]).op||!n.field.isEqual(i.field)||!Ed(n.value,i.value))return!1;var n,i;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hp(t.startAt,e.startAt)&&hp(t.endAt,e.endAt)}function Yd(t){return Id.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Qd extends class{}{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.R(t,e,n):new Jd(t,e,n):"array-contains"===e?new np(t,n):"in"===e?new ip(t,n):"not-in"===e?new rp(t,n):"array-contains-any"===e?new sp(t,n):new Qd(t,e,n)}static R(t,e,n){return"in"===e?new Xd(t,n):new tp(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.P(Ad(e,this.value)):null!==e&&Sd(this.value)===Sd(e)&&this.P(Ad(e,this.value))}P(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Bh()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Jd extends Qd{constructor(t,e,n){super(t,e,n),this.key=Id.fromName(n.referenceValue)}matches(t){const e=Id.comparator(t.key,this.key);return this.P(e)}}class Xd extends Qd{constructor(t,e){super(t,"in",e),this.keys=ep(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class tp extends Qd{constructor(t,e){super(t,"not-in",e),this.keys=ep(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function ep(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(t=>Id.fromName(t.referenceValue))}class np extends Qd{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ud(e)&&Md(e.arrayValue,this.value)}}class ip extends Qd{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Md(this.value.arrayValue,e)}}class rp extends Qd{constructor(t,e){super(t,"not-in",e)}matches(t){if(Md(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Md(this.value.arrayValue,e)}}class sp extends Qd{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ud(e)||!e.arrayValue.values)&&e.arrayValue.values.some(t=>Md(this.value.arrayValue,t))}}class op{constructor(t,e){this.position=t,this.before=e}}function ap(t){return`${t.before?"b":"a"}:${t.position.map(t=>Rd(t)).join(",")}`}class lp{constructor(t,e="asc"){this.field=t,this.dir=e}}function cp(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function up(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(i=s.field.isKeyField()?Id.comparator(Id.fromName(o.referenceValue),n.key):Ad(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return t.before?i<=0:i<0}function hp(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ed(t.position[n],e.position[n]))return!1;return!0}class dp{constructor(t,e=null,n=[],i=[],r=null,s="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.V=null,this.S=null}}function pp(t,e,n,i,r,s,o,a){return new dp(t,e,n,i,r,s,o,a)}function fp(t){return new dp(t)}function gp(t){return!kd(t.limit)&&"F"===t.limitType}function mp(t){return!kd(t.limit)&&"L"===t.limitType}function yp(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function _p(t){for(const e of t.filters)if(e.v())return e.field;return null}function vp(t){return null!==t.collectionGroup}function bp(t){const e=$h(t);if(null===e.V){e.V=[];const t=_p(e),n=yp(e);if(null!==t&&null===n)t.isKeyField()||e.V.push(new lp(t)),e.V.push(new lp(gd.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.V.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new lp(gd.keyField(),t))}}}return e.V}function wp(t){const e=$h(t);if(!e.S)if("F"===e.limitType)e.S=Zd(e.path,e.collectionGroup,bp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const r of bp(e))t.push(new lp(r.field,"desc"===r.dir?"asc":"desc"));const n=e.endAt?new op(e.endAt.position,!e.endAt.before):null,i=e.startAt?new op(e.startAt.position,!e.startAt.before):null;e.S=Zd(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}return e.S}function Cp(t,e,n){return new dp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xp(t,e){return Kd(wp(t),wp(e))&&t.limitType===e.limitType}function Pp(t){return`${Wd(wp(t))}|lt:${t.limitType}`}function kp(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(t=>{return`${(e=t).field.canonicalString()} ${e.op} ${Rd(e.value)}`;var e}).join(", ")}]`),kd(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t)).join(", ")}]`),t.startAt&&(e+=", startAt: "+ap(t.startAt)),t.endAt&&(e+=", endAt: "+ap(t.endAt)),`Target(${e})`}(wp(t))}; limitType=${t.limitType})`}function Op(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Id.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of t.explicitOrderBy)if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!up(t.startAt,bp(t),e)||t.endAt&&up(t.endAt,bp(t),e))}(t,e)}function Tp(t){return(e,n)=>{let i=!1;for(const r of bp(t)){const t=Ip(r,e,n);if(0!==t)return t;i=i||r.field.isKeyField()}return 0}}function Ip(t,e,n){const i=t.field.isKeyField()?Id.comparator(e.key,n.key):function(t,e,n){const i=e.data.field(t),r=n.data.field(t);return null!==i&&null!==r?Ad(i,r):Bh()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Bh()}}function Sp(t,e){if(t.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Od(e)?"-0":e}}function Ep(t){return{integerValue:""+t}}function Mp(t,e){return Td(e)?Ep(e):Sp(t,e)}class Ap{constructor(){this._=void 0}}function Np(t,e,n){return t instanceof Lp?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Fp?Up(t,e):t instanceof qp?jp(t,e):function(t,e){const n=Dp(t,e),i=Vp(n)+Vp(t.C);return Fd(n)&&Fd(t.C)?Ep(i):Sp(t.N,i)}(t,e)}function Rp(t,e,n){return t instanceof Fp?Up(t,e):t instanceof qp?jp(t,e):n}function Dp(t,e){return t instanceof zp?Fd(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}class Lp extends Ap{}class Fp extends Ap{constructor(t){super(),this.elements=t}}function Up(t,e){const n=Bp(e);for(const i of t.elements)n.some(t=>Ed(t,i))||n.push(i);return{arrayValue:{values:n}}}class qp extends Ap{constructor(t){super(),this.elements=t}}function jp(t,e){let n=Bp(e);for(const i of t.elements)n=n.filter(t=>!Ed(t,i));return{arrayValue:{values:n}}}class zp extends Ap{constructor(t,e){super(),this.N=t,this.C=e}}function Vp(t){return bd(t.integerValue||t.doubleValue)}function Bp(t){return Ud(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Hp{constructor(t,e){this.field=t,this.transform=e}}class $p{constructor(t,e){this.version=t,this.transformResults=e}}class Gp{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Gp}static exists(t){return new Gp(void 0,t)}static updateTime(t){return new Gp(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Zp(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Wp{}function Kp(t,e,n){t instanceof tf?function(t,e,n){const i=t.value.clone(),r=rf(t.fieldTransforms,e,n.transformResults);i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof ef?function(t,e,n){if(!Zp(t.precondition,e))return void e.convertToUnknownDocument(n.version);const i=rf(t.fieldTransforms,e,n.transformResults),r=e.data;r.setAll(nf(t)),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Yp(t,e,n){t instanceof tf?function(t,e,n){if(!Zp(t.precondition,e))return;const i=t.value.clone(),r=sf(t.fieldTransforms,n,e);i.setAll(r),e.convertToFoundDocument(Xp(e),i).setHasLocalMutations()}(t,e,n):t instanceof ef?function(t,e,n){if(!Zp(t.precondition,e))return;const i=sf(t.fieldTransforms,n,e),r=e.data;r.setAll(nf(t)),r.setAll(i),e.convertToFoundDocument(Xp(e),r).setHasLocalMutations()}(t,e,n):function(t,e){Zp(t.precondition,e)&&e.convertToNoDocument(ld.min())}(t,e)}function Qp(t,e){let n=null;for(const i of t.fieldTransforms){const t=e.data.field(i.field),r=Dp(i.transform,t||null);null!=r&&(null==n&&(n=Bd.empty()),n.set(i.field,r))}return n||null}function Jp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&sd(t,e,(t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Fp&&e instanceof Fp||t instanceof qp&&e instanceof qp?sd(t.elements,e.elements,Ed):t instanceof zp&&e instanceof zp?Ed(t.C,e.C):t instanceof Lp&&e instanceof Lp}(t.transform,e.transform)}(t,e))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Xp(t){return t.isFoundDocument()?t.version:ld.min()}class tf extends Wp{constructor(t,e,n,i=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=i,this.type=0}}class ef extends Wp{constructor(t,e,n,i,r=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}}function nf(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function rf(t,e,n){const i=new Map;Hh(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,Rp(o,a,n[r]))}return i}function sf(t,e,n){const i=new Map;for(const r of t){const t=r.transform,s=n.data.field(r.field);i.set(r.field,Np(t,s,e))}return i}class of extends Wp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class af extends Wp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class lf{constructor(t){this.count=t}}var cf,uf;function hf(t){switch(t){case Gh.OK:return Bh();case Gh.CANCELLED:case Gh.UNKNOWN:case Gh.DEADLINE_EXCEEDED:case Gh.RESOURCE_EXHAUSTED:case Gh.INTERNAL:case Gh.UNAVAILABLE:case Gh.UNAUTHENTICATED:return!1;case Gh.INVALID_ARGUMENT:case Gh.NOT_FOUND:case Gh.ALREADY_EXISTS:case Gh.PERMISSION_DENIED:case Gh.FAILED_PRECONDITION:case Gh.ABORTED:case Gh.OUT_OF_RANGE:case Gh.UNIMPLEMENTED:case Gh.DATA_LOSS:return!0;default:return Bh()}}function df(t){if(void 0===t)return jh("GRPC error has no .code"),Gh.UNKNOWN;switch(t){case cf.OK:return Gh.OK;case cf.CANCELLED:return Gh.CANCELLED;case cf.UNKNOWN:return Gh.UNKNOWN;case cf.DEADLINE_EXCEEDED:return Gh.DEADLINE_EXCEEDED;case cf.RESOURCE_EXHAUSTED:return Gh.RESOURCE_EXHAUSTED;case cf.INTERNAL:return Gh.INTERNAL;case cf.UNAVAILABLE:return Gh.UNAVAILABLE;case cf.UNAUTHENTICATED:return Gh.UNAUTHENTICATED;case cf.INVALID_ARGUMENT:return Gh.INVALID_ARGUMENT;case cf.NOT_FOUND:return Gh.NOT_FOUND;case cf.ALREADY_EXISTS:return Gh.ALREADY_EXISTS;case cf.PERMISSION_DENIED:return Gh.PERMISSION_DENIED;case cf.FAILED_PRECONDITION:return Gh.FAILED_PRECONDITION;case cf.ABORTED:return Gh.ABORTED;case cf.OUT_OF_RANGE:return Gh.OUT_OF_RANGE;case cf.UNIMPLEMENTED:return Gh.UNIMPLEMENTED;case cf.DATA_LOSS:return Gh.DATA_LOSS;default:return Bh()}}(uf=cf||(cf={}))[uf.OK=0]="OK",uf[uf.CANCELLED=1]="CANCELLED",uf[uf.UNKNOWN=2]="UNKNOWN",uf[uf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",uf[uf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",uf[uf.NOT_FOUND=5]="NOT_FOUND",uf[uf.ALREADY_EXISTS=6]="ALREADY_EXISTS",uf[uf.PERMISSION_DENIED=7]="PERMISSION_DENIED",uf[uf.UNAUTHENTICATED=16]="UNAUTHENTICATED",uf[uf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",uf[uf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",uf[uf.ABORTED=10]="ABORTED",uf[uf.OUT_OF_RANGE=11]="OUT_OF_RANGE",uf[uf.UNIMPLEMENTED=12]="UNIMPLEMENTED",uf[uf.INTERNAL=13]="INTERNAL",uf[uf.UNAVAILABLE=14]="UNAVAILABLE",uf[uf.DATA_LOSS=15]="DATA_LOSS";class pf{constructor(t,e){this.comparator=t,this.root=e||gf.EMPTY}insert(t,e){return new pf(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,gf.BLACK,null,null))}remove(t){return new pf(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gf.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ff(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ff(this.root,t,this.comparator,!1)}getReverseIterator(){return new ff(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ff(this.root,t,this.comparator,!0)}}class ff{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=e?n(t.key,e):1,i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class gf{constructor(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:gf.RED,this.left=null!=i?i:gf.EMPTY,this.right=null!=r?r:gf.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,r){return new gf(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const r=n(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gf.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return gf.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,gf.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,gf.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Bh();if(this.right.isRed())throw Bh();const t=this.left.check();if(t!==this.right.check())throw Bh();return t+(this.isRed()?0:1)}}gf.EMPTY=null,gf.RED=!0,gf.BLACK=!1,gf.EMPTY=new class{constructor(){this.size=0}get key(){throw Bh()}get value(){throw Bh()}get color(){throw Bh()}get left(){throw Bh()}get right(){throw Bh()}copy(t,e,n,i,r){return this}insert(t,e,n){return new gf(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mf{constructor(t){this.comparator=t,this.data=new pf(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new yf(this.data.getIterator())}getIteratorFrom(t){return new yf(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(t=>{e=e.add(t)}),e}isEqual(t){if(!(t instanceof mf))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(t,i))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new mf(this.comparator);return e.data=t,e}}class yf{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const _f=new pf(Id.comparator);function vf(){return _f}const bf=new pf(Id.comparator);function wf(){return bf}const Cf=new pf(Id.comparator);function xf(){return Cf}const Pf=new mf(Id.comparator);function kf(...t){let e=Pf;for(const n of t)e=e.add(n);return e}const Of=new mf(rd);function Tf(){return Of}class If{constructor(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,e){const n=new Map;return n.set(t,Sf.createSynthesizedTargetChangeForCurrentChange(t,e)),new If(ld.min(),n,Tf(),vf(),kf())}}class Sf{constructor(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Sf(yd.EMPTY_BYTE_STRING,e,kf(),kf(),kf())}}class Ef{constructor(t,e,n,i){this.k=t,this.removedTargetIds=e,this.key=n,this.$=i}}class Mf{constructor(t,e){this.targetId=t,this.O=e}}class Af{constructor(t,e,n=yd.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}class Nf{constructor(){this.F=0,this.M=Lf(),this.L=yd.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(t){t.approximateByteSize()>0&&(this.U=!0,this.L=t)}W(){let t=kf(),e=kf(),n=kf();return this.M.forEach((i,r)=>{switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:Bh()}}),new Sf(this.L,this.B,t,e,n)}G(){this.U=!1,this.M=Lf()}H(t,e){this.U=!0,this.M=this.M.insert(t,e)}J(t){this.U=!0,this.M=this.M.remove(t)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Rf{constructor(t){this.tt=t,this.et=new Map,this.nt=vf(),this.st=Df(),this.it=new mf(rd)}rt(t){for(const e of t.k)t.$&&t.$.isFoundDocument()?this.ot(e,t.$):this.at(e,t.key,t.$);for(const e of t.removedTargetIds)this.at(e,t.key,t.$)}ct(t){this.forEachTarget(t,e=>{const n=this.ut(e);switch(t.state){case 0:this.ht(e)&&n.j(t.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(t.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(e);break;case 3:this.ht(e)&&(n.Z(),n.j(t.resumeToken));break;case 4:this.ht(e)&&(this.lt(e),n.j(t.resumeToken));break;default:Bh()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.et.forEach((t,n)=>{this.ht(n)&&e(n)})}ft(t){const e=t.targetId,n=t.O.count,i=this.dt(e);if(i){const t=i.target;if(Yd(t))if(0===n){const n=new Id(t.path);this.at(e,n,$d.newNoDocument(n,ld.min()))}else Hh(1===n);else this.wt(e)!==n&&(this.lt(e),this.it=this.it.add(e))}}_t(t){const e=new Map;this.et.forEach((n,i)=>{const r=this.dt(i);if(r){if(n.current&&Yd(r.target)){const e=new Id(r.target.path);null!==this.nt.get(e)||this.gt(i,e)||this.at(i,e,$d.newNoDocument(e,t))}n.K&&(e.set(i,n.W()),n.G())}});let n=kf();this.st.forEach((t,e)=>{let i=!0;e.forEachWhile(t=>{const e=this.dt(t);return!e||2===e.purpose||(i=!1,!1)}),i&&(n=n.add(t))});const i=new If(t,e,this.it,this.nt,n);return this.nt=vf(),this.st=Df(),this.it=new mf(rd),i}ot(t,e){if(!this.ht(t))return;const n=this.gt(t,e.key)?2:0;this.ut(t).H(e.key,n),this.nt=this.nt.insert(e.key,e),this.st=this.st.insert(e.key,this.yt(e.key).add(t))}at(t,e,n){if(!this.ht(t))return;const i=this.ut(t);this.gt(t,e)?i.H(e,1):i.J(e),this.st=this.st.insert(e,this.yt(e).delete(t)),n&&(this.nt=this.nt.insert(e,n))}removeTarget(t){this.et.delete(t)}wt(t){const e=this.ut(t).W();return this.tt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Y(t){this.ut(t).Y()}ut(t){let e=this.et.get(t);return e||(e=new Nf,this.et.set(t,e)),e}yt(t){let e=this.st.get(t);return e||(e=new mf(rd),this.st=this.st.insert(t,e)),e}ht(t){const e=null!==this.dt(t);return e||qh("WatchChangeAggregator","Detected inactive target",t),e}dt(t){const e=this.et.get(t);return e&&e.q?null:this.tt.Et(t)}lt(t){this.et.set(t,new Nf),this.tt.getRemoteKeysForTarget(t).forEach(e=>{this.at(t,e,null)})}gt(t,e){return this.tt.getRemoteKeysForTarget(t).has(e)}}function Df(){return new pf(Id.comparator)}function Lf(){return new pf(Id.comparator)}const Ff={asc:"ASCENDING",desc:"DESCENDING"},Uf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class qf{constructor(t,e){this.databaseId=t,this.D=e}}function jf(t,e){return t.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zf(t,e){return t.D?e.toBase64():e.toUint8Array()}function Vf(t,e){return jf(t,e.toTimestamp())}function Bf(t){return Hh(!!t),ld.fromTimestamp(function(t){const e=vd(t);return new ad(e.seconds,e.nanos)}(t))}function Hf(t,e){return function(t){return new pd(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function $f(t){const e=pd.fromString(t);return Hh(gg(e)),e}function Gf(t,e){return Hf(t.databaseId,e.path)}function Zf(t,e){const n=$f(e);if(n.get(1)!==t.databaseId.projectId)throw new Zh(Gh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Zh(Gh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Id(Qf(n))}function Wf(t,e){return Hf(t.databaseId,e)}function Kf(t){const e=$f(t);return 4===e.length?pd.emptyPath():Qf(e)}function Yf(t){return new pd(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Qf(t){return Hh(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Jf(t,e,n){return{name:Gf(t,e),fields:n.value.mapValue.fields}}function Xf(t,e,n){const i=Zf(t,e.name),r=Bf(e.updateTime),s=new Bd({mapValue:{fields:e.fields}}),o=$d.newFoundDocument(i,r,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function tg(t,e){let n;if(e instanceof tf)n={update:Jf(t,e.key,e.value)};else if(e instanceof of)n={delete:Gf(t,e.key)};else if(e instanceof ef)n={update:Jf(t,e.key,e.data),updateMask:fg(e.fieldMask)};else{if(!(e instanceof af))return Bh();n={verify:Gf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(t=>function(t,e){const n=e.transform;if(n instanceof Lp)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Fp)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof qp)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof zp)return{fieldPath:e.field.canonicalString(),increment:n.C};throw Bh()}(0,t))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Vf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Bh()}(t,e.precondition)),n}function eg(t,e){const n=e.currentDocument?function(t){return void 0!==t.updateTime?Gp.updateTime(Bf(t.updateTime)):void 0!==t.exists?Gp.exists(t.exists):Gp.none()}(e.currentDocument):Gp.none(),i=e.updateTransforms?e.updateTransforms.map(e=>function(t,e){let n=null;"setToServerValue"in e?(Hh("REQUEST_TIME"===e.setToServerValue),n=new Lp):"appendMissingElements"in e?n=new Fp(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new qp(e.removeAllFromArray.values||[]):"increment"in e?n=new zp(t,e.increment):Bh();const i=gd.fromServerFormat(e.fieldPath);return new Hp(i,n)}(t,e)):[];if(e.update){const r=Zf(t,e.update.name),s=new Bd({mapValue:{fields:e.update.fields}});if(e.updateMask){const t=function(t){return new md((t.fieldPaths||[]).map(t=>gd.fromServerFormat(t)))}(e.updateMask);return new ef(r,s,t,n,i)}return new tf(r,s,n,i)}if(e.delete){const i=Zf(t,e.delete);return new of(i,n)}if(e.verify){const i=Zf(t,e.verify);return new af(i,n)}return Bh()}function ng(t,e){return{documents:[Wf(t,e.path)]}}function ig(t,e){const n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=Wf(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Wf(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(t){if(0===t.length)return;const e=t.map(t=>function(t){if("=="===t.op){if(jd(t.value))return{unaryFilter:{field:ug(t.field),op:"IS_NAN"}};if(qd(t.value))return{unaryFilter:{field:ug(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(jd(t.value))return{unaryFilter:{field:ug(t.field),op:"IS_NOT_NAN"}};if(qd(t.value))return{unaryFilter:{field:ug(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ug(t.field),op:cg(t.op),value:t.value}}}(t));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(e.filters);r&&(n.structuredQuery.where=r);const s=function(t){if(0!==t.length)return t.map(t=>function(t){return{field:ug(t.field),direction:lg(t.dir)}}(t))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(t,e){return t.D||kd(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=og(e.startAt)),e.endAt&&(n.structuredQuery.endAt=og(e.endAt)),n}function rg(t){let e=Kf(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Hh(1===i);const t=n.from[0];t.allDescendants?r=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=sg(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(t=>function(t){return new lp(hg(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,kd(e)?null:e}(n.limit));let l=null;n.startAt&&(l=ag(n.startAt));let c=null;return n.endAt&&(c=ag(n.endAt)),pp(e,r,o,s,a,"F",l,c)}function sg(t){return t?void 0!==t.unaryFilter?[pg(t)]:void 0!==t.fieldFilter?[dg(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(t=>sg(t)).reduce((t,e)=>t.concat(e)):Bh():[]}function og(t){return{before:t.before,values:t.position}}function ag(t){return new op(t.values||[],!!t.before)}function lg(t){return Ff[t]}function cg(t){return Uf[t]}function ug(t){return{fieldPath:t.canonicalString()}}function hg(t){return gd.fromServerFormat(t.fieldPath)}function dg(t){return Qd.create(hg(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Bh()}}(t.fieldFilter.op),t.fieldFilter.value)}function pg(t){switch(t.unaryFilter.op){case"IS_NAN":const e=hg(t.unaryFilter.field);return Qd.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=hg(t.unaryFilter.field);return Qd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=hg(t.unaryFilter.field);return Qd.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=hg(t.unaryFilter.field);return Qd.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Bh()}}function fg(t){const e=[];return t.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function gg(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function mg(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_g(e)),e=yg(t.get(n),e);return _g(e)}function yg(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const e=t.charAt(r);switch(e){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=e}}return n}function _g(t){return t+"\x01\x01"}function vg(t){const e=t.length;if(Hh(e>=2),2===e)return Hh("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),pd.emptyPath();const n=e-2,i=[];let r="";for(let s=0;s<e;){const e=t.indexOf("\x01",s);switch((e<0||e>n)&&Bh(),t.charAt(e+1)){case"\x01":const n=t.substring(s,e);let o;0===r.length?o=n:(r+=n,o=r,r=""),i.push(o);break;case"\x10":r+=t.substring(s,e),r+="\0";break;case"\x11":r+=t.substring(s,e+1);break;default:Bh()}s=e+2}return new pd(i)}class bg{constructor(t,e){this.seconds=t,this.nanoseconds=e}}let wg=(()=>{class t{constructor(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}}return t.store="owner",t.key="owner",t})(),Cg=(()=>{class t{constructor(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}}return t.store="mutationQueues",t.keyPath="userId",t})();class xg{constructor(t,e,n,i,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r}}xg.store="mutations",xg.keyPath="batchId",xg.userMutationsIndex="userMutationsIndex",xg.userMutationsKeyPath=["userId","batchId"];let Pg=(()=>{class t{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,mg(e)]}static key(t,e,n){return[t,mg(e),n]}}return t.store="documentMutations",t.PLACEHOLDER=new t,t})();class kg{constructor(t,e){this.path=t,this.readTime=e}}class Og{constructor(t,e){this.path=t,this.version=e}}class Tg{constructor(t,e,n,i,r,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=s}}Tg.store="remoteDocuments",Tg.readTimeIndex="readTimeIndex",Tg.readTimeIndexPath="readTime",Tg.collectionReadTimeIndex="collectionReadTimeIndex",Tg.collectionReadTimeIndexPath=["parentPath","readTime"];let Ig=(()=>{class t{constructor(t){this.byteSize=t}}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t})();class Sg{constructor(t,e,n,i,r,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=s,this.query=o}}Sg.store="targets",Sg.keyPath="targetId",Sg.queryTargetsIndexName="queryTargetsIndex",Sg.queryTargetsKeyPath=["canonicalId","targetId"];class Eg{constructor(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n}}Eg.store="targetDocuments",Eg.keyPath=["targetId","path"],Eg.documentTargetsIndex="documentTargetsIndex",Eg.documentTargetsKeyPath=["path","targetId"];let Mg=(()=>{class t{constructor(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i}}return t.key="targetGlobalKey",t.store="targetGlobal",t})(),Ag=(()=>{class t{constructor(t,e){this.collectionId=t,this.parent=e}}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t})(),Ng=(()=>{class t{constructor(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i}}return t.store="clientMetadata",t.keyPath="clientId",t})(),Rg=(()=>{class t{constructor(t,e,n){this.bundleId=t,this.createTime=e,this.version=n}}return t.store="bundles",t.keyPath="bundleId",t})(),Dg=(()=>{class t{constructor(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n}}return t.store="namedQueries",t.keyPath="name",t})();const Lg=[Cg.store,xg.store,Pg.store,Tg.store,Sg.store,wg.store,Mg.store,Eg.store,Ng.store,Ig.store,Ag.store,Rg.store,Dg.store],Fg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ug{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class qg{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Bh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new qg((n,i)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,i)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof qg?e:qg.resolve(e)}catch(t){return qg.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):qg.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):qg.reject(e)}static resolve(t){return new qg((e,n)=>{e(t)})}static reject(t){return new qg((e,n)=>{n(t)})}static waitFor(t){return new qg((e,n)=>{let i=0,r=0,s=!1;t.forEach(t=>{++i,t.next(()=>{++r,s&&r===i&&e()},t=>n(t))}),s=!0,r===i&&e()})}static or(t){let e=qg.resolve(!1);for(const n of t)e=e.next(t=>t?qg.resolve(t):n());return e}static forEach(t,e){const n=[];return t.forEach((t,i)=>{n.push(e.call(this,t,i))}),this.waitFor(n)}}class jg{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.Tt=new Wh,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{e.error?this.Tt.reject(new Bg(t,e.error)):this.Tt.resolve()},this.transaction.onerror=e=>{const n=Wg(e.target.error);this.Tt.reject(new Bg(t,n))}}static open(t,e,n,i){try{return new jg(e,t.transaction(i,n))}catch(t){throw new Bg(e,t)}}get It(){return this.Tt.promise}abort(t){t&&this.Tt.reject(t),this.aborted||(qh("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new $g(e)}}class zg{constructor(t,e,n){this.name=t,this.version=e,this.At=n,12.2===zg.Rt((0,Ia.z$)())&&jh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return qh("SimpleDb","Removing database:",t),Gg(window.indexedDB.deleteDatabase(t)).toPromise()}static bt(){if(!(0,Ia.hl)())return!1;if(zg.Pt())return!0;const t=(0,Ia.z$)(),e=zg.Rt(t),n=0<e&&e<10,i=zg.vt(t),r=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||r)}static Pt(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Vt)}static St(t,e){return t.store(e)}static Rt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}Dt(t){var e=this;return(0,Pa.Z)(function*(){return e.db||(qh("SimpleDb","Opening database:",e.name),e.db=yield new Promise((n,i)=>{const r=indexedDB.open(e.name,e.version);r.onsuccess=t=>{n(t.target.result)},r.onblocked=()=>{i(new Bg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=e=>{const n=e.target.error;i("VersionError"===n.name?new Zh(Gh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===n.name?new Zh(Gh.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n):new Bg(t,n))},r.onupgradeneeded=t=>{qh("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',t.oldVersion),e.At.Ct(t.target.result,r.transaction,t.oldVersion,e.version).next(()=>{qh("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Nt&&(e.db.onversionchange=t=>e.Nt(t)),e.db})()}xt(t){this.Nt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,n,i){var r=this;return(0,Pa.Z)(function*(){const s="readonly"===e;let o=0;for(;;){++o;try{r.db=yield r.Dt(t);const e=jg.open(r.db,t,s?"readonly":"readwrite",n),o=i(e).catch(t=>(e.abort(t),qg.reject(t))).toPromise();return o.catch(()=>{}),yield e.It,o}catch(t){const n="FirebaseError"!==t.name&&o<3;if(qh("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),r.close(),!n)return Promise.reject(t)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Vg{constructor(t){this.kt=t,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(t){this.kt=t}done(){this.$t=!0}Mt(t){this.Ot=t}delete(){return Gg(this.kt.delete())}}class Bg extends Zh{constructor(t,e){super(Gh.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Hg(t){return"IndexedDbTransactionError"===t.name}class $g{constructor(t){this.store=t}put(t,e){let n;return void 0!==e?(qh("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(qh("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Gg(n)}add(t){return qh("SimpleDb","ADD",this.store.name,t,t),Gg(this.store.add(t))}get(t){return Gg(this.store.get(t)).next(e=>(void 0===e&&(e=null),qh("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return qh("SimpleDb","DELETE",this.store.name,t),Gg(this.store.delete(t))}count(){return qh("SimpleDb","COUNT",this.store.name),Gg(this.store.count())}Lt(t,e){const n=this.cursor(this.options(t,e)),i=[];return this.Bt(n,(t,e)=>{i.push(e)}).next(()=>i)}Ut(t,e){qh("SimpleDb","DELETE ALL",this.store.name);const n=this.options(t,e);n.qt=!1;const i=this.cursor(n);return this.Bt(i,(t,e,n)=>n.delete())}Kt(t,e){let n;e?n=t:(n={},e=t);const i=this.cursor(n);return this.Bt(i,e)}jt(t){const e=this.cursor({});return new qg((n,i)=>{e.onerror=t=>{const e=Wg(t.target.error);i(e)},e.onsuccess=e=>{const i=e.target.result;i?t(i.primaryKey,i.value).next(t=>{t?i.continue():n()}):n()}})}Bt(t,e){const n=[];return new qg((i,r)=>{t.onerror=t=>{r(t.target.error)},t.onsuccess=t=>{const r=t.target.result;if(!r)return void i();const s=new Vg(r),o=e(r.primaryKey,r.value,s);if(o instanceof qg){const t=o.catch(t=>(s.done(),qg.reject(t)));n.push(t)}s.isDone?i():null===s.Ft?r.continue():r.continue(s.Ft)}}).next(()=>qg.waitFor(n))}options(t,e){let n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const n=this.store.index(t.index);return t.qt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Gg(t){return new qg((e,n)=>{t.onsuccess=t=>{e(t.target.result)},t.onerror=t=>{const e=Wg(t.target.error);n(e)}})}let Zg=!1;function Wg(t){const e=zg.Rt((0,Ia.z$)());if(e>=12.2&&e<13){const e="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(e)>=0){const t=new Zh("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Zg||(Zg=!0,setTimeout(()=>{throw t},0)),t}}return t}class Kg extends Ug{constructor(t,e){super(),this.Qt=t,this.currentSequenceNumber=e}}function Yg(t,e){const n=$h(t);return zg.St(n.Qt,e)}class Qg{constructor(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const e=this.mutations[i];e.key.isEqual(t.key)&&Kp(e,t,n[i])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&Yp(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&Yp(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const n=t.get(e.key),i=n;this.applyToLocalView(i),n.isValidDocument()||i.convertToNoDocument(ld.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),kf())}isEqual(t){return this.batchId===t.batchId&&sd(this.mutations,t.mutations,(t,e)=>Jp(t,e))&&sd(this.baseMutations,t.baseMutations,(t,e)=>Jp(t,e))}}class Jg{constructor(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}static from(t,e,n){Hh(t.mutations.length===n.length);let i=xf();const r=t.mutations;for(let s=0;s<r.length;s++)i=i.insert(r[s].key,n[s].version);return new Jg(t,e,n,i)}}class Xg{constructor(t,e,n,i,r=ld.min(),s=ld.min(),o=yd.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(t){return new Xg(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Xg(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Xg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class tm{constructor(t){this.Wt=t}}function em(t,e){if(e.document)return Xf(t.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=Id.fromSegments(e.noDocument.path),n=om(e.noDocument.readTime),i=$d.newNoDocument(t,n);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){const t=Id.fromSegments(e.unknownDocument.path),n=om(e.unknownDocument.version);return $d.newUnknownDocument(t,n)}return Bh()}function nm(t,e,n){const i=im(n),r=e.key.path.popLast().toArray();if(e.isFoundDocument()){const n=function(t,e){return{name:Gf(t,e.key),fields:e.data.value.mapValue.fields,updateTime:jf(t,e.version.toTimestamp())}}(t.Wt,e);return new Tg(null,null,n,e.hasCommittedMutations,i,r)}if(e.isNoDocument()){const t=e.key.path.toArray(),n=sm(e.version),s=e.hasCommittedMutations;return new Tg(null,new kg(t,n),null,s,i,r)}if(e.isUnknownDocument()){const t=e.key.path.toArray(),n=sm(e.version);return new Tg(new Og(t,n),null,null,!0,i,r)}return Bh()}function im(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function rm(t){const e=new ad(t[0],t[1]);return ld.fromTimestamp(e)}function sm(t){const e=t.toTimestamp();return new bg(e.seconds,e.nanoseconds)}function om(t){const e=new ad(t.seconds,t.nanoseconds);return ld.fromTimestamp(e)}function am(t,e){const n=(e.baseMutations||[]).map(e=>eg(t.Wt,e));for(let s=0;s<e.mutations.length-1;++s){const t=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(t.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(e=>eg(t.Wt,e)),r=ad.fromMillis(e.localWriteTimeMs);return new Qg(e.batchId,r,n,i)}function lm(t){const e=om(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?om(t.lastLimboFreeSnapshotVersion):ld.min();let i;var r;return void 0!==t.query.documents?(Hh(1===(r=t.query).documents.length),i=wp(fp(Kf(r.documents[0])))):i=function(t){return wp(rg(t))}(t.query),new Xg(i,t.targetId,0,t.lastListenSequenceNumber,e,n,yd.fromBase64String(t.resumeToken))}function cm(t,e){const n=sm(e.snapshotVersion),i=sm(e.lastLimboFreeSnapshotVersion);let r;r=Yd(e.target)?ng(t.Wt,e.target):ig(t.Wt,e.target);const s=e.resumeToken.toBase64();return new Sg(e.targetId,Wd(e.target),n,s,e.sequenceNumber,i,r)}function um(t){const e=rg({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Cp(e,e.limit,"L"):e}class hm{getBundleMetadata(t,e){return dm(t).get(e).next(t=>{if(t)return{id:(e=t).bundleId,createTime:om(e.createTime),version:e.version};var e})}saveBundleMetadata(t,e){return dm(t).put({bundleId:(n=e).id,createTime:sm(Bf(n.createTime)),version:n.version});var n}getNamedQuery(t,e){return pm(t).get(e).next(t=>{if(t)return{name:(e=t).name,query:um(e.bundledQuery),readTime:om(e.readTime)};var e})}saveNamedQuery(t,e){return pm(t).put(function(t){return{name:t.name,readTime:sm(Bf(t.readTime)),bundledQuery:t.bundledQuery}}(e))}}function dm(t){return Yg(t,Rg.store)}function pm(t){return Yg(t,Dg.store)}class fm{constructor(){this.Gt=new gm}addToCollectionParentIndex(t,e){return this.Gt.add(e),qg.resolve()}getCollectionParents(t,e){return qg.resolve(this.Gt.getEntries(e))}}class gm{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new mf(pd.comparator),r=!i.has(n);return this.index[e]=i.add(n),r}has(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}getEntries(t){return(this.index[t]||new mf(pd.comparator)).toArray()}}class mm{constructor(){this.zt=new gm}addToCollectionParentIndex(t,e){if(!this.zt.has(e)){const n=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(()=>{this.zt.add(e)});const r={collectionId:n,parent:mg(i)};return ym(t).put(r)}return qg.resolve()}getCollectionParents(t,e){const n=[],i=IDBKeyRange.bound([e,""],[od(e),""],!1,!0);return ym(t).Lt(i).next(t=>{for(const i of t){if(i.collectionId!==e)break;n.push(vg(i.parent))}return n})}}function ym(t){return Yg(t,Ag.store)}const _m={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vm{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new vm(t,vm.DEFAULT_COLLECTION_PERCENTILE,vm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bm(t,e,n){const i=t.store(xg.store),r=t.store(Pg.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=i.Kt({range:o},(t,e,n)=>(a++,n.delete()));s.push(l.next(()=>{Hh(1===a)}));const c=[];for(const u of n.mutations){const t=Pg.key(e,u.key.path,n.batchId);s.push(r.delete(t)),c.push(u.key)}return qg.waitFor(s).next(()=>c)}function wm(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Bh();e=t.noDocument}return JSON.stringify(e).length}vm.DEFAULT_COLLECTION_PERCENTILE=10,vm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vm.DEFAULT=new vm(41943040,vm.DEFAULT_COLLECTION_PERCENTILE,vm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vm.DISABLED=new vm(-1,0,0);class Cm{constructor(t,e,n,i){this.userId=t,this.N=e,this.Ht=n,this.referenceDelegate=i,this.Jt={}}static Yt(t,e,n,i){Hh(""!==t.uid);const r=t.isAuthenticated()?t.uid:"";return new Cm(r,e,n,i)}checkEmpty(t){let e=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pm(t).Kt({index:xg.userMutationsIndex,range:n},(t,n,i)=>{e=!1,i.done()}).next(()=>e)}addMutationBatch(t,e,n,i){const r=km(t),s=Pm(t);return s.add({}).next(o=>{Hh("number"==typeof o);const a=new Qg(o,e,n,i),l=function(t,e,n){const i=n.baseMutations.map(e=>tg(t.Wt,e)),r=n.mutations.map(e=>tg(t.Wt,e));return new xg(e,n.batchId,n.localWriteTime.toMillis(),i,r)}(this.N,this.userId,a),c=[];let u=new mf((t,e)=>rd(t.canonicalString(),e.canonicalString()));for(const t of i){const e=Pg.key(this.userId,t.key.path,o);u=u.add(t.key.path.popLast()),c.push(s.put(l)),c.push(r.put(e,Pg.PLACEHOLDER))}return u.forEach(e=>{c.push(this.Ht.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(()=>{this.Jt[o]=a.keys()}),qg.waitFor(c).next(()=>a)})}lookupMutationBatch(t,e){return Pm(t).get(e).next(t=>t?(Hh(t.userId===this.userId),am(this.N,t)):null)}Xt(t,e){return this.Jt[e]?qg.resolve(this.Jt[e]):this.lookupMutationBatch(t,e).next(t=>{if(t){const n=t.keys();return this.Jt[e]=n,n}return null})}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=IDBKeyRange.lowerBound([this.userId,n]);let r=null;return Pm(t).Kt({index:xg.userMutationsIndex,range:i},(t,e,i)=>{e.userId===this.userId&&(Hh(e.batchId>=n),r=am(this.N,e)),i.done()}).next(()=>r)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Pm(t).Kt({index:xg.userMutationsIndex,range:e,reverse:!0},(t,e,i)=>{n=e.batchId,i.done()}).next(()=>n)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pm(t).Lt(xg.userMutationsIndex,e).next(t=>t.map(t=>am(this.N,t)))}getAllMutationBatchesAffectingDocumentKey(t,e){const n=Pg.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(n),r=[];return km(t).Kt({range:i},(n,i,s)=>{const[o,a,l]=n,c=vg(a);if(o===this.userId&&e.path.isEqual(c))return Pm(t).get(l).next(t=>{if(!t)throw Bh();Hh(t.userId===this.userId),r.push(am(this.N,t))});s.done()}).next(()=>r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new mf(rd);const i=[];return e.forEach(e=>{const r=Pg.prefixForPath(this.userId,e.path),s=IDBKeyRange.lowerBound(r),o=km(t).Kt({range:s},(t,i,r)=>{const[s,o,a]=t,l=vg(o);s===this.userId&&e.path.isEqual(l)?n=n.add(a):r.done()});i.push(o)}),qg.waitFor(i).next(()=>this.Zt(t,n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1,r=Pg.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(r);let o=new mf(rd);return km(t).Kt({range:s},(t,e,r)=>{const[s,a,l]=t,c=vg(a);s===this.userId&&n.isPrefixOf(c)?c.length===i&&(o=o.add(l)):r.done()}).next(()=>this.Zt(t,o))}Zt(t,e){const n=[],i=[];return e.forEach(e=>{i.push(Pm(t).get(e).next(t=>{if(null===t)throw Bh();Hh(t.userId===this.userId),n.push(am(this.N,t))}))}),qg.waitFor(i).next(()=>n)}removeMutationBatch(t,e){return bm(t.Qt,this.userId,e).next(n=>(t.addOnCommittedListener(()=>{this.te(e.batchId)}),qg.forEach(n,e=>this.referenceDelegate.markPotentiallyOrphaned(t,e))))}te(t){delete this.Jt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return qg.resolve();const n=IDBKeyRange.lowerBound(Pg.prefixForUser(this.userId)),i=[];return km(t).Kt({range:n},(t,e,n)=>{if(t[0]===this.userId){const e=vg(t[1]);i.push(e)}else n.done()}).next(()=>{Hh(0===i.length)})})}containsKey(t,e){return xm(t,this.userId,e)}ee(t){return Om(t).get(this.userId).next(t=>t||new Cg(this.userId,-1,""))}}function xm(t,e,n){const i=Pg.prefixForPath(e,n.path),r=i[1],s=IDBKeyRange.lowerBound(i);let o=!1;return km(t).Kt({range:s,qt:!0},(t,n,i)=>{const[s,a,l]=t;s===e&&a===r&&(o=!0),i.done()}).next(()=>o)}function Pm(t){return Yg(t,xg.store)}function km(t){return Yg(t,Pg.store)}function Om(t){return Yg(t,Cg.store)}class Tm{constructor(t){this.ne=t}next(){return this.ne+=2,this.ne}static se(){return new Tm(0)}static ie(){return new Tm(-1)}}class Im{constructor(t,e){this.referenceDelegate=t,this.N=e}allocateTargetId(t){return this.re(t).next(e=>{const n=new Tm(e.highestTargetId);return e.highestTargetId=n.next(),this.oe(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.re(t).next(t=>ld.fromTimestamp(new ad(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.re(t).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(t,e,n){return this.re(t).next(i=>(i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),this.oe(t,i)))}addTargetData(t,e){return this.ae(t,e).next(()=>this.re(t).next(n=>(n.targetCount+=1,this.ce(e,n),this.oe(t,n))))}updateTargetData(t,e){return this.ae(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Sm(t).delete(e.targetId)).next(()=>this.re(t)).next(e=>(Hh(e.targetCount>0),e.targetCount-=1,this.oe(t,e)))}removeTargets(t,e,n){let i=0;const r=[];return Sm(t).Kt((s,o)=>{const a=lm(o);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,r.push(this.removeTargetData(t,a)))}).next(()=>qg.waitFor(r)).next(()=>i)}forEachTarget(t,e){return Sm(t).Kt((t,n)=>{const i=lm(n);e(i)})}re(t){return Em(t).get(Mg.key).next(t=>(Hh(null!==t),t))}oe(t,e){return Em(t).put(Mg.key,e)}ae(t,e){return Sm(t).put(cm(this.N,e))}ce(t,e){let n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n}getTargetCount(t){return this.re(t).next(t=>t.targetCount)}getTargetData(t,e){const n=Wd(e),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let r=null;return Sm(t).Kt({range:i,index:Sg.queryTargetsIndexName},(t,n,i)=>{const s=lm(n);Kd(e,s.target)&&(r=s,i.done())}).next(()=>r)}addMatchingKeys(t,e,n){const i=[],r=Mm(t);return e.forEach(e=>{const s=mg(e.path);i.push(r.put(new Eg(n,s))),i.push(this.referenceDelegate.addReference(t,n,e))}),qg.waitFor(i)}removeMatchingKeys(t,e,n){const i=Mm(t);return qg.forEach(e,e=>{const r=mg(e.path);return qg.waitFor([i.delete([n,r]),this.referenceDelegate.removeReference(t,n,e)])})}removeMatchingKeysForTargetId(t,e){const n=Mm(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(t,e){const n=IDBKeyRange.bound([e],[e+1],!1,!0),i=Mm(t);let r=kf();return i.Kt({range:n,qt:!0},(t,e,n)=>{const i=vg(t[1]),s=new Id(i);r=r.add(s)}).next(()=>r)}containsKey(t,e){const n=mg(e.path),i=IDBKeyRange.bound([n],[od(n)],!1,!0);let r=0;return Mm(t).Kt({index:Eg.documentTargetsIndex,qt:!0,range:i},([t,e],n,i)=>{0!==t&&(r++,i.done())}).next(()=>r>0)}Et(t,e){return Sm(t).get(e).next(t=>t?lm(t):null)}}function Sm(t){return Yg(t,Sg.store)}function Em(t){return Yg(t,Mg.store)}function Mm(t){return Yg(t,Eg.store)}function Am(t){return Nm.apply(this,arguments)}function Nm(){return(Nm=(0,Pa.Z)(function*(t){if(t.code!==Gh.FAILED_PRECONDITION||t.message!==Fg)throw t;qh("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function Rm([t,e],[n,i]){const r=rd(t,n);return 0===r?rd(e,i):r}class Dm{constructor(t){this.ue=t,this.buffer=new mf(Rm),this.he=0}le(){return++this.he}fe(t){const e=[t,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();Rm(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Lm{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.de=!1,this.we=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(t)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(t){var e=this;const n=this.de?3e5:6e4;qh("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,Pa.Z)(function*(){e.we=null,e.de=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(t){Hg(t)?qh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):yield Am(t)}yield e._e(t)}))}}class Fm{constructor(t,e){this.me=t,this.params=e}calculateTargetCount(t,e){return this.me.ge(t).next(t=>Math.floor(e/100*t))}nthSequenceNumber(t,e){if(0===e)return qg.resolve(ed.T);const n=new Dm(e);return this.me.forEachTarget(t,t=>n.fe(t.sequenceNumber)).next(()=>this.me.ye(t,t=>n.fe(t))).next(()=>n.maxValue)}removeTargets(t,e,n){return this.me.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.me.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(qh("LruGarbageCollector","Garbage collection skipped; disabled"),qg.resolve(_m)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(qh("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_m):this.pe(t,e))}getCacheSize(t){return this.me.getCacheSize(t)}pe(t,e){let n,i,r,s,o,a,l;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(e=>(e>this.params.maximumSequenceNumbersToCollect?(qh("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`),i=this.params.maximumSequenceNumbersToCollect):i=e,s=Date.now(),this.nthSequenceNumber(t,i))).next(i=>(n=i,o=Date.now(),this.removeTargets(t,n,e))).next(e=>(r=e,a=Date.now(),this.removeOrphanedDocuments(t,n))).next(t=>(l=Date.now(),Uh()<=Ta.in.DEBUG&&qh("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${i} in `+(o-s)+"ms\n"+`\tRemoved ${r} targets in `+(a-o)+"ms\n"+`\tRemoved ${t} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),qg.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:t})))}}class Um{constructor(t,e){this.db=t,this.garbageCollector=function(t,e){return new Fm(t,e)}(this,e)}ge(t){const e=this.Ee(t);return this.db.getTargetCache().getTargetCount(t).next(t=>e.next(e=>t+e))}Ee(t){let e=0;return this.ye(t,t=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}ye(t,e){return this.Te(t,(t,n)=>e(n))}addReference(t,e,n){return qm(t,n)}removeReference(t,e,n){return qm(t,n)}removeTargets(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)}markPotentiallyOrphaned(t,e){return qm(t,e)}Ie(t,e){return function(t,e){let n=!1;return Om(t).jt(i=>xm(t,i,e).next(t=>(t&&(n=!0),qg.resolve(!t)))).next(()=>n)}(t,e)}removeOrphanedDocuments(t,e){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let r=0;return this.Te(t,(s,o)=>{if(o<=e){const e=this.Ie(t,s).next(e=>{if(!e)return r++,n.getEntry(t,s).next(()=>(n.removeEntry(s),Mm(t).delete([0,mg(s.path)])))});i.push(e)}}).next(()=>qg.waitFor(i)).next(()=>n.apply(t)).next(()=>r)}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)}updateLimboDocument(t,e){return qm(t,e)}Te(t,e){const n=Mm(t);let i,r=ed.T;return n.Kt({index:Eg.documentTargetsIndex},([t,n],{path:s,sequenceNumber:o})=>{0===t?(r!==ed.T&&e(new Id(vg(i)),r),r=o,i=s):r=ed.T}).next(()=>{r!==ed.T&&e(new Id(vg(i)),r)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function qm(t,e){return Mm(t).put(function(t,e){return new Eg(0,mg(t.path),e)}(e,t.currentSequenceNumber))}class jm{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,t))return r}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),i=this.inner[n];if(void 0!==i){for(let n=0;n<i.length;n++)if(this.equalsFn(i[n][0],t))return void(i[n]=[t,e]);i.push([t,e])}else this.inner[n]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),!0;return!1}forEach(t){ud(this.inner,(e,n)=>{for(const[i,r]of n)t(i,r)})}isEmpty(){return hd(this.inner)}}class zm{constructor(){this.changes=new jm(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:ld.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:$d.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?qg.resolve(n.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Vm{constructor(t,e){this.N=t,this.Ht=e}addEntry(t,e,n){return $m(t).put(Gm(e),n)}removeEntry(t,e){const n=$m(t),i=Gm(e);return n.delete(i)}updateMetadata(t,e){return this.getMetadata(t).next(n=>(n.byteSize+=e,this.Ae(t,n)))}getEntry(t,e){return $m(t).get(Gm(e)).next(t=>this.Re(e,t))}be(t,e){return $m(t).get(Gm(e)).next(t=>({document:this.Re(e,t),size:wm(t)}))}getEntries(t,e){let n=vf();return this.Pe(t,e,(t,e)=>{const i=this.Re(t,e);n=n.insert(t,i)}).next(()=>n)}ve(t,e){let n=vf(),i=new pf(Id.comparator);return this.Pe(t,e,(t,e)=>{const r=this.Re(t,e);n=n.insert(t,r),i=i.insert(t,wm(e))}).next(()=>({documents:n,Ve:i}))}Pe(t,e,n){if(e.isEmpty())return qg.resolve();const i=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),r=e.getIterator();let s=r.getNext();return $m(t).Kt({range:i},(t,e,i)=>{const o=Id.fromSegments(t);for(;s&&Id.comparator(s,o)<0;)n(s,null),s=r.getNext();s&&s.isEqual(o)&&(n(s,e),s=r.hasNext()?r.getNext():null),s?i.Mt(s.path.toArray()):i.done()}).next(()=>{for(;s;)n(s,null),s=r.hasNext()?r.getNext():null})}getDocumentsMatchingQuery(t,e,n){let i=vf();const r=e.path.length+1,s={};if(n.isEqual(ld.min())){const t=e.path.toArray();s.range=IDBKeyRange.lowerBound(t)}else{const t=e.path.toArray(),i=im(n);s.range=IDBKeyRange.lowerBound([t,i],!0),s.index=Tg.collectionReadTimeIndex}return $m(t).Kt(s,(t,n,s)=>{if(t.length!==r)return;const o=em(this.N,n);e.path.isPrefixOf(o.key.path)?Op(e,o)&&(i=i.insert(o.key,o)):s.done()}).next(()=>i)}newChangeBuffer(t){return new Bm(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(t=>t.byteSize)}getMetadata(t){return Hm(t).get(Ig.key).next(t=>(Hh(!!t),t))}Ae(t,e){return Hm(t).put(Ig.key,e)}Re(t,e){if(e){const t=em(this.N,e);if(!t.isNoDocument()||!t.version.isEqual(ld.min()))return t}return $d.newInvalidDocument(t)}}class Bm extends zm{constructor(t,e){super(),this.Se=t,this.trackRemovals=e,this.De=new jm(t=>t.toString(),(t,e)=>t.isEqual(e))}applyChanges(t){const e=[];let n=0,i=new mf((t,e)=>rd(t.canonicalString(),e.canonicalString()));return this.changes.forEach((r,s)=>{const o=this.De.get(r);if(s.document.isValidDocument()){const a=nm(this.Se.N,s.document,this.getReadTime(r));i=i.add(r.path.popLast());const l=wm(a);n+=l-o,e.push(this.Se.addEntry(t,r,a))}else if(n-=o,this.trackRemovals){const n=nm(this.Se.N,$d.newNoDocument(r,ld.min()),this.getReadTime(r));e.push(this.Se.addEntry(t,r,n))}else e.push(this.Se.removeEntry(t,r))}),i.forEach(n=>{e.push(this.Se.Ht.addToCollectionParentIndex(t,n))}),e.push(this.Se.updateMetadata(t,n)),qg.waitFor(e)}getFromCache(t,e){return this.Se.be(t,e).next(t=>(this.De.set(e,t.size),t.document))}getAllFromCache(t,e){return this.Se.ve(t,e).next(({documents:t,Ve:e})=>(e.forEach((t,e)=>{this.De.set(t,e)}),t))}}function Hm(t){return Yg(t,Ig.store)}function $m(t){return Yg(t,Tg.store)}function Gm(t){return t.path.toArray()}class Zm{constructor(t){this.N=t}Ct(t,e,n,i){Hh(n<i&&n>=0&&i<=11);const r=new jg("createOrUpgrade",e);n<1&&i>=1&&(function(t){t.createObjectStore(wg.store)}(t),function(t){t.createObjectStore(Cg.store,{keyPath:Cg.keyPath}),t.createObjectStore(xg.store,{keyPath:xg.keyPath,autoIncrement:!0}).createIndex(xg.userMutationsIndex,xg.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Pg.store)}(t),Wm(t),function(t){t.createObjectStore(Tg.store)}(t));let s=qg.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore(Eg.store),t.deleteObjectStore(Sg.store),t.deleteObjectStore(Mg.store)}(t),Wm(t)),s=s.next(()=>function(t){const e=t.store(Mg.store),n=new Mg(0,0,ld.min().toTimestamp(),0);return e.put(Mg.key,n)}(r))),n<4&&i>=4&&(0!==n&&(s=s.next(()=>function(t,e){return e.store(xg.store).Lt().next(n=>{t.deleteObjectStore(xg.store),t.createObjectStore(xg.store,{keyPath:xg.keyPath,autoIncrement:!0}).createIndex(xg.userMutationsIndex,xg.userMutationsKeyPath,{unique:!0});const i=e.store(xg.store),r=n.map(t=>i.put(t));return qg.waitFor(r)})}(t,r))),s=s.next(()=>{!function(t){t.createObjectStore(Ng.store,{keyPath:Ng.keyPath})}(t)})),n<5&&i>=5&&(s=s.next(()=>this.Ce(r))),n<6&&i>=6&&(s=s.next(()=>(function(t){t.createObjectStore(Ig.store)}(t),this.Ne(r)))),n<7&&i>=7&&(s=s.next(()=>this.xe(r))),n<8&&i>=8&&(s=s.next(()=>this.ke(t,r))),n<9&&i>=9&&(s=s.next(()=>{!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){const e=t.objectStore(Tg.store);e.createIndex(Tg.readTimeIndex,Tg.readTimeIndexPath,{unique:!1}),e.createIndex(Tg.collectionReadTimeIndex,Tg.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&i>=10&&(s=s.next(()=>this.$e(r))),n<11&&i>=11&&(s=s.next(()=>{!function(t){t.createObjectStore(Rg.store,{keyPath:Rg.keyPath})}(t),function(t){t.createObjectStore(Dg.store,{keyPath:Dg.keyPath})}(t)})),s}Ne(t){let e=0;return t.store(Tg.store).Kt((t,n)=>{e+=wm(n)}).next(()=>{const n=new Ig(e);return t.store(Ig.store).put(Ig.key,n)})}Ce(t){const e=t.store(Cg.store),n=t.store(xg.store);return e.Lt().next(e=>qg.forEach(e,e=>{const i=IDBKeyRange.bound([e.userId,-1],[e.userId,e.lastAcknowledgedBatchId]);return n.Lt(xg.userMutationsIndex,i).next(n=>qg.forEach(n,n=>{Hh(n.userId===e.userId);const i=am(this.N,n);return bm(t,e.userId,i).next(()=>{})}))}))}xe(t){const e=t.store(Eg.store),n=t.store(Tg.store);return t.store(Mg.store).get(Mg.key).next(t=>{const i=[];return n.Kt((n,r)=>{const s=new pd(n),o=function(t){return[0,mg(t)]}(s);i.push(e.get(o).next(n=>n?qg.resolve():(n=>e.put(new Eg(0,mg(n),t.highestListenSequenceNumber)))(s)))}).next(()=>qg.waitFor(i))})}ke(t,e){t.createObjectStore(Ag.store,{keyPath:Ag.keyPath});const n=e.store(Ag.store),i=new gm,r=t=>{if(i.add(t)){const e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:mg(i)})}};return e.store(Tg.store).Kt({qt:!0},(t,e)=>{const n=new pd(t);return r(n.popLast())}).next(()=>e.store(Pg.store).Kt({qt:!0},([t,e,n],i)=>{const s=vg(e);return r(s.popLast())}))}$e(t){const e=t.store(Sg.store);return e.Kt((t,n)=>{const i=lm(n),r=cm(this.N,i);return e.put(r)})}}function Wm(t){t.createObjectStore(Eg.store,{keyPath:Eg.keyPath}).createIndex(Eg.documentTargetsIndex,Eg.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Sg.store,{keyPath:Sg.keyPath}).createIndex(Sg.queryTargetsIndexName,Sg.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Mg.store)}const Km="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ym{constructor(t,e,n,i,r,s,o,a,l,c){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.Oe=r,this.window=s,this.document=o,this.Fe=l,this.Me=c,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=t=>Promise.resolve(),!Ym.bt())throw new Zh(Gh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Um(this,i),this.We=e+"main",this.N=new tm(a),this.Ge=new zg(this.We,11,new Zm(this.N)),this.ze=new Im(this.referenceDelegate,this.N),this.Ht=new mm,this.He=function(t,e){return new Vm(t,e)}(this.N,this.Ht),this.Je=new hm,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===c&&jh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Zh(Gh.FAILED_PRECONDITION,Km);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.ze.getHighestSequenceNumber(t))}).then(t=>{this.Le=new ed(t,this.Fe)}).then(()=>{this.Be=!0}).catch(t=>(this.Ge&&this.Ge.close(),Promise.reject(t)))}nn(t){var e=this;return this.Qe=function(){var n=(0,Pa.Z)(function*(n){if(e.started)return t(n)});return function(t){return n.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ge.xt(function(){var e=(0,Pa.Z)(function*(e){null===e.newVersion&&(yield t())});return function(t){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Oe.enqueueAndForget((0,Pa.Z)(function*(){e.started&&(yield e.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Jm(t).put(new Ng(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(t).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(t)).next(e=>this.isPrimary&&!e?this.on(t).next(()=>!1):!!e&&this.an(t).next(()=>!0))).catch(t=>{if(Hg(t))return qh("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return qh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Oe.enqueueRetryable(()=>this.Qe(t)),this.isPrimary=t})}sn(t){return Qm(t).get(wg.key).next(t=>qg.resolve(this.cn(t)))}un(t){return Jm(t).delete(this.clientId)}hn(){var t=this;return(0,Pa.Z)(function*(){if(t.isPrimary&&!t.ln(t.je,18e5)){t.je=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const n=Yg(e,Ng.store);return n.Lt().next(e=>{const i=t.fn(e,18e5),r=e.filter(t=>-1===i.indexOf(t));return qg.forEach(r,t=>n.delete(t.clientId)).next(()=>r)})}).catch(()=>[]);if(t.Ye)for(const n of e)t.Ye.removeItem(t.dn(n.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(t){return!!t&&t.ownerId===this.clientId}rn(t){return this.Me?qg.resolve(!0):Qm(t).get(wg.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)){if(this.cn(e)&&this.networkEnabled)return!0;if(!this.cn(e)){if(!e.allowTabSynchronization)throw new Zh(Gh.FAILED_PRECONDITION,Km);return!1}}return!(!this.networkEnabled||!this.inForeground)||Jm(t).Lt().next(t=>void 0===this.fn(t,5e3).find(t=>{if(this.clientId!==t.clientId){const e=!this.inForeground&&t.inForeground,n=this.networkEnabled===t.networkEnabled;if(!this.networkEnabled&&t.networkEnabled||e&&n)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&qh("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var t=this;return(0,Pa.Z)(function*(){t.Be=!1,t._n(),t.Ke&&(t.Ke.cancel(),t.Ke=null),t.mn(),t.gn(),yield t.Ge.runTransaction("shutdown","readwrite",[wg.store,Ng.store],e=>{const n=new Kg(e,ed.T);return t.on(n).next(()=>t.un(n))}),t.Ge.close(),t.yn()})()}fn(t,e){return t.filter(t=>this.ln(t.updateTimeMs,e)&&!this.wn(t.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",t=>Jm(t).Lt().next(t=>this.fn(t,18e5).map(t=>t.clientId)))}get started(){return this.Be}getMutationQueue(t){return Cm.Yt(t,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(t,e,n){let i;return qh("IndexedDbPersistence","Starting transaction:",t),this.Ge.runTransaction(t,"readonly"===e?"readonly":"readwrite",Lg,r=>(i=new Kg(r,this.Le?this.Le.next():ed.T),"readwrite-primary"===e?this.sn(i).next(t=>!!t||this.rn(i)).next(e=>{if(!e)throw jh(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Zh(Gh.FAILED_PRECONDITION,Fg);return n(i)}).next(t=>this.an(i).next(()=>t)):this.En(i).next(()=>n(i)))).then(t=>(i.raiseOnCommittedEvent(),t))}En(t){return Qm(t).get(wg.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.cn(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Zh(Gh.FAILED_PRECONDITION,Km)})}an(t){const e=new wg(this.clientId,this.allowTabSynchronization,Date.now());return Qm(t).put(wg.key,e)}static bt(){return zg.bt()}on(t){const e=Qm(t);return e.get(wg.key).next(t=>this.cn(t)?(qh("IndexedDbPersistence","Releasing primary lease."),e.delete(wg.key)):qg.resolve())}ln(t,e){const n=Date.now();return!(t<n-e||t>n&&(jh(`Detected an update time that is in the future: ${t} > ${n}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ue=()=>{this._n(),(0,Ia.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(t){var e;try{const n=null!==(null===(e=this.Ye)||void 0===e?void 0:e.getItem(this.dn(t)));return qh("IndexedDbPersistence",`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(t){return jh("IndexedDbPersistence","Failed to get zombied client id.",t),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(t){jh("Failed to set zombie client id.",t)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(t){}}dn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Qm(t){return Yg(t,wg.store)}function Jm(t){return Yg(t,Ng.store)}function Xm(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class ty{constructor(t,e){this.progress=t,this.Tn=e}}class ey{constructor(t,e,n){this.He=t,this.In=e,this.Ht=n}An(t,e){return this.In.getAllMutationBatchesAffectingDocumentKey(t,e).next(n=>this.Rn(t,e,n))}Rn(t,e,n){return this.He.getEntry(t,e).next(t=>{for(const e of n)e.applyToLocalView(t);return t})}bn(t,e){t.forEach((t,n)=>{for(const i of e)i.applyToLocalView(n)})}Pn(t,e){return this.He.getEntries(t,e).next(e=>this.vn(t,e).next(()=>e))}vn(t,e){return this.In.getAllMutationBatchesAffectingDocumentKeys(t,e).next(t=>this.bn(e,t))}getDocumentsMatchingQuery(t,e,n){return function(t){return Id.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Vn(t,e.path):vp(e)?this.Sn(t,e,n):this.Dn(t,e,n)}Vn(t,e){return this.An(t,new Id(e)).next(t=>{let e=wf();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})}Sn(t,e,n){const i=e.collectionGroup;let r=wf();return this.Ht.getCollectionParents(t,i).next(s=>qg.forEach(s,s=>{const o=function(t,e){return new dp(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return this.Dn(t,o,n).next(t=>{t.forEach((t,e)=>{r=r.insert(t,e)})})}).next(()=>r))}Dn(t,e,n){let i,r;return this.He.getDocumentsMatchingQuery(t,e,n).next(n=>(i=n,this.In.getAllMutationBatchesAffectingQuery(t,e))).next(e=>(r=e,this.Cn(t,r,i).next(t=>{i=t;for(const e of r)for(const t of e.mutations){const n=t.key;let r=i.get(n);null==r&&(r=$d.newInvalidDocument(n),i=i.insert(n,r)),Yp(t,r,e.localWriteTime),r.isFoundDocument()||(i=i.remove(n))}}))).next(()=>(i.forEach((t,n)=>{Op(e,n)||(i=i.remove(t))}),i))}Cn(t,e,n){let i=kf();for(const s of e)for(const t of s.mutations)t instanceof ef&&null===n.get(t.key)&&(i=i.add(t.key));let r=n;return this.He.getEntries(t,i).next(t=>(t.forEach((t,e)=>{e.isFoundDocument()&&(r=r.insert(t,e))}),r))}}class ny{constructor(t,e,n,i){this.targetId=t,this.fromCache=e,this.Nn=n,this.xn=i}static kn(t,e){let n=kf(),i=kf();for(const r of e.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new ny(t,e.fromCache,n,i)}}class iy{$n(t){this.On=t}getDocumentsMatchingQuery(t,e,n,i){return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(ld.min())?this.Fn(t,e):this.On.Pn(t,i).next(r=>{const s=this.Mn(e,r);return(gp(e)||mp(e))&&this.Ln(e.limitType,s,i,n)?this.Fn(t,e):(Uh()<=Ta.in.DEBUG&&qh("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),kp(e)),this.On.getDocumentsMatchingQuery(t,e,n).next(t=>(s.forEach(e=>{t=t.insert(e.key,e)}),t)))})}Mn(t,e){let n=new mf(Tp(t));return e.forEach((e,i)=>{Op(t,i)&&(n=n.add(i))}),n}Ln(t,e,n,i){if(n.size!==e.size)return!0;const r="F"===t?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Fn(t,e){return Uh()<=Ta.in.DEBUG&&qh("QueryEngine","Using full collection scan to execute query:",kp(e)),this.On.getDocumentsMatchingQuery(t,e,ld.min())}}class ry{constructor(t,e,n,i){this.persistence=t,this.Bn=e,this.N=i,this.Un=new pf(rd),this.qn=new jm(t=>Wd(t),Kd),this.Kn=ld.min(),this.In=t.getMutationQueue(n),this.jn=t.getRemoteDocumentCache(),this.ze=t.getTargetCache(),this.Qn=new ey(this.jn,this.In,this.persistence.getIndexManager()),this.Je=t.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Un))}}function sy(t,e,n,i){return new ry(t,e,n,i)}function oy(t,e){return ay.apply(this,arguments)}function ay(){return(ay=(0,Pa.Z)(function*(t,e){const n=$h(t);let i=n.In,r=n.Qn;const s=yield n.persistence.runTransaction("Handle user change","readonly",t=>{let s;return n.In.getAllMutationBatches(t).next(o=>(s=o,i=n.persistence.getMutationQueue(e),r=new ey(n.jn,i,n.persistence.getIndexManager()),i.getAllMutationBatches(t))).next(e=>{const n=[],i=[];let o=kf();for(const t of s){n.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){i.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return r.Pn(t,o).next(t=>({Wn:t,removedBatchIds:n,addedBatchIds:i}))})});return n.In=i,n.Qn=r,n.Bn.$n(n.Qn),s})).apply(this,arguments)}function ly(t,e){const n=$h(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",t=>{const i=e.batch.keys(),r=n.jn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){const r=n.batch,s=r.keys();let o=qg.resolve();return s.forEach(t=>{o=o.next(()=>i.getEntry(e,t)).next(e=>{const s=n.docVersions.get(t);Hh(null!==s),e.version.compareTo(s)<0&&(r.applyToRemoteDocument(e,n),e.isValidDocument()&&i.addEntry(e,n.commitVersion))})}),o.next(()=>t.In.removeMutationBatch(e,r))}(n,t,e,r).next(()=>r.apply(t)).next(()=>n.In.performConsistencyCheck(t)).next(()=>n.Qn.Pn(t,i))})}function cy(t){const e=$h(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function uy(t,e){const n=$h(t),i=e.snapshotVersion;let r=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",t=>{const s=n.jn.newChangeBuffer({trackRemovals:!0});r=n.Un;const o=[];e.targetChanges.forEach((e,s)=>{const a=r.get(s);if(!a)return;o.push(n.ze.removeMatchingKeys(t,e.removedDocuments,s).next(()=>n.ze.addMatchingKeys(t,e.addedDocuments,s)));const l=e.resumeToken;if(l.approximateByteSize()>0){const c=a.withResumeToken(l,i).withSequenceNumber(t.currentSequenceNumber);r=r.insert(s,c),function(t,e,n){return Hh(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&o.push(n.ze.updateTargetData(t,c))}});let a=vf();if(e.documentUpdates.forEach((i,r)=>{e.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))}),o.push(hy(t,s,e.documentUpdates,i,void 0).next(t=>{a=t})),!i.isEqual(ld.min())){const e=n.ze.getLastRemoteSnapshotVersion(t).next(e=>n.ze.setTargetsMetadata(t,t.currentSequenceNumber,i));o.push(e)}return qg.waitFor(o).next(()=>s.apply(t)).next(()=>n.Qn.vn(t,a)).next(()=>a)}).then(t=>(n.Un=r,t))}function hy(t,e,n,i,r){let s=kf();return n.forEach(t=>s=s.add(t)),e.getEntries(t,s).next(t=>{let s=vf();return n.forEach((n,o)=>{const a=t.get(n),l=(null==r?void 0:r.get(n))||i;o.isNoDocument()&&o.version.isEqual(ld.min())?(e.removeEntry(n,l),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,l),s=s.insert(n,o)):qh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function dy(t,e){const n=$h(t);return n.persistence.runTransaction("Get next mutation batch","readonly",t=>(void 0===e&&(e=-1),n.In.getNextMutationBatchAfterBatchId(t,e)))}function py(t,e){const n=$h(t);return n.persistence.runTransaction("Allocate target","readwrite",t=>{let i;return n.ze.getTargetData(t,e).next(r=>r?(i=r,qg.resolve(i)):n.ze.allocateTargetId(t).next(r=>(i=new Xg(e,r,0,t.currentSequenceNumber),n.ze.addTargetData(t,i).next(()=>i))))}).then(t=>{const i=n.Un.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Un=n.Un.insert(t.targetId,t),n.qn.set(e,t.targetId)),t})}function fy(t,e,n){return gy.apply(this,arguments)}function gy(){return(gy=(0,Pa.Z)(function*(t,e,n){const i=$h(t),r=i.Un.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",s,t=>i.persistence.referenceDelegate.removeTarget(t,r)))}catch(t){if(!Hg(t))throw t;qh("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}i.Un=i.Un.remove(e),i.qn.delete(r.target)})).apply(this,arguments)}function my(t,e,n){const i=$h(t);let r=ld.min(),s=kf();return i.persistence.runTransaction("Execute query","readonly",t=>function(t,e,n){const i=$h(t),r=i.qn.get(n);return void 0!==r?qg.resolve(i.Un.get(r)):i.ze.getTargetData(e,n)}(i,t,wp(e)).next(e=>{if(e)return r=e.lastLimboFreeSnapshotVersion,i.ze.getMatchingKeysForTargetId(t,e.targetId).next(t=>{s=t})}).next(()=>i.Bn.getDocumentsMatchingQuery(t,e,n?r:ld.min(),n?s:kf())).next(t=>({documents:t,Gn:s})))}function yy(t,e){const n=$h(t),i=$h(n.ze),r=n.Un.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",t=>i.Et(t,e).next(t=>t?t.target:null))}function _y(t){const e=$h(t);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(t,e,n){const i=$h(t);let r=vf(),s=im(n);const o=$m(e),a=IDBKeyRange.lowerBound(s,!0);return o.Kt({index:Tg.readTimeIndex,range:a},(t,e)=>{const n=em(i.N,e);r=r.insert(n.key,n),s=e.readTime}).next(()=>({Tn:r,readTime:rm(s)}))}(e.jn,t,e.Kn)).then(({Tn:t,readTime:n})=>(e.Kn=n,t))}function vy(){return(vy=(0,Pa.Z)(function*(t){const e=$h(t);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(t){const e=$m(t);let n=ld.min();return e.Kt({index:Tg.readTimeIndex,reverse:!0},(t,e,i)=>{e.readTime&&(n=rm(e.readTime)),i.done()}).next(()=>n)}(t)).then(t=>{e.Kn=t})})).apply(this,arguments)}function by(){return(by=(0,Pa.Z)(function*(t,e,n,i){const r=$h(t);let s=kf(),o=vf(),a=xf();for(const u of n){const t=e.zn(u.metadata.name);u.document&&(s=s.add(t)),o=o.insert(t,e.Hn(u)),a=a.insert(t,e.Jn(u.metadata.readTime))}const l=r.jn.newChangeBuffer({trackRemovals:!0}),c=yield py(r,function(t){return wp(fp(pd.fromString(`__bundle__/docs/${t}`)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",t=>hy(t,l,o,ld.min(),a).next(e=>(l.apply(t),e)).next(e=>r.ze.removeMatchingKeysForTargetId(t,c.targetId).next(()=>r.ze.addMatchingKeys(t,s,c.targetId)).next(()=>r.Qn.vn(t,e)).next(()=>e)))})).apply(this,arguments)}function wy(t,e){return Cy.apply(this,arguments)}function Cy(){return(Cy=(0,Pa.Z)(function*(t,e,n=kf()){const i=yield py(t,wp(um(e.bundledQuery))),r=$h(t);return r.persistence.runTransaction("Save named query","readwrite",t=>{const s=Bf(e.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Je.saveNamedQuery(t,e);const o=i.withResumeToken(yd.EMPTY_BYTE_STRING,s);return r.Un=r.Un.insert(o.targetId,o),r.ze.updateTargetData(t,o).next(()=>r.ze.removeMatchingKeysForTargetId(t,i.targetId)).next(()=>r.ze.addMatchingKeys(t,n,i.targetId)).next(()=>r.Je.saveNamedQuery(t,e))})})).apply(this,arguments)}class xy{constructor(t){this.N=t,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(t,e){return qg.resolve(this.Yn.get(e))}saveBundleMetadata(t,e){var n;return this.Yn.set(e.id,{id:(n=e).id,version:n.version,createTime:Bf(n.createTime)}),qg.resolve()}getNamedQuery(t,e){return qg.resolve(this.Xn.get(e))}saveNamedQuery(t,e){return this.Xn.set(e.name,function(t){return{name:t.name,query:um(t.bundledQuery),readTime:Bf(t.readTime)}}(e)),qg.resolve()}}class Py{constructor(){this.Zn=new mf(ky.ts),this.es=new mf(ky.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const n=new ky(t,e);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(t,e){t.forEach(t=>this.addReference(t,e))}removeReference(t,e){this.rs(new ky(t,e))}os(t,e){t.forEach(t=>this.removeReference(t,e))}cs(t){const e=new Id(new pd([])),n=new ky(e,t),i=new ky(e,t+1),r=[];return this.es.forEachInRange([n,i],t=>{this.rs(t),r.push(t.key)}),r}us(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new Id(new pd([])),n=new ky(e,t),i=new ky(e,t+1);let r=kf();return this.es.forEachInRange([n,i],t=>{r=r.add(t.key)}),r}containsKey(t){const e=new ky(t,0),n=this.Zn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class ky{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return Id.comparator(t.key,e.key)||rd(t.ls,e.ls)}static ns(t,e){return rd(t.ls,e.ls)||Id.comparator(t.key,e.key)}}class Oy{constructor(t,e){this.Ht=t,this.referenceDelegate=e,this.In=[],this.fs=1,this.ds=new mf(ky.ts)}checkEmpty(t){return qg.resolve(0===this.In.length)}addMutationBatch(t,e,n,i){const r=this.fs;this.fs++;const s=new Qg(r,e,n,i);this.In.push(s);for(const o of i)this.ds=this.ds.add(new ky(o.key,r)),this.Ht.addToCollectionParentIndex(t,o.key.path.popLast());return qg.resolve(s)}lookupMutationBatch(t,e){return qg.resolve(this.ws(e))}getNextMutationBatchAfterBatchId(t,e){const n=this._s(e+1),i=n<0?0:n;return qg.resolve(this.In.length>i?this.In[i]:null)}getHighestUnacknowledgedBatchId(){return qg.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(t){return qg.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new ky(e,0),i=new ky(e,Number.POSITIVE_INFINITY),r=[];return this.ds.forEachInRange([n,i],t=>{const e=this.ws(t.ls);r.push(e)}),qg.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new mf(rd);return e.forEach(t=>{const e=new ky(t,0),i=new ky(t,Number.POSITIVE_INFINITY);this.ds.forEachInRange([e,i],t=>{n=n.add(t.ls)})}),qg.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1;let r=n;Id.isDocumentKey(r)||(r=r.child(""));const s=new ky(new Id(r),0);let o=new mf(rd);return this.ds.forEachWhile(t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(o=o.add(t.ls)),!0)},s),qg.resolve(this.gs(o))}gs(t){const e=[];return t.forEach(t=>{const n=this.ws(t);null!==n&&e.push(n)}),e}removeMutationBatch(t,e){Hh(0===this.ys(e.batchId,"removed")),this.In.shift();let n=this.ds;return qg.forEach(e.mutations,i=>{const r=new ky(i.key,e.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.ds=n})}te(t){}containsKey(t,e){const n=new ky(e,0),i=this.ds.firstAfterOrEqual(n);return qg.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return qg.resolve()}ys(t,e){return this._s(t)}_s(t){return 0===this.In.length?0:t-this.In[0].batchId}ws(t){const e=this._s(t);return e<0||e>=this.In.length?null:this.In[e]}}class Ty{constructor(t,e){this.Ht=t,this.ps=e,this.docs=new pf(Id.comparator),this.size=0}addEntry(t,e,n){const i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.ps(e);return this.docs=this.docs.insert(i,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ht.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return qg.resolve(n?n.document.clone():$d.newInvalidDocument(e))}getEntries(t,e){let n=vf();return e.forEach(t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.clone():$d.newInvalidDocument(t))}),qg.resolve(n)}getDocumentsMatchingQuery(t,e,n){let i=vf();const r=new Id(e.path.child("")),s=this.docs.getIteratorFrom(r);for(;s.hasNext();){const{key:t,value:{document:r,readTime:o}}=s.getNext();if(!e.path.isPrefixOf(t.path))break;o.compareTo(n)<=0||Op(e,r)&&(i=i.insert(r.key,r.clone()))}return qg.resolve(i)}Es(t,e){return qg.forEach(this.docs,t=>e(t))}newChangeBuffer(t){return new Iy(this)}getSize(t){return qg.resolve(this.size)}}class Iy extends zm{constructor(t){super(),this.Se=t}applyChanges(t){const e=[];return this.changes.forEach((n,i)=>{i.document.isValidDocument()?e.push(this.Se.addEntry(t,i.document,this.getReadTime(n))):this.Se.removeEntry(n)}),qg.waitFor(e)}getFromCache(t,e){return this.Se.getEntry(t,e)}getAllFromCache(t,e){return this.Se.getEntries(t,e)}}class Sy{constructor(t){this.persistence=t,this.Ts=new jm(t=>Wd(t),Kd),this.lastRemoteSnapshotVersion=ld.min(),this.highestTargetId=0,this.Is=0,this.As=new Py,this.targetCount=0,this.Rs=Tm.se()}forEachTarget(t,e){return this.Ts.forEach((t,n)=>e(n)),qg.resolve()}getLastRemoteSnapshotVersion(t){return qg.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return qg.resolve(this.Is)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),qg.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Is&&(this.Is=e),qg.resolve()}ae(t){this.Ts.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new Tm(e),this.highestTargetId=e),t.sequenceNumber>this.Is&&(this.Is=t.sequenceNumber)}addTargetData(t,e){return this.ae(e),this.targetCount+=1,qg.resolve()}updateTargetData(t,e){return this.ae(e),qg.resolve()}removeTargetData(t,e){return this.Ts.delete(e.target),this.As.cs(e.targetId),this.targetCount-=1,qg.resolve()}removeTargets(t,e,n){let i=0;const r=[];return this.Ts.forEach((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Ts.delete(s),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),qg.waitFor(r).next(()=>i)}getTargetCount(t){return qg.resolve(this.targetCount)}getTargetData(t,e){const n=this.Ts.get(e)||null;return qg.resolve(n)}addMatchingKeys(t,e,n){return this.As.ss(e,n),qg.resolve()}removeMatchingKeys(t,e,n){this.As.os(e,n);const i=this.persistence.referenceDelegate,r=[];return i&&e.forEach(e=>{r.push(i.markPotentiallyOrphaned(t,e))}),qg.waitFor(r)}removeMatchingKeysForTargetId(t,e){return this.As.cs(e),qg.resolve()}getMatchingKeysForTargetId(t,e){const n=this.As.hs(e);return qg.resolve(n)}containsKey(t,e){return qg.resolve(this.As.containsKey(e))}}class Ey{constructor(t,e){this.bs={},this.Le=new ed(0),this.Be=!1,this.Be=!0,this.referenceDelegate=t(this),this.ze=new Sy(this),this.Ht=new fm,this.He=function(t,e){return new Ty(t,e)}(this.Ht,t=>this.referenceDelegate.Ps(t)),this.N=new tm(e),this.Je=new xy(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(t){let e=this.bs[t.toKey()];return e||(e=new Oy(this.Ht,this.referenceDelegate),this.bs[t.toKey()]=e),e}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(t,e,n){qh("MemoryPersistence","Starting transaction:",t);const i=new My(this.Le.next());return this.referenceDelegate.vs(),n(i).next(t=>this.referenceDelegate.Vs(i).next(()=>t)).toPromise().then(t=>(i.raiseOnCommittedEvent(),t))}Ss(t,e){return qg.or(Object.values(this.bs).map(n=>()=>n.containsKey(t,e)))}}class My extends Ug{constructor(t){super(),this.currentSequenceNumber=t}}class Ay{constructor(t){this.persistence=t,this.Ds=new Py,this.Cs=null}static Ns(t){return new Ay(t)}get xs(){if(this.Cs)return this.Cs;throw Bh()}addReference(t,e,n){return this.Ds.addReference(n,e),this.xs.delete(n.toString()),qg.resolve()}removeReference(t,e,n){return this.Ds.removeReference(n,e),this.xs.add(n.toString()),qg.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),qg.resolve()}removeTarget(t,e){this.Ds.cs(e.targetId).forEach(t=>this.xs.add(t.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(t=>{t.forEach(t=>this.xs.add(t.toString()))}).next(()=>n.removeTargetData(t,e))}vs(){this.Cs=new Set}Vs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qg.forEach(this.xs,n=>{const i=Id.fromPath(n);return this.ks(t,i).next(t=>{t||e.removeEntry(i)})}).next(()=>(this.Cs=null,e.apply(t)))}updateLimboDocument(t,e){return this.ks(t,e).next(t=>{t?this.xs.delete(e.toString()):this.xs.add(e.toString())})}Ps(t){return 0}ks(t,e){return qg.or([()=>qg.resolve(this.Ds.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ss(t,e)])}}function Ny(t,e){return`firestore_clients_${t}_${e}`}function Ry(t,e,n){let i=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function Dy(t,e){return`firestore_targets_${t}_${e}`}class Ly{constructor(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i}static $s(t,e,n){const i=JSON.parse(n);let r,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Zh(i.error.code,i.error.message))),s?new Ly(t,e,i.state,r):(jh("SharedClientState",`Failed to parse mutation state for ID '${e}': ${n}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Fy{constructor(t,e,n){this.targetId=t,this.state=e,this.error=n}static $s(t,e){const n=JSON.parse(e);let i,r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code,r&&(i=new Zh(n.error.code,n.error.message))),r?new Fy(t,n.state,i):(jh("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Uy{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static $s(t,e){const n=JSON.parse(e);let i="object"==typeof n&&n.activeTargetIds instanceof Array,r=Tf();for(let s=0;i&&s<n.activeTargetIds.length;++s)i=Td(n.activeTargetIds[s]),r=r.add(n.activeTargetIds[s]);return i?new Uy(t,r):(jh("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class qy{constructor(t,e){this.clientId=t,this.onlineState=e}static $s(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new qy(e.clientId,e.onlineState):(jh("SharedClientState",`Failed to parse online state: ${t}`),null)}}class jy{constructor(){this.activeTargetIds=Tf()}Fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ms(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Os(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zy{constructor(t,e,n,i,r){this.window=t,this.Oe=e,this.persistenceKey=n,this.Ls=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new pf(rd),this.started=!1,this.Ks=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.js=Ny(this.persistenceKey,this.Ls),this.Qs=function(t){return`firestore_sequence_number_${t}`}(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new jy),this.Ws=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Hs=function(t){return`firestore_online_state_${t}`}(this.persistenceKey),this.Js=function(t){return`firestore_bundle_loaded_${t}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Pa.Z)(function*(){const e=yield t.syncEngine.pn();for(const i of e){if(i===t.Ls)continue;const e=t.getItem(Ny(t.persistenceKey,i));if(e){const n=Uy.$s(i,e);n&&(t.qs=t.qs.insert(n.clientId,n))}}t.Ys();const n=t.storage.getItem(t.Hs);if(n){const e=t.Xs(n);e&&t.Zs(e)}for(const i of t.Ks)t.Us(i);t.Ks=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Qs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(t){let e=!1;return this.qs.forEach((n,i)=>{i.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ei(t,"pending")}updateMutationState(t,e,n){this.ei(t,e,n),this.ni(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const n=this.storage.getItem(Dy(this.persistenceKey,t));if(n){const i=Fy.$s(t,n);i&&(e=i.state)}}return this.si.Fs(t),this.Ys(),e}removeLocalQueryTarget(t){this.si.Ms(t),this.Ys()}isLocalQueryTarget(t){return this.si.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Dy(this.persistenceKey,t))}updateQueryState(t,e,n){this.ii(t,e,n)}handleUserChange(t,e,n){e.forEach(t=>{this.ni(t)}),this.currentUser=t,n.forEach(t=>{this.addPendingMutation(t)})}setOnlineState(t){this.ri(t)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return qh("SharedClientState","READ",t,e),e}setItem(t,e){qh("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){qh("SharedClientState","REMOVE",t),this.storage.removeItem(t)}Us(t){var e=this;const n=t;if(n.storageArea===this.storage){if(qh("SharedClientState","EVENT",n.key,n.newValue),n.key===this.js)return void jh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Pa.Z)(function*(){if(e.started){if(null!==n.key)if(e.Ws.test(n.key)){if(null==n.newValue){const t=e.ai(n.key);return e.ci(t,null)}{const t=e.ui(n.key,n.newValue);if(t)return e.ci(t.clientId,t)}}else if(e.Gs.test(n.key)){if(null!==n.newValue){const t=e.hi(n.key,n.newValue);if(t)return e.li(t)}}else if(e.zs.test(n.key)){if(null!==n.newValue){const t=e.fi(n.key,n.newValue);if(t)return e.di(t)}}else if(n.key===e.Hs){if(null!==n.newValue){const t=e.Xs(n.newValue);if(t)return e.Zs(t)}}else if(n.key===e.Qs){const t=function(t){let e=ed.T;if(null!=t)try{const n=JSON.parse(t);Hh("number"==typeof n),e=n}catch(t){jh("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue);t!==ed.T&&e.sequenceNumberHandler(t)}else if(n.key===e.Js)return e.syncEngine.wi()}else e.Ks.push(n)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(t,e,n){const i=new Ly(this.currentUser,t,e,n),r=Ry(this.persistenceKey,this.currentUser,t);this.setItem(r,i.Os())}ni(t){const e=Ry(this.persistenceKey,this.currentUser,t);this.removeItem(e)}ri(t){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:t}))}ii(t,e,n){const i=Dy(this.persistenceKey,t),r=new Fy(t,e,n);this.setItem(i,r.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(t){const e=this.Ws.exec(t);return e?e[1]:null}ui(t,e){const n=this.ai(t);return Uy.$s(n,e)}hi(t,e){const n=this.Gs.exec(t),i=Number(n[1]);return Ly.$s(new Dh(void 0!==n[2]?n[2]:null),i,e)}fi(t,e){const n=this.zs.exec(t),i=Number(n[1]);return Fy.$s(i,e)}Xs(t){return qy.$s(t)}li(t){var e=this;return(0,Pa.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine._i(t.batchId,t.state,t.error);qh("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}di(t){return this.syncEngine.mi(t.targetId,t.state,t.error)}ci(t,e){const n=e?this.qs.insert(t,e):this.qs.remove(t),i=this.ti(this.qs),r=this.ti(n),s=[],o=[];return r.forEach(t=>{i.has(t)||s.push(t)}),i.forEach(t=>{r.has(t)||o.push(t)}),this.syncEngine.gi(s,o).then(()=>{this.qs=n})}Zs(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ti(t){let e=Tf();return t.forEach((t,n)=>{e=e.unionWith(n.activeTargetIds)}),e}}class Vy{constructor(){this.yi=new jy,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.yi.Fs(t),this.pi[t]||"not-current"}updateQueryState(t,e,n){this.pi[t]=e}removeLocalQueryTarget(t){this.yi.Ms(t)}isLocalQueryTarget(t){return this.yi.activeTargetIds.has(t)}clearQueryState(t){delete this.pi[t]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(t){return this.yi.activeTargetIds.has(t)}start(){return this.yi=new jy,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class By{Ei(t){}shutdown(){}}class Hy{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(t){this.bi.push(t)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){qh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.bi)t(0)}Ri(){qh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.bi)t(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const $y={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Gy{constructor(t){this.vi=t.vi,this.Vi=t.Vi}Si(t){this.Di=t}Ci(t){this.Ni=t}onMessage(t){this.xi=t}close(){this.Vi()}send(t){this.vi(t)}ki(){this.Di()}$i(t){this.Ni(t)}Oi(t){this.xi(t)}}class Zy extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Fi=(t.ssl?"https":"http")+"://"+t.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(t,e,n,i){const r=this.Bi(t,e);qh("RestConnection","Sending: ",r,n);const s={};return this.Ui(s,i),this.qi(t,r,s,n).then(t=>(qh("RestConnection","Received: ",t),t),e=>{throw zh("RestConnection",`${t} failed with error: `,e,"url: ",r,"request:",n),e})}Ki(t,e,n,i){return this.Li(t,e,n,i)}Ui(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/"+Lh,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(const n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])}Bi(t,e){return`${this.Fi}/v1/${e}:${$y[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}qi(t,e,n,i){return new Promise((r,s)=>{const o=new Rh;o.listenOnce(Sh.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Ih.NO_ERROR:const e=o.getResponseJson();qh("Connection","XHR received:",JSON.stringify(e)),r(e);break;case Ih.TIMEOUT:qh("Connection",'RPC "'+t+'" timed out'),s(new Zh(Gh.DEADLINE_EXCEEDED,"Request time out"));break;case Ih.HTTP_ERROR:const n=o.getStatus();if(qh("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const t=o.getResponseJson().error;if(t&&t.status&&t.message){const e=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(Gh).indexOf(e)>=0?e:Gh.UNKNOWN}(t.status);s(new Zh(e,t.message))}else s(new Zh(Gh.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Zh(Gh.UNAVAILABLE,"Connection failed."));break;default:Bh()}}finally{qh("Connection",'RPC "'+t+'" completed.')}});const a=JSON.stringify(i);o.send(e,"POST",a,n,15)})}ji(t,e){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=Oh(),r=Th(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Ah({})),this.Ui(s.initMessageHeaders,e),(0,Ia.uI)()||(0,Ia.b$)()||(0,Ia.d)()||(0,Ia.w1)()||(0,Ia.Mn)()||(0,Ia.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");const o=n.join("");qh("Connection","Creating WebChannel: "+o,s);const a=i.createWebChannel(o,s);let l=!1,c=!1;const u=new Gy({vi:t=>{c?qh("Connection","Not sending because WebChannel is closed:",t):(l||(qh("Connection","Opening WebChannel transport."),a.open(),l=!0),qh("Connection","WebChannel sending:",t),a.send(t))},Vi:()=>a.close()}),h=(t,e,n)=>{t.listen(e,t=>{try{n(t)}catch(t){setTimeout(()=>{throw t},0)}})};return h(a,Nh.EventType.OPEN,()=>{c||qh("Connection","WebChannel transport opened.")}),h(a,Nh.EventType.CLOSE,()=>{c||(c=!0,qh("Connection","WebChannel transport closed"),u.$i())}),h(a,Nh.EventType.ERROR,t=>{c||(c=!0,zh("Connection","WebChannel transport errored:",t),u.$i(new Zh(Gh.UNAVAILABLE,"The operation could not be completed")))}),h(a,Nh.EventType.MESSAGE,t=>{var e;if(!c){const n=t.data[0];Hh(!!n);const i=n,r=i.error||(null===(e=i[0])||void 0===e?void 0:e.error);if(r){qh("Connection","WebChannel received error:",r);const t=r.status;let e=function(t){const e=cf[t];if(void 0!==e)return df(e)}(t),n=r.message;void 0===e&&(e=Gh.INTERNAL,n="Unknown error status: "+t+" with message "+r.message),c=!0,u.$i(new Zh(e,n)),a.close()}else qh("Connection","WebChannel received:",n),u.Oi(n)}}),h(r,Eh.STAT_EVENT,t=>{t.stat===Mh.PROXY?qh("Connection","Detected buffering proxy"):t.stat===Mh.NOPROXY&&qh("Connection","Detected no buffering proxy")}),setTimeout(()=>{u.ki()},0),u}}function Wy(){return"undefined"!=typeof window?window:null}function Ky(){return"undefined"!=typeof document?document:null}function Yy(t){return new qf(t,!0)}class Qy{constructor(t,e,n=1e3,i=1.5,r=6e4){this.Oe=t,this.timerId=e,this.Qi=n,this.Wi=i,this.Gi=r,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(t){this.cancel();const e=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),i=Math.max(0,e-n);i>0&&qh("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.zi} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,i,()=>(this.Ji=Date.now(),t())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Jy{constructor(t,e,n,i,r,s){this.Oe=t,this.er=n,this.nr=i,this.credentialsProvider=r,this.listener=s,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Qy(t,e)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var t=this;return(0,Pa.Z)(function*(){t.ar()&&(yield t.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(t){this._r(),this.stream.send(t)}dr(){var t=this;return(0,Pa.Z)(function*(){if(t.cr())return t.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(t,e){var n=this;return(0,Pa.Z)(function*(){n._r(),n.rr.cancel(),n.sr++,3!==t?n.rr.reset():e&&e.code===Gh.RESOURCE_EXHAUSTED?(jh(e.toString()),jh("Using maximum backoff delay to prevent overloading the backend."),n.rr.Yi()):e&&e.code===Gh.UNAUTHENTICATED&&n.credentialsProvider.invalidateToken(),null!==n.stream&&(n.mr(),n.stream.close(),n.stream=null),n.state=t,yield n.listener.Ci(e)})()}mr(){}auth(){this.state=1;const t=this.gr(this.sr),e=this.sr;this.credentialsProvider.getToken().then(t=>{this.sr===e&&this.yr(t)},e=>{t(()=>{const t=new Zh(Gh.UNKNOWN,"Fetching auth token failed: "+e.message);return this.pr(t)})})}yr(t){const e=this.gr(this.sr);this.stream=this.Er(t),this.stream.Si(()=>{e(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(t=>{e(()=>this.pr(t))}),this.stream.onMessage(t=>{e(()=>this.onMessage(t))})}ur(){var t=this;this.state=4,this.rr.Xi((0,Pa.Z)(function*(){t.state=0,t.start()}))}pr(t){return qh("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(3,t)}gr(t){return e=>{this.Oe.enqueueAndForget(()=>this.sr===t?e():(qh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Xy extends Jy{constructor(t,e,n,i,r){super(t,"listen_stream_connection_backoff","listen_stream_idle",e,n,r),this.N=i}Er(t){return this.nr.ji("Listen",t)}onMessage(t){this.rr.reset();const e=function(t,e){let n;if("targetChange"in e){const i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Bh()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(t,e){return t.D?(Hh(void 0===e||"string"==typeof e),yd.fromBase64String(e||"")):(Hh(void 0===e||e instanceof Uint8Array),yd.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?Gh.UNKNOWN:df(t.code);return new Zh(e,t.message||"")}(o);n=new Af(i,r,s,a||null)}else if("documentChange"in e){const i=e.documentChange,r=Zf(t,i.document.name),s=Bf(i.document.updateTime),o=new Bd({mapValue:{fields:i.document.fields}}),a=$d.newFoundDocument(r,s,o);n=new Ef(i.targetIds||[],i.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const i=e.documentDelete,r=Zf(t,i.document),s=i.readTime?Bf(i.readTime):ld.min(),o=$d.newNoDocument(r,s);n=new Ef([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const i=e.documentRemove,r=Zf(t,i.document);n=new Ef([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Bh();{const t=e.filter,i=new lf(t.count||0);n=new Mf(t.targetId,i)}}return n}(this.N,t),n=function(t){if(!("targetChange"in t))return ld.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?ld.min():e.readTime?Bf(e.readTime):ld.min()}(t);return this.listener.Tr(e,n)}Ir(t){const e={};e.database=Yf(this.N),e.addTarget=function(t,e){let n;const i=e.target;return n=Yd(i)?{documents:ng(t,i)}:{query:ig(t,i)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=zf(t,e.resumeToken):e.snapshotVersion.compareTo(ld.min())>0&&(n.readTime=jf(t,e.snapshotVersion.toTimestamp())),n}(this.N,t);const n=function(t,e){const n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Bh()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.wr(e)}Ar(t){const e={};e.database=Yf(this.N),e.removeTarget=t,this.wr(e)}}class t_ extends Jy{constructor(t,e,n,i,r){super(t,"write_stream_connection_backoff","write_stream_idle",e,n,r),this.N=i,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(t){return this.nr.ji("Write",t)}onMessage(t){if(Hh(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();const e=function(t,e){return t&&t.length>0?(Hh(void 0!==e),t.map(t=>function(t,e){let n=Bf(t.updateTime?t.updateTime:e);return n.isEqual(ld.min())&&(n=Bf(e)),new $p(n,t.transformResults||[])}(t,e))):[]}(t.writeResults,t.commitTime),n=Bf(t.commitTime);return this.listener.vr(n,e)}return Hh(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const t={};t.database=Yf(this.N),this.wr(t)}Pr(t){const e={streamToken:this.lastStreamToken,writes:t.map(t=>tg(this.N,t))};this.wr(e)}}class e_ extends class{}{constructor(t,e,n){super(),this.credentials=t,this.nr=e,this.N=n,this.Dr=!1}Cr(){if(this.Dr)throw new Zh(Gh.FAILED_PRECONDITION,"The client has already been terminated.")}Li(t,e,n){return this.Cr(),this.credentials.getToken().then(i=>this.nr.Li(t,e,n,i)).catch(t=>{throw"FirebaseError"===t.name?(t.code===Gh.UNAUTHENTICATED&&this.credentials.invalidateToken(),t):new Zh(Gh.UNKNOWN,t.toString())})}Ki(t,e,n){return this.Cr(),this.credentials.getToken().then(i=>this.nr.Ki(t,e,n,i)).catch(t=>{throw"FirebaseError"===t.name?(t.code===Gh.UNAUTHENTICATED&&this.credentials.invalidateToken(),t):new Zh(Gh.UNKNOWN,t.toString())})}terminate(){this.Dr=!0}}class n_{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(t){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Fr("Offline")))}set(t){this.Br(),this.Nr=0,"Online"===t&&(this.$r=!1),this.Fr(t)}Fr(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}Mr(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(jh(e),this.$r=!1):qh("OnlineStateTracker",e)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class i_{constructor(t,e,n,i,r){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=r,this.Qr.Ei(t=>{n.enqueueAndForget((0,Pa.Z)(function*(){var t;f_(s)&&(qh("RemoteStore","Restarting streams for network reachability change."),yield(t=(0,Pa.Z)(function*(t){const e=$h(t);e.Kr.add(4),yield o_(e),e.Wr.set("Unknown"),e.Kr.delete(4),yield r_(e)}),function(e){return t.apply(this,arguments)})(s))}))}),this.Wr=new n_(n,i)}}function r_(t){return s_.apply(this,arguments)}function s_(){return(s_=(0,Pa.Z)(function*(t){if(f_(t))for(const e of t.jr)yield e(!0)})).apply(this,arguments)}function o_(t){return a_.apply(this,arguments)}function a_(){return(a_=(0,Pa.Z)(function*(t){for(const e of t.jr)yield e(!1)})).apply(this,arguments)}function l_(t,e){const n=$h(t);n.qr.has(e.targetId)||(n.qr.set(e.targetId,e),p_(n)?d_(n):z_(n).cr()&&u_(n,e))}function c_(t,e){const n=$h(t),i=z_(n);n.qr.delete(e),i.cr()&&h_(n,e),0===n.qr.size&&(i.cr()?i.lr():f_(n)&&n.Wr.set("Unknown"))}function u_(t,e){t.Gr.Y(e.targetId),z_(t).Ir(e)}function h_(t,e){t.Gr.Y(e),z_(t).Ar(e)}function d_(t){t.Gr=new Rf({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.qr.get(e)||null}),z_(t).start(),t.Wr.Or()}function p_(t){return f_(t)&&!z_(t).ar()&&t.qr.size>0}function f_(t){return 0===$h(t).Kr.size}function g_(t){t.Gr=void 0}function m_(t){return y_.apply(this,arguments)}function y_(){return(y_=(0,Pa.Z)(function*(t){t.qr.forEach((e,n)=>{u_(t,e)})})).apply(this,arguments)}function __(t,e){return v_.apply(this,arguments)}function v_(){return(v_=(0,Pa.Z)(function*(t,e){g_(t),p_(t)?(t.Wr.Lr(e),d_(t)):t.Wr.set("Unknown")})).apply(this,arguments)}function b_(t,e,n){return w_.apply(this,arguments)}function w_(){return(w_=(0,Pa.Z)(function*(t,e,n){if(t.Wr.set("Online"),e instanceof Af&&2===e.state&&e.cause)try{yield(i=(0,Pa.Z)(function*(t,e){const n=e.cause;for(const i of e.targetIds)t.qr.has(i)&&(yield t.remoteSyncer.rejectListen(i,n),t.qr.delete(i),t.Gr.removeTarget(i))}),function(t,e){return i.apply(this,arguments)})(t,e)}catch(n){qh("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),yield C_(t,n)}else if(e instanceof Ef?t.Gr.rt(e):e instanceof Mf?t.Gr.ft(e):t.Gr.ct(e),!n.isEqual(ld.min()))try{const e=yield cy(t.localStore);n.compareTo(e)>=0&&(yield function(t,e){const n=t.Gr._t(e);return n.targetChanges.forEach((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=t.qr.get(i);r&&t.qr.set(i,r.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(e=>{const n=t.qr.get(e);if(!n)return;t.qr.set(e,n.withResumeToken(yd.EMPTY_BYTE_STRING,n.snapshotVersion)),h_(t,e);const i=new Xg(n.target,e,1,n.sequenceNumber);u_(t,i)}),t.remoteSyncer.applyRemoteEvent(n)}(t,n))}catch(e){qh("RemoteStore","Failed to raise snapshot:",e),yield C_(t,e)}var i})).apply(this,arguments)}function C_(t,e,n){return x_.apply(this,arguments)}function x_(){return(x_=(0,Pa.Z)(function*(t,e,n){if(!Hg(e))throw e;t.Kr.add(1),yield o_(t),t.Wr.set("Offline"),n||(n=()=>cy(t.localStore)),t.asyncQueue.enqueueRetryable((0,Pa.Z)(function*(){qh("RemoteStore","Retrying IndexedDB access"),yield n(),t.Kr.delete(1),yield r_(t)}))})).apply(this,arguments)}function P_(t,e){return e().catch(n=>C_(t,n,e))}function k_(t){return O_.apply(this,arguments)}function O_(){return(O_=(0,Pa.Z)(function*(t){const e=$h(t),n=V_(e);let i=e.Ur.length>0?e.Ur[e.Ur.length-1].batchId:-1;for(;T_(e);)try{const t=yield dy(e.localStore,i);if(null===t){0===e.Ur.length&&n.lr();break}i=t.batchId,I_(e,t)}catch(t){yield C_(e,t)}S_(e)&&E_(e)})).apply(this,arguments)}function T_(t){return f_(t)&&t.Ur.length<10}function I_(t,e){t.Ur.push(e);const n=V_(t);n.cr()&&n.br&&n.Pr(e.mutations)}function S_(t){return f_(t)&&!V_(t).ar()&&t.Ur.length>0}function E_(t){V_(t).start()}function M_(t){return A_.apply(this,arguments)}function A_(){return(A_=(0,Pa.Z)(function*(t){V_(t).Sr()})).apply(this,arguments)}function N_(t){return R_.apply(this,arguments)}function R_(){return(R_=(0,Pa.Z)(function*(t){const e=V_(t);for(const n of t.Ur)e.Pr(n.mutations)})).apply(this,arguments)}function D_(t,e,n){return L_.apply(this,arguments)}function L_(){return(L_=(0,Pa.Z)(function*(t,e,n){const i=t.Ur.shift(),r=Jg.from(i,e,n);yield P_(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield k_(t)})).apply(this,arguments)}function F_(t,e){return U_.apply(this,arguments)}function U_(){return(U_=(0,Pa.Z)(function*(t,e){var n;e&&V_(t).br&&(yield(n=(0,Pa.Z)(function*(t,e){if(hf(n=e.code)&&n!==Gh.ABORTED){const n=t.Ur.shift();V_(t).hr(),yield P_(t,()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e)),yield k_(t)}var n}),function(t,e){return n.apply(this,arguments)})(t,e)),S_(t)&&E_(t)})).apply(this,arguments)}function q_(t,e){return j_.apply(this,arguments)}function j_(){return(j_=(0,Pa.Z)(function*(t,e){const n=$h(t);e?(n.Kr.delete(2),yield r_(n)):e||(n.Kr.add(2),yield o_(n),n.Wr.set("Unknown"))})).apply(this,arguments)}function z_(t){return t.zr||(t.zr=function(t,e,n){const i=$h(t);return i.Cr(),new Xy(e,i.nr,i.credentials,i.N,n)}(t.datastore,t.asyncQueue,{Si:m_.bind(null,t),Ci:__.bind(null,t),Tr:b_.bind(null,t)}),t.jr.push(function(){var e=(0,Pa.Z)(function*(e){e?(t.zr.hr(),p_(t)?d_(t):t.Wr.set("Unknown")):(yield t.zr.stop(),g_(t))});return function(t){return e.apply(this,arguments)}}())),t.zr}function V_(t){return t.Hr||(t.Hr=function(t,e,n){const i=$h(t);return i.Cr(),new t_(e,i.nr,i.credentials,i.N,n)}(t.datastore,t.asyncQueue,{Si:M_.bind(null,t),Ci:F_.bind(null,t),Vr:N_.bind(null,t),vr:D_.bind(null,t)}),t.jr.push(function(){var e=(0,Pa.Z)(function*(e){e?(t.Hr.hr(),yield k_(t)):(yield t.Hr.stop(),t.Ur.length>0&&(qh("RemoteStore",`Stopping write stream with ${t.Ur.length} pending writes`),t.Ur=[]))});return function(t){return e.apply(this,arguments)}}())),t.Hr}class B_{constructor(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new Wh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(t=>{})}static createAndSchedule(t,e,n,i,r){const s=Date.now()+n,o=new B_(t,e,s,i,r);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Zh(Gh.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function H_(t,e){if(jh("AsyncQueue",`${e}: ${t}`),Hg(t))return new Zh(Gh.UNAVAILABLE,`${e}: ${t}`);throw t}class $_{constructor(t){this.comparator=t?(e,n)=>t(e,n)||Id.comparator(e.key,n.key):(t,e)=>Id.comparator(t.key,e.key),this.keyedMap=wf(),this.sortedSet=new pf(this.comparator)}static emptySet(t){return new $_(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof $_))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(!t.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new $_;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class G_{constructor(){this.Jr=new pf(Id.comparator)}track(t){const e=t.doc.key,n=this.Jr.get(e);n?0!==t.type&&3===n.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==n.type?this.Jr=this.Jr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jr=this.Jr.remove(e):1===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):Bh():this.Jr=this.Jr.insert(e,t)}Yr(){const t=[];return this.Jr.inorderTraversal((e,n)=>{t.push(n)}),t}}class Z_{constructor(t,e,n,i,r,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(t,e,n,i){const r=[];return e.forEach(t=>{r.push({type:0,doc:t})}),new Z_(t,e,$_.emptySet(e),r,n,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&xp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0}}class W_{constructor(){this.Xr=void 0,this.listeners=[]}}class K_{constructor(){this.queries=new jm(t=>Pp(t),xp),this.onlineState="Unknown",this.Zr=new Set}}function Y_(t,e){return Q_.apply(this,arguments)}function Q_(){return(Q_=(0,Pa.Z)(function*(t,e){const n=$h(t),i=e.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new W_),r)try{s.Xr=yield n.onListen(i)}catch(t){const n=H_(t,`Initialization of query '${kp(e.query)}' failed`);return void e.onError(n)}n.queries.set(i,s),s.listeners.push(e),e.eo(n.onlineState),s.Xr&&e.no(s.Xr)&&nv(n)})).apply(this,arguments)}function J_(t,e){return X_.apply(this,arguments)}function X_(){return(X_=(0,Pa.Z)(function*(t,e){const n=$h(t),i=e.query;let r=!1;const s=n.queries.get(i);if(s){const t=s.listeners.indexOf(e);t>=0&&(s.listeners.splice(t,1),r=0===s.listeners.length)}if(r)return n.queries.delete(i),n.onUnlisten(i)})).apply(this,arguments)}function tv(t,e){const n=$h(t);let i=!1;for(const r of e){const t=n.queries.get(r.query);if(t){for(const e of t.listeners)e.no(r)&&(i=!0);t.Xr=r}}i&&nv(n)}function ev(t,e,n){const i=$h(t),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(e)}function nv(t){t.Zr.forEach(t=>{t.next()})}class iv{constructor(t,e,n){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}no(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new Z_(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.io?this.oo(t)&&(this.so.next(t),e=!0):this.ao(t,this.onlineState)&&(this.co(t),e=!0),this.ro=t,e}onError(t){this.so.error(t)}eo(t){this.onlineState=t;let e=!1;return this.ro&&!this.io&&this.ao(this.ro,t)&&(this.co(this.ro),e=!0),e}ao(t,e){return!t.fromCache||!(this.options.uo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}oo(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(t){t=Z_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)}}class rv{constructor(t,e){this.payload=t,this.byteLength=e}ho(){return"metadata"in this.payload}}class sv{constructor(t){this.N=t}zn(t){return Zf(this.N,t)}Hn(t){return t.metadata.exists?Xf(this.N,t.document,!1):$d.newNoDocument(this.zn(t.metadata.name),this.Jn(t.metadata.readTime))}Jn(t){return Bf(t)}}class ov{constructor(t,e,n){this.lo=t,this.localStore=e,this.N=n,this.queries=[],this.documents=[],this.progress=av(t)}fo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}wo(t){const e=new Map,n=new sv(this.N);for(const i of t)if(i.metadata.queries){const t=n.zn(i.metadata.name);for(const n of i.metadata.queries){const i=(e.get(n)||kf()).add(t);e.set(n,i)}}return e}complete(){var t=this;return(0,Pa.Z)(function*(){const e=yield function(t,e,n,i){return by.apply(this,arguments)}(t.localStore,new sv(t.N),t.documents,t.lo.id),n=t.wo(t.documents);for(const i of t.queries)yield wy(t.localStore,i,n.get(i.name));return t.progress.taskState="Success",new ty(Object.assign({},t.progress),e)})()}}function av(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class lv{constructor(t){this.key=t}}class cv{constructor(t){this.key=t}}class uv{constructor(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=kf(),this.mutatedKeys=kf(),this.po=Tp(t),this.Eo=new $_(this.po)}get To(){return this._o}Io(t,e){const n=e?e.Ao:new G_,i=e?e.Eo:this.Eo;let r=e?e.mutatedKeys:this.mutatedKeys,s=i,o=!1;const a=gp(this.query)&&i.size===this.query.limit?i.last():null,l=mp(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((t,e)=>{const c=i.get(t),u=Op(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),p=!0):this.Ro(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.po(u,a)>0||l&&this.po(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(o=!0)),p&&(u?(s=s.add(u),r=d?r.add(t):r.delete(t)):(s=s.delete(t),r=r.delete(t)))}),gp(this.query)||mp(this.query))for(;s.size>this.query.limit;){const t=gp(this.query)?s.last():s.first();s=s.delete(t.key),r=r.delete(t.key),n.track({type:1,doc:t})}return{Eo:s,Ao:n,Ln:o,mutatedKeys:r}}Ro(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const i=this.Eo;this.Eo=t.Eo,this.mutatedKeys=t.mutatedKeys;const r=t.Ao.Yr();r.sort((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bh()}};return n(t)-n(e)}(t.type,e.type)||this.po(t.doc,e.doc)),this.bo(n);const s=e?this.Po():[],o=0===this.yo.size&&this.current?1:0,a=o!==this.mo;return this.mo=o,0!==r.length||a?{snapshot:new Z_(this.query,t.Eo,i,r,t.mutatedKeys,0===o,a,!1),vo:s}:{vo:s}}eo(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new G_,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(t){return!this._o.has(t)&&!!this.Eo.has(t)&&!this.Eo.get(t).hasLocalMutations}bo(t){t&&(t.addedDocuments.forEach(t=>this._o=this._o.add(t)),t.modifiedDocuments.forEach(t=>{}),t.removedDocuments.forEach(t=>this._o=this._o.delete(t)),this.current=t.current)}Po(){if(!this.current)return[];const t=this.yo;this.yo=kf(),this.Eo.forEach(t=>{this.Vo(t.key)&&(this.yo=this.yo.add(t.key))});const e=[];return t.forEach(t=>{this.yo.has(t)||e.push(new cv(t))}),this.yo.forEach(n=>{t.has(n)||e.push(new lv(n))}),e}So(t){this._o=t.Gn,this.yo=kf();const e=this.Io(t.documents);return this.applyChanges(e,!0)}Do(){return Z_.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class hv{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class dv{constructor(t){this.key=t,this.Co=!1}}class pv{constructor(t,e,n,i,r,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.No={},this.xo=new jm(t=>Pp(t),xp),this.ko=new Map,this.$o=new Set,this.Oo=new pf(Id.comparator),this.Fo=new Map,this.Mo=new Py,this.Lo={},this.Bo=new Map,this.Uo=Tm.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function fv(t,e){return gv.apply(this,arguments)}function gv(){return(gv=(0,Pa.Z)(function*(t,e){const n=rb(t);let i,r;const s=n.xo.get(e);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.Do();else{const t=yield py(n.localStore,wp(e)),s=n.sharedClientState.addLocalQueryTarget(t.targetId);i=t.targetId,r=yield mv(n,e,i,"current"===s),n.isPrimaryClient&&l_(n.remoteStore,t)}return r})).apply(this,arguments)}function mv(t,e,n,i){return yv.apply(this,arguments)}function yv(){return(yv=(0,Pa.Z)(function*(t,e,n,i){t.Ko=(e,n,i)=>{return(r=(0,Pa.Z)(function*(t,e,n,i){let r=e.view.Io(n);r.Ln&&(r=yield my(t.localStore,e.query,!1).then(({documents:t})=>e.view.Io(t,r)));const s=i&&i.targetChanges.get(e.targetId),o=e.view.applyChanges(r,t.isPrimaryClient,s);return Dv(t,e.targetId,o.vo),o.snapshot}),function(t,e,n,i){return r.apply(this,arguments)})(t,e,n,i);var r};const r=yield my(t.localStore,e,!0),s=new uv(e,r.Gn),o=s.Io(r.documents),a=Sf.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState),l=s.applyChanges(o,t.isPrimaryClient,a);Dv(t,n,l.vo);const c=new hv(e,n,s);return t.xo.set(e,c),t.ko.has(n)?t.ko.get(n).push(e):t.ko.set(n,[e]),l.snapshot})).apply(this,arguments)}function _v(t,e){return vv.apply(this,arguments)}function vv(){return(vv=(0,Pa.Z)(function*(t,e){const n=$h(t),i=n.xo.get(e),r=n.ko.get(i.targetId);if(r.length>1)return n.ko.set(i.targetId,r.filter(t=>!xp(t,e))),void n.xo.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||(yield fy(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),c_(n.remoteStore,i.targetId),Nv(n,i.targetId)}).catch(Am))):(Nv(n,i.targetId),yield fy(n.localStore,i.targetId,!0))})).apply(this,arguments)}function bv(){return(bv=(0,Pa.Z)(function*(t,e,n){const i=sb(t);try{const t=yield function(t,e){const n=$h(t),i=ad.now(),r=e.reduce((t,e)=>t.add(e.key),kf());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",t=>n.Qn.Pn(t,r).next(r=>{s=r;const o=[];for(const t of e){const e=Qp(t,s.get(t.key));null!=e&&o.push(new ef(t.key,e,Hd(e.value.mapValue),Gp.exists(!0)))}return n.In.addMutationBatch(t,i,o,e)})).then(t=>(t.applyToLocalDocumentSet(s),{batchId:t.batchId,changes:s}))}(i.localStore,e);i.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let i=t.Lo[t.currentUser.toKey()];i||(i=new pf(rd)),i=i.insert(e,n),t.Lo[t.currentUser.toKey()]=i}(i,t.batchId,n),yield Uv(i,t.changes),yield k_(i.remoteStore)}catch(t){const e=H_(t,"Failed to persist write");n.reject(e)}})).apply(this,arguments)}function wv(t,e){return Cv.apply(this,arguments)}function Cv(){return(Cv=(0,Pa.Z)(function*(t,e){const n=$h(t);try{const t=yield uy(n.localStore,e);e.targetChanges.forEach((t,e)=>{const i=n.Fo.get(e);i&&(Hh(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?i.Co=!0:t.modifiedDocuments.size>0?Hh(i.Co):t.removedDocuments.size>0&&(Hh(i.Co),i.Co=!1))}),yield Uv(n,t,e)}catch(t){yield Am(t)}})).apply(this,arguments)}function xv(t,e,n){const i=$h(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const t=[];i.xo.forEach((n,i)=>{const r=i.view.eo(e);r.snapshot&&t.push(r.snapshot)}),function(t,e){const n=$h(t);n.onlineState=e;let i=!1;n.queries.forEach((t,n)=>{for(const r of n.listeners)r.eo(e)&&(i=!0)}),i&&nv(n)}(i.eventManager,e),t.length&&i.No.Tr(t),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Pv(t,e,n){return kv.apply(this,arguments)}function kv(){return(kv=(0,Pa.Z)(function*(t,e,n){const i=$h(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Fo.get(e),s=r&&r.key;if(s){let t=new pf(Id.comparator);t=t.insert(s,$d.newNoDocument(s,ld.min()));const n=kf().add(s),r=new If(ld.min(),new Map,new mf(rd),t,n);yield wv(i,r),i.Oo=i.Oo.remove(s),i.Fo.delete(e),Fv(i)}else yield fy(i.localStore,e,!1).then(()=>Nv(i,e,n)).catch(Am)})).apply(this,arguments)}function Ov(t,e){return Tv.apply(this,arguments)}function Tv(){return(Tv=(0,Pa.Z)(function*(t,e){const n=$h(t),i=e.batch.batchId;try{const t=yield ly(n.localStore,e);Av(n,i,null),Mv(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield Uv(n,t)}catch(t){yield Am(t)}})).apply(this,arguments)}function Iv(t,e,n){return Sv.apply(this,arguments)}function Sv(){return(Sv=(0,Pa.Z)(function*(t,e,n){const i=$h(t);try{const t=yield function(t,e){const n=$h(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",t=>{let i;return n.In.lookupMutationBatch(t,e).next(e=>(Hh(null!==e),i=e.keys(),n.In.removeMutationBatch(t,e))).next(()=>n.In.performConsistencyCheck(t)).next(()=>n.Qn.Pn(t,i))})}(i.localStore,e);Av(i,e,n),Mv(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield Uv(i,t)}catch(n){yield Am(n)}})).apply(this,arguments)}function Ev(){return(Ev=(0,Pa.Z)(function*(t,e){const n=$h(t);f_(n.remoteStore)||qh("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const t=yield function(t){const e=$h(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",t=>e.In.getHighestUnacknowledgedBatchId(t))}(n.localStore);if(-1===t)return void e.resolve();const i=n.Bo.get(t)||[];i.push(e),n.Bo.set(t,i)}catch(t){const n=H_(t,"Initialization of waitForPendingWrites() operation failed");e.reject(n)}})).apply(this,arguments)}function Mv(t,e){(t.Bo.get(e)||[]).forEach(t=>{t.resolve()}),t.Bo.delete(e)}function Av(t,e,n){const i=$h(t);let r=i.Lo[i.currentUser.toKey()];if(r){const t=r.get(e);t&&(n?t.reject(n):t.resolve(),r=r.remove(e)),i.Lo[i.currentUser.toKey()]=r}}function Nv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.ko.get(e))t.xo.delete(i),n&&t.No.jo(i,n);t.ko.delete(e),t.isPrimaryClient&&t.Mo.cs(e).forEach(e=>{t.Mo.containsKey(e)||Rv(t,e)})}function Rv(t,e){t.$o.delete(e.path.canonicalString());const n=t.Oo.get(e);null!==n&&(c_(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.Fo.delete(n),Fv(t))}function Dv(t,e,n){for(const i of n)i instanceof lv?(t.Mo.addReference(i.key,e),Lv(t,i)):i instanceof cv?(qh("SyncEngine","Document no longer in limbo: "+i.key),t.Mo.removeReference(i.key,e),t.Mo.containsKey(i.key)||Rv(t,i.key)):Bh()}function Lv(t,e){const n=e.key,i=n.path.canonicalString();t.Oo.get(n)||t.$o.has(i)||(qh("SyncEngine","New document in limbo: "+n),t.$o.add(i),Fv(t))}function Fv(t){for(;t.$o.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){const e=t.$o.values().next().value;t.$o.delete(e);const n=new Id(pd.fromString(e)),i=t.Uo.next();t.Fo.set(i,new dv(n)),t.Oo=t.Oo.insert(n,i),l_(t.remoteStore,new Xg(wp(fp(n.path)),i,2,ed.T))}}function Uv(t,e,n){return qv.apply(this,arguments)}function qv(){return(qv=(0,Pa.Z)(function*(t,e,n){const i=$h(t),r=[],s=[],o=[];var a;i.xo.isEmpty()||(i.xo.forEach((t,a)=>{o.push(i.Ko(a,e,n).then(t=>{if(t){i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),r.push(t);const e=ny.kn(a.targetId,t);s.push(e)}}))}),yield Promise.all(o),i.No.Tr(r),yield(a=(0,Pa.Z)(function*(t,e){const n=$h(t);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",t=>qg.forEach(e,e=>qg.forEach(e.Nn,i=>n.persistence.referenceDelegate.addReference(t,e.targetId,i)).next(()=>qg.forEach(e.xn,i=>n.persistence.referenceDelegate.removeReference(t,e.targetId,i)))))}catch(t){if(!Hg(t))throw t;qh("LocalStore","Failed to update sequence numbers: "+t)}for(const i of e){const t=i.targetId;if(!i.fromCache){const e=n.Un.get(t),i=e.withLastLimboFreeSnapshotVersion(e.snapshotVersion);n.Un=n.Un.insert(t,i)}}}),function(t,e){return a.apply(this,arguments)})(i.localStore,s))})).apply(this,arguments)}function jv(t,e){return zv.apply(this,arguments)}function zv(){return(zv=(0,Pa.Z)(function*(t,e){const n=$h(t);if(!n.currentUser.isEqual(e)){qh("SyncEngine","User change. New user:",e.toKey());const t=yield oy(n.localStore,e);n.currentUser=e,function(t,e){t.Bo.forEach(t=>{t.forEach(t=>{t.reject(new Zh(Gh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Bo.clear()}(n),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),yield Uv(n,t.Wn)}})).apply(this,arguments)}function Vv(t,e){const n=$h(t),i=n.Fo.get(e);if(i&&i.Co)return kf().add(i.key);{let t=kf();const i=n.ko.get(e);if(!i)return t;for(const e of i){const i=n.xo.get(e);t=t.unionWith(i.view.To)}return t}}function Bv(t,e){return Hv.apply(this,arguments)}function Hv(){return(Hv=(0,Pa.Z)(function*(t,e){const n=$h(t),i=yield my(n.localStore,e.query,!0),r=e.view.So(i);return n.isPrimaryClient&&Dv(n,e.targetId,r.vo),r})).apply(this,arguments)}function $v(t){return Gv.apply(this,arguments)}function Gv(){return(Gv=(0,Pa.Z)(function*(t){const e=$h(t);return _y(e.localStore).then(t=>Uv(e,t))})).apply(this,arguments)}function Zv(t,e,n,i){return Wv.apply(this,arguments)}function Wv(){return(Wv=(0,Pa.Z)(function*(t,e,n,i){const r=$h(t),s=yield function(t,e){const n=$h(t),i=$h(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",t=>i.Xt(t,e).next(e=>e?n.Qn.Pn(t,e):qg.resolve(null)))}(r.localStore,e);null!==s?("pending"===n?yield k_(r.remoteStore):"acknowledged"===n||"rejected"===n?(Av(r,e,i||null),Mv(r,e),function(t,e){$h($h(t).In).te(e)}(r.localStore,e)):Bh(),yield Uv(r,s)):qh("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Kv(){return(Kv=(0,Pa.Z)(function*(t,e){const n=$h(t);if(rb(n),sb(n),!0===e&&!0!==n.qo){const t=n.sharedClientState.getAllActiveQueryTargets(),e=yield Yv(n,t.toArray());n.qo=!0,yield q_(n.remoteStore,!0);for(const i of e)l_(n.remoteStore,i)}else if(!1===e&&!1!==n.qo){const t=[];let e=Promise.resolve();n.ko.forEach((i,r)=>{n.sharedClientState.isLocalQueryTarget(r)?t.push(r):e=e.then(()=>(Nv(n,r),fy(n.localStore,r,!0))),c_(n.remoteStore,r)}),yield e,yield Yv(n,t),function(t){const e=$h(t);e.Fo.forEach((t,n)=>{c_(e.remoteStore,n)}),e.Mo.us(),e.Fo=new Map,e.Oo=new pf(Id.comparator)}(n),n.qo=!1,yield q_(n.remoteStore,!1)}})).apply(this,arguments)}function Yv(t,e,n){return Qv.apply(this,arguments)}function Qv(){return(Qv=(0,Pa.Z)(function*(t,e,n){const i=$h(t),r=[],s=[];for(const o of e){let t;const e=i.ko.get(o);if(e&&0!==e.length){t=yield py(i.localStore,wp(e[0]));for(const t of e){const e=i.xo.get(t),n=yield Bv(i,e);n.snapshot&&s.push(n.snapshot)}}else{const e=yield yy(i.localStore,o);t=yield py(i.localStore,e),yield mv(i,Jv(e),o,!1)}r.push(t)}return i.No.Tr(s),r})).apply(this,arguments)}function Jv(t){return pp(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Xv(t){const e=$h(t);return $h($h(e.localStore).persistence).pn()}function tb(t,e,n,i){return eb.apply(this,arguments)}function eb(){return(eb=(0,Pa.Z)(function*(t,e,n,i){const r=$h(t);if(r.qo)qh("SyncEngine","Ignoring unexpected query state notification.");else if(r.ko.has(e))switch(n){case"current":case"not-current":{const t=yield _y(r.localStore),i=If.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield Uv(r,t,i);break}case"rejected":yield fy(r.localStore,e,!0),Nv(r,e,i);break;default:Bh()}})).apply(this,arguments)}function nb(t,e,n){return ib.apply(this,arguments)}function ib(){return(ib=(0,Pa.Z)(function*(t,e,n){const i=rb(t);if(i.qo){for(const t of e){if(i.ko.has(t)){qh("SyncEngine","Adding an already active target "+t);continue}const e=yield yy(i.localStore,t),n=yield py(i.localStore,e);yield mv(i,Jv(e),n.targetId,!1),l_(i.remoteStore,n)}for(const t of n)i.ko.has(t)&&(yield fy(i.localStore,t,!1).then(()=>{c_(i.remoteStore,t),Nv(i,t)}).catch(Am))}})).apply(this,arguments)}function rb(t){const e=$h(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pv.bind(null,e),e.No.Tr=tv.bind(null,e.eventManager),e.No.jo=ev.bind(null,e.eventManager),e}function sb(t){const e=$h(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ov.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Iv.bind(null,e),e}class ob{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Pa.Z)(function*(){e.N=Yy(t.databaseInfo.databaseId),e.sharedClientState=e.Wo(t),e.persistence=e.Go(t),yield e.persistence.start(),e.gcScheduler=e.zo(t),e.localStore=e.Ho(t)})()}zo(t){return null}Ho(t){return sy(this.persistence,new iy,t.initialUser,this.N)}Go(t){return new Ey(Ay.Ns,this.N)}Wo(t){return new Vy}terminate(){var t=this;return(0,Pa.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class ab extends ob{constructor(t,e,n){super(),this.Jo=t,this.cacheSizeBytes=e,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,n=this;return(0,Pa.Z)(function*(){yield e().call(n,t),yield function(t){return vy.apply(this,arguments)}(n.localStore),yield n.Jo.initialize(n,t),yield sb(n.Jo.syncEngine),yield k_(n.Jo.remoteStore),yield n.persistence.nn(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()))})()}Ho(t){return sy(this.persistence,new iy,t.initialUser,this.N)}zo(t){return new Lm(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}Go(t){const e=Xm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?vm.withCacheSize(this.cacheSizeBytes):vm.DEFAULT;return new Ym(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Wy(),Ky(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(t){return new Vy}}class lb extends ab{constructor(t,e){super(t,e,!1),this.Jo=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,n=this;return(0,Pa.Z)(function*(){yield e().call(n,t);const i=n.Jo.syncEngine;n.sharedClientState instanceof zy&&(n.sharedClientState.syncEngine={_i:Zv.bind(null,i),mi:tb.bind(null,i),gi:nb.bind(null,i),pn:Xv.bind(null,i),wi:$v.bind(null,i)},yield n.sharedClientState.start()),yield n.persistence.nn(function(){var t=(0,Pa.Z)(function*(t){yield function(t,e){return Kv.apply(this,arguments)}(n.Jo.syncEngine,t),n.gcScheduler&&(t&&!n.gcScheduler.started?n.gcScheduler.start(n.localStore):t||n.gcScheduler.stop())});return function(e){return t.apply(this,arguments)}}())})()}Wo(t){const e=Wy();if(!zy.bt(e))throw new Zh(Gh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Xm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new zy(e,t.asyncQueue,n,t.clientId,t.initialUser)}}class cb{initialize(t,e){var n=this;return(0,Pa.Z)(function*(){n.localStore||(n.localStore=t.localStore,n.sharedClientState=t.sharedClientState,n.datastore=n.createDatastore(e),n.remoteStore=n.createRemoteStore(e),n.eventManager=n.createEventManager(e),n.syncEngine=n.createSyncEngine(e,!t.synchronizeTabs),n.sharedClientState.onlineStateHandler=t=>xv(n.syncEngine,t,1),n.remoteStore.remoteSyncer.handleCredentialChange=jv.bind(null,n.syncEngine),yield q_(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(t){return new K_}createDatastore(t){const e=Yy(t.databaseInfo.databaseId),n=new Zy(t.databaseInfo);return function(t,e,n){return new e_(t,e,n)}(t.credentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,i=t.asyncQueue,r=t=>xv(this.syncEngine,t,0),s=Hy.bt()?new Hy:new By,new i_(e,n,i,r,s);var e,n,i,r,s}createSyncEngine(t,e){return function(t,e,n,i,r,s,o){const a=new pv(t,e,n,i,r,s);return o&&(a.qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Pa.Z)(function*(t){const e=$h(t);qh("RemoteStore","RemoteStore shutting down."),e.Kr.add(5),yield o_(e),e.Qr.shutdown(),e.Wr.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function ub(t,e=10240){let n=0;return{read:()=>(0,Pa.Z)(function*(){if(n<t.byteLength){const i={value:t.slice(n,n+e),done:!1};return n+=e,i}return{done:!0}})(),cancel:()=>(0,Pa.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class hb{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Yo(this.observer.next,t)}error(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Xo(){this.muted=!0}Yo(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class db{constructor(t,e){this.Zo=t,this.N=e,this.metadata=new Wh,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(t=>{t&&t.ho()?this.metadata.resolve(t.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==t?void 0:t.payload)}`))},t=>this.metadata.reject(t))}close(){return this.Zo.cancel()}getMetadata(){var t=this;return(0,Pa.Z)(function*(){return t.metadata.promise})()}Qo(){var t=this;return(0,Pa.Z)(function*(){return yield t.getMetadata(),t.ea()})()}ea(){var t=this;return(0,Pa.Z)(function*(){const e=yield t.na();if(null===e)return null;const n=t.ta.decode(e),i=Number(n);isNaN(i)&&t.sa(`length string (${n}) is not valid number`);const r=yield t.ia(i);return new rv(JSON.parse(r),e.length+i)})()}ra(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}na(){var t=this;return(0,Pa.Z)(function*(){for(;t.ra()<0&&!(yield t.oa()););if(0===t.buffer.length)return null;const e=t.ra();e<0&&t.sa("Reached the end of bundle when a length string is expected.");const n=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),n})()}ia(t){var e=this;return(0,Pa.Z)(function*(){for(;e.buffer.length<t;)(yield e.oa())&&e.sa("Reached the end of bundle when more is expected.");const n=e.ta.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),n})()}sa(t){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${t}`)}oa(){var t=this;return(0,Pa.Z)(function*(){const e=yield t.Zo.read();if(!e.done){const n=new Uint8Array(t.buffer.length+e.value.length);n.set(t.buffer),n.set(e.value,t.buffer.length),t.buffer=n}return e.done})()}}class pb{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Pa.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Zh(Gh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(i=(0,Pa.Z)(function*(t,e){const n=$h(t),i=Yf(n.N)+"/documents",r={documents:e.map(t=>Gf(n.N,t))},s=yield n.Ki("BatchGetDocuments",i,r),o=new Map;s.forEach(t=>{const e=function(t,e){return"found"in e?function(t,e){Hh(!!e.found);const n=Zf(t,e.found.name),i=Bf(e.found.updateTime),r=new Bd({mapValue:{fields:e.found.fields}});return $d.newFoundDocument(n,i,r)}(t,e):"missing"in e?function(t,e){Hh(!!e.missing),Hh(!!e.readTime);const n=Zf(t,e.missing),i=Bf(e.readTime);return $d.newNoDocument(n,i)}(t,e):Bh()}(n.N,t);o.set(e.key.toString(),e)});const a=[];return e.forEach(t=>{const e=o.get(t.toString());Hh(!!e),a.push(e)}),a}),function(t,e){return i.apply(this,arguments)})(e.datastore,t);var i;return n.forEach(t=>e.recordVersion(t)),n})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())}delete(t){this.write(new of(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Pa.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var n;t.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,n)=>{const i=Id.fromPath(n);t.mutations.push(new af(i,t.precondition(i)))}),yield(n=(0,Pa.Z)(function*(t,e){const n=$h(t),i=Yf(n.N)+"/documents",r={writes:e.map(t=>tg(n.N,t))};yield n.Li("Commit",i,r)}),function(t,e){return n.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Bh();e=ld.min()}const n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Zh(Gh.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Gp.updateTime(e):Gp.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(ld.min()))throw new Zh(Gh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gp.updateTime(e)}return Gp.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class fb{constructor(t,e,n,i){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=i,this.aa=5,this.rr=new Qy(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var t=this;this.rr.Xi((0,Pa.Z)(function*(){const e=new pb(t.datastore),n=t.ua(e);n&&n.then(n=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(n)}).catch(e=>{t.ha(e)}))}).catch(e=>{t.ha(e)})}))}ua(t){try{const e=this.updateFunction(t);return!kd(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ha(t){this.aa>0&&this.la(t)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(t)}la(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!hf(e)}return!1}}class gb{constructor(t,e,n){var i=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Dh.UNAUTHENTICATED,this.clientId=id.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(e,function(){var t=(0,Pa.Z)(function*(t){qh("FirestoreClient","Received user=",t.uid),yield i.credentialListener(t),i.user=t});return function(e){return t.apply(this,arguments)}}())}getConfiguration(){var t=this;return(0,Pa.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,credentials:t.credentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.credentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Zh(Gh.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Wh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Pa.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.credentials.shutdown(),e.resolve()}catch(n){const t=H_(n,"Failed to shutdown persistence");e.reject(t)}})),e.promise}}function mb(t,e){return yb.apply(this,arguments)}function yb(){return(yb=(0,Pa.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),qh("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(function(){var t=(0,Pa.Z)(function*(t){i.isEqual(t)||(yield oy(e.localStore,t),i=t)});return function(e){return t.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e})).apply(this,arguments)}function _b(t,e){return vb.apply(this,arguments)}function vb(){return(vb=(0,Pa.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield bb(t);qh("FirestoreClient","Initializing OnlineComponentProvider");const i=yield t.getConfiguration();yield e.initialize(n,i),t.setCredentialChangeListener(t=>{return(n=(0,Pa.Z)(function*(t,e){const n=$h(t);n.asyncQueue.verifyOperationInProgress(),qh("RemoteStore","RemoteStore received new credentials");const i=f_(n);n.Kr.add(3),yield o_(n),i&&n.Wr.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Kr.delete(3),yield r_(n)}),function(t,e){return n.apply(this,arguments)})(e.remoteStore,t);var n}),t.onlineComponents=e})).apply(this,arguments)}function bb(t){return wb.apply(this,arguments)}function wb(){return(wb=(0,Pa.Z)(function*(t){return t.offlineComponents||(qh("FirestoreClient","Using default OfflineComponentProvider"),yield mb(t,new ob)),t.offlineComponents})).apply(this,arguments)}function Cb(t){return xb.apply(this,arguments)}function xb(){return(xb=(0,Pa.Z)(function*(t){return t.onlineComponents||(qh("FirestoreClient","Using default OnlineComponentProvider"),yield _b(t,new cb)),t.onlineComponents})).apply(this,arguments)}function Pb(t){return bb(t).then(t=>t.persistence)}function kb(t){return bb(t).then(t=>t.localStore)}function Ob(t){return Cb(t).then(t=>t.remoteStore)}function Tb(t){return Cb(t).then(t=>t.syncEngine)}function Ib(t){return Sb.apply(this,arguments)}function Sb(){return(Sb=(0,Pa.Z)(function*(t){const e=yield Cb(t),n=e.eventManager;return n.onListen=fv.bind(null,e.syncEngine),n.onUnlisten=_v.bind(null,e.syncEngine),n})).apply(this,arguments)}function Eb(t,e,n={}){const i=new Wh;return t.asyncQueue.enqueueAndForget((0,Pa.Z)(function*(){return function(t,e,n,i,r){const s=new hb({next:s=>{e.enqueueAndForget(()=>J_(t,o));const a=s.docs.has(n);!a&&s.fromCache?r.reject(new Zh(Gh.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&i&&"server"===i.source?r.reject(new Zh(Gh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:t=>r.reject(t)}),o=new iv(fp(n.path),s,{includeMetadataChanges:!0,uo:!0});return Y_(t,o)}(yield Ib(t),t.asyncQueue,e,n,i)})),i.promise}function Mb(t,e,n={}){const i=new Wh;return t.asyncQueue.enqueueAndForget((0,Pa.Z)(function*(){return function(t,e,n,i,r){const s=new hb({next:n=>{e.enqueueAndForget(()=>J_(t,o)),n.fromCache&&"server"===i.source?r.reject(new Zh(Gh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:t=>r.reject(t)}),o=new iv(n,s,{includeMetadataChanges:!0,uo:!0});return Y_(t,o)}(yield Ib(t),t.asyncQueue,e,n,i)})),i.promise}class Ab{constructor(t,e,n,i,r,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Nb{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Nb&&t.projectId===this.projectId&&t.database===this.database}}const Rb=new Map;function Db(t,e,n){if(!n)throw new Zh(Gh.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Lb(t,e,n,i){if(!0===e&&!0===i)throw new Zh(Gh.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Fb(t){if(!Id.isDocumentKey(t))throw new Zh(Gh.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ub(t){if(Id.isDocumentKey(t))throw new Zh(Gh.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qb(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":Bh()}function jb(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Zh(Gh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qb(t);throw new Zh(Gh.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function zb(t,e){if(e<=0)throw new Zh(Gh.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class Vb{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Zh(Gh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Zh(Gh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Lb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Bb{constructor(t,e){this._credentials=e,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vb({}),this._settingsFrozen=!1,t instanceof Nb?this._databaseId=t:(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Zh(Gh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nb(t.options.projectId)}(t))}get app(){if(!this._app)throw new Zh(Gh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Zh(Gh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vb(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Yh;switch(t.type){case"gapi":const e=t.client;return Hh(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new td(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Zh(Gh.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Rb.get(t);e&&(qh("ComponentProvider","Removing Datastore"),Rb.delete(t),e.terminate())}(this),Promise.resolve()}}class Hb{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gb(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Hb(this.firestore,t,this._key)}}class $b{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new $b(this.firestore,t,this._query)}}class Gb extends $b{constructor(t,e,n){super(t,e,fp(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Hb(this.firestore,null,new Id(t))}withConverter(t){return new Gb(this.firestore,t,this._path)}}function Zb(t,e,...n){if(t=(0,Ia.m9)(t),Db("collection","path",e),t instanceof Bb){const i=pd.fromString(e,...n);return Ub(i),new Gb(t,null,i)}{if(!(t instanceof Hb||t instanceof Gb))throw new Zh(Gh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(pd.fromString(e,...n));return Ub(i),new Gb(t.firestore,null,i)}}function Wb(t,e,...n){if(t=(0,Ia.m9)(t),1===arguments.length&&(e=id.I()),Db("doc","path",e),t instanceof Bb){const i=pd.fromString(e,...n);return Fb(i),new Hb(t,null,new Id(i))}{if(!(t instanceof Hb||t instanceof Gb))throw new Zh(Gh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(pd.fromString(e,...n));return Fb(i),new Hb(t.firestore,t instanceof Gb?t.converter:null,new Id(i))}}function Kb(t,e){return t=(0,Ia.m9)(t),e=(0,Ia.m9)(e),(t instanceof Hb||t instanceof Gb)&&(e instanceof Hb||e instanceof Gb)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Yb(t,e){return t=(0,Ia.m9)(t),e=(0,Ia.m9)(e),t instanceof $b&&e instanceof $b&&t.firestore===e.firestore&&xp(t._query,e._query)&&t.converter===e.converter}class Qb{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Qy(this,"async_queue_retry"),this.Ea=()=>{const t=Ky();t&&qh("AsyncQueue","Visibility state changed to "+t.visibilityState),this.rr.tr()};const t=Ky();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ta(),this.Ia(t)}enterRestrictedMode(t){if(!this.wa){this.wa=!0,this.ya=t||!1;const e=Ky();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ea)}}enqueue(t){if(this.Ta(),this.wa)return new Promise(()=>{});const e=new Wh;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.da.push(t),this.Aa()))}Aa(){var t=this;return(0,Pa.Z)(function*(){if(0!==t.da.length){try{yield t.da[0](),t.da.shift(),t.rr.reset()}catch(e){if(!Hg(e))throw e;qh("AsyncQueue","Operation failed with retryable error: "+e)}t.da.length>0&&t.rr.Xi(()=>t.Aa())}})()}Ia(t){const e=this.fa.then(()=>(this.ga=!0,t().catch(t=>{throw this.ma=t,this.ga=!1,jh("INTERNAL UNHANDLED ERROR: ",function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(t=>(this.ga=!1,t))));return this.fa=e,e}enqueueAfterDelay(t,e,n){this.Ta(),this.pa.indexOf(t)>-1&&(e=0);const i=B_.createAndSchedule(this,t,e,n,t=>this.Ra(t));return this._a.push(i),i}Ta(){this.ma&&Bh()}verifyOperationInProgress(){}ba(){var t=this;return(0,Pa.Z)(function*(){let e;do{e=t.fa,yield e}while(e!==t.fa)})()}Pa(t){for(const e of this._a)if(e.timerId===t)return!0;return!1}va(t){return this.ba().then(()=>{this._a.sort((t,e)=>t.targetTimeMs-e.targetTimeMs);for(const e of this._a)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.ba()})}Va(t){this.pa.push(t)}Ra(t){const e=this._a.indexOf(t);this._a.splice(e,1)}}function Jb(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const i of["next","error","complete"])if(i in n&&"function"==typeof n[i])return!0;return!1}(t)}class Xb{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,n){this._progressObserver={next:t,error:e,complete:n}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class tw extends Bb{constructor(t,e){super(t,e),this.type="firestore",this._queue=new Qb,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||nw(this),this._firestoreClient.terminate()}}function ew(t){return t._firestoreClient||nw(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function nw(t){var e;const n=t._freezeSettings(),i=function(t,e,n,i){return new Ab(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new gb(t._credentials,t._queue,i)}function iw(t,e,n){const i=new Wh;return t.asyncQueue.enqueue((0,Pa.Z)(function*(){try{yield mb(t,n),yield _b(t,e),i.resolve()}catch(t){if(!function(t){return"FirebaseError"===t.name?t.code===Gh.FAILED_PRECONDITION||t.code===Gh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(t))throw t;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),i.reject(t)}})).then(()=>i.promise)}function rw(t){if(t._initialized||t._terminated)throw new Zh(Gh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class sw{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Zh(Gh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gd(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ow{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ow(yd.fromBase64String(t))}catch(t){throw new Zh(Gh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new ow(yd.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class aw{constructor(t){this._methodName=t}}class lw{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Zh(Gh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Zh(Gh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return rd(this._lat,t._lat)||rd(this._long,t._long)}}const cw=/^__.*__$/;class uw{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new ef(t,this.data,this.fieldMask,e,this.fieldTransforms):new tf(t,this.data,e,this.fieldTransforms)}}class hw{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new ef(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function dw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bh()}}class pw{constructor(t,e,n,i,r,s){this.settings=t,this.databaseId=e,this.N=n,this.ignoreUndefinedProperties=i,void 0===r&&this.Sa(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(t){return new pw(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Ca({path:n,xa:!1});return i.ka(t),i}$a(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Ca({path:n,xa:!1});return i.Sa(),i}Oa(t){return this.Ca({path:void 0,xa:!0})}Fa(t){return Nw(t,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Sa(){if(this.path)for(let t=0;t<this.path.length;t++)this.ka(this.path.get(t))}ka(t){if(0===t.length)throw this.Fa("Document fields must not be empty");if(dw(this.Da)&&cw.test(t))throw this.Fa('Document fields cannot begin and end with "__"')}}class fw{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.N=n||Yy(t)}Ba(t,e,n,i=!1){return new pw({Da:t,methodName:e,La:n,path:gd.emptyPath(),xa:!1,Ma:i},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function gw(t){const e=t._freezeSettings(),n=Yy(t._databaseId);return new fw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mw(t,e,n,i,r,s={}){const o=t.Ba(s.merge||s.mergeFields?2:0,e,n,r);Sw("Data must be an object, but it was:",o,i);const a=Tw(i,o);let l,c;if(s.merge)l=new md(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const i of s.mergeFields){const r=Ew(e,i,n);if(!o.contains(r))throw new Zh(Gh.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);Rw(t,r)||t.push(r)}l=new md(t),c=o.fieldTransforms.filter(t=>l.covers(t.field))}else l=null,c=o.fieldTransforms;return new uw(new Bd(a),l,c)}class yw extends aw{_toFieldTransform(t){if(2!==t.Da)throw t.Fa(1===t.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof yw}}function _w(t,e,n){return new pw({Da:3,La:e.settings.La,methodName:t._methodName,xa:n},e.databaseId,e.N,e.ignoreUndefinedProperties)}class vw extends aw{_toFieldTransform(t){return new Hp(t.path,new Lp)}isEqual(t){return t instanceof vw}}class bw extends aw{constructor(t,e){super(t),this.Ua=e}_toFieldTransform(t){const e=_w(this,t,!0),n=this.Ua.map(t=>Ow(t,e)),i=new Fp(n);return new Hp(t.path,i)}isEqual(t){return this===t}}class ww extends aw{constructor(t,e){super(t),this.Ua=e}_toFieldTransform(t){const e=_w(this,t,!0),n=this.Ua.map(t=>Ow(t,e)),i=new qp(n);return new Hp(t.path,i)}isEqual(t){return this===t}}class Cw extends aw{constructor(t,e){super(t),this.qa=e}_toFieldTransform(t){const e=new zp(t.N,Mp(t.N,this.qa));return new Hp(t.path,e)}isEqual(t){return this===t}}function xw(t,e,n,i){const r=t.Ba(1,e,n);Sw("Data must be an object, but it was:",r,i);const s=[],o=Bd.empty();ud(i,(t,i)=>{const a=Aw(e,t,n);i=(0,Ia.m9)(i);const l=r.$a(a);if(i instanceof yw)s.push(a);else{const t=Ow(i,l);null!=t&&(s.push(a),o.set(a,t))}});const a=new md(s);return new hw(o,a,r.fieldTransforms)}function Pw(t,e,n,i,r,s){const o=t.Ba(1,e,n),a=[Ew(e,i,n)],l=[r];if(s.length%2!=0)throw new Zh(Gh.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Ew(e,s[d])),l.push(s[d+1]);const c=[],u=Bd.empty();for(let d=a.length-1;d>=0;--d)if(!Rw(c,a[d])){const t=a[d];let e=l[d];e=(0,Ia.m9)(e);const n=o.$a(t);if(e instanceof yw)c.push(t);else{const i=Ow(e,n);null!=i&&(c.push(t),u.set(t,i))}}const h=new md(c);return new hw(u,h,o.fieldTransforms)}function kw(t,e,n,i=!1){return Ow(n,t.Ba(i?4:3,e))}function Ow(t,e){if(Iw(t=(0,Ia.m9)(t)))return Sw("Unsupported field value:",e,t),Tw(t,e);if(t instanceof aw)return function(t,e){if(!dw(e.Da))throw e.Fa(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.Fa(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xa&&4!==e.Da)throw e.Fa("Nested arrays are not supported");return function(t,e){const n=[];let i=0;for(const r of t){let t=Ow(r,e.Oa(i));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,Ia.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Mp(e.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=ad.fromDate(t);return{timestampValue:jf(e.N,n)}}if(t instanceof ad){const n=new ad(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:jf(e.N,n)}}if(t instanceof lw)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ow)return{bytesValue:zf(e.N,t._byteString)};if(t instanceof Hb){const n=e.databaseId,i=t.firestore._databaseId;if(!i.isEqual(n))throw e.Fa(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Hf(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Fa(`Unsupported field value: ${qb(t)}`)}(t,e)}function Tw(t,e){const n={};return hd(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ud(t,(t,i)=>{const r=Ow(i,e.Na(t));null!=r&&(n[t]=r)}),{mapValue:{fields:n}}}function Iw(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ad||t instanceof lw||t instanceof ow||t instanceof Hb||t instanceof aw)}function Sw(t,e,n){if(!Iw(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const i=qb(n);throw e.Fa("an object"===i?t+" a custom object":t+" "+i)}}function Ew(t,e,n){if((e=(0,Ia.m9)(e))instanceof sw)return e._internalPath;if("string"==typeof e)return Aw(t,e);throw Nw("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}const Mw=new RegExp("[~\\*/\\[\\]]");function Aw(t,e,n){if(e.search(Mw)>=0)throw Nw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sw(...e.split("."))._internalPath}catch(i){throw Nw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nw(t,e,n,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new Zh(Gh.INVALID_ARGUMENT,a+t+l)}function Rw(t,e){return t.some(t=>t.isEqual(e))}class Dw{constructor(t,e,n,i,r){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Hb(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Lw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Fw("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Lw extends Dw{data(){return super.data()}}function Fw(t,e){return"string"==typeof e?Aw(t,e):e instanceof sw?e._internalPath:e._delegate._internalPath}class Uw{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qw extends Dw{constructor(t,e,n,i,r,s){super(t,e,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new jw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(Fw("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class jw extends qw{data(t={}){return super.data(t)}}class zw{constructor(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Uw(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new jw(this._firestore,this._userDataWriter,n.key,n,new Uw(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Zh(Gh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map(n=>({type:"added",doc:new jw(t._firestore,t._userDataWriter,n.doc.key,n.doc,new Uw(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:e++}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(t=>e||3!==t.type).map(e=>{const i=new jw(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Uw(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let r=-1,s=-1;return 0!==e.type&&(r=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:Vw(e.type),doc:i,oldIndex:r,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Vw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bh()}}function Bw(t,e){return t instanceof qw&&e instanceof qw?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof zw&&e instanceof zw&&t._firestore===e._firestore&&Yb(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Hw(t){if(mp(t)&&0===t.explicitOrderBy.length)throw new Zh(Gh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $w{}function Gw(t,...e){for(const n of e)t=n._apply(t);return t}class Zw extends $w{constructor(t,e,n){super(),this.Ka=t,this.ja=e,this.Qa=n,this.type="where"}_apply(t){const e=gw(t.firestore),n=function(t,e,n,i,r,s,o){let a;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Zh(Gh.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on FieldPath.documentId().`);if("in"===s||"not-in"===s){tC(o,s);const e=[];for(const n of o)e.push(Xw(i,t,n));a={arrayValue:{values:e}}}else a=Xw(i,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||tC(o,s),a=kw(n,"where",o,"in"===s||"not-in"===s);const l=Qd.create(r,s,a);return function(t,e){if(e.v()){const n=_p(t);if(null!==n&&!n.isEqual(e.field))throw new Zh(Gh.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${e.field.toString()}'`);const i=yp(t);null!==i&&eC(0,e.field,i)}const n=function(t,e){for(const n of t.filters)if(e.indexOf(n.op)>=0)return n.op;return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Zh(Gh.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}(t,l),l}(t._query,0,e,t.firestore._databaseId,this.Ka,this.ja,this.Qa);return new $b(t.firestore,t.converter,function(t,e){const n=t.filters.concat([e]);return new dp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))}}class Ww extends $w{constructor(t,e){super(),this.Ka=t,this.Wa=e,this.type="orderBy"}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new Zh(Gh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Zh(Gh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const i=new lp(e,n);return function(t,e){if(null===yp(t)){const n=_p(t);null!==n&&eC(0,n,e.field)}}(t,i),i}(t._query,this.Ka,this.Wa);return new $b(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new dp(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}class Kw extends $w{constructor(t,e,n){super(),this.type=t,this.Ga=e,this.za=n}_apply(t){return new $b(t.firestore,t.converter,Cp(t._query,this.Ga,this.za))}}class Yw extends $w{constructor(t,e,n){super(),this.type=t,this.Ha=e,this.Ja=n}_apply(t){const e=Jw(t,this.type,this.Ha,this.Ja);return new $b(t.firestore,t.converter,function(t,e){return new dp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))}}class Qw extends $w{constructor(t,e,n){super(),this.type=t,this.Ha=e,this.Ja=n}_apply(t){const e=Jw(t,this.type,this.Ha,this.Ja);return new $b(t.firestore,t.converter,function(t,e){return new dp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))}}function Jw(t,e,n,i){if(n[0]=(0,Ia.m9)(n[0]),n[0]instanceof Dw)return function(t,e,n,i,r){if(!i)throw new Zh(Gh.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of bp(t))if(o.field.isKeyField())s.push(Ld(e,i.key));else{const t=i.data.field(o.field);if(Cd(t))throw new Zh(Gh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===t){const t=o.field.canonicalString();throw new Zh(Gh.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${t}' (used as the orderBy) does not exist.`)}s.push(t)}return new op(s,r)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const r=gw(t.firestore);return function(t,e,n,i,r,s){const o=t.explicitOrderBy;if(r.length>o.length)throw new Zh(Gh.INVALID_ARGUMENT,`Too many arguments provided to ${i}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<r.length;l++){const s=r[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new Zh(Gh.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${i}(), but got a ${typeof s}`);if(!vp(t)&&-1!==s.indexOf("/"))throw new Zh(Gh.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${i}() must be a plain document ID, but '${s}' contains a slash.`);const n=t.path.child(pd.fromString(s));if(!Id.isDocumentKey(n))throw new Zh(Gh.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${i}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const r=new Id(n);a.push(Ld(e,r))}else{const t=kw(n,i,s);a.push(t)}}return new op(a,s)}(t._query,t.firestore._databaseId,r,e,n,i)}}function Xw(t,e,n){if("string"==typeof(n=(0,Ia.m9)(n))){if(""===n)throw new Zh(Gh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!vp(e)&&-1!==n.indexOf("/"))throw new Zh(Gh.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(pd.fromString(n));if(!Id.isDocumentKey(i))throw new Zh(Gh.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ld(t,new Id(i))}if(n instanceof Hb)return Ld(t,n._key);throw new Zh(Gh.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${qb(n)}.`)}function tC(t,e){if(!Array.isArray(t)||0===t.length)throw new Zh(Gh.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new Zh(Gh.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function eC(t,e,n){if(!n.isEqual(e))throw new Zh(Gh.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class nC{convertValue(t,e="none"){switch(Sd(t)){case 0:return null;case 1:return t.booleanValue;case 2:return bd(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(wd(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Bh()}}convertObject(t,e){const n={};return ud(t.fields,(t,i)=>{n[t]=this.convertValue(i,e)}),n}convertGeoPoint(t){return new lw(bd(t.latitude),bd(t.longitude))}convertArray(t,e){return(t.values||[]).map(t=>this.convertValue(t,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=xd(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Pd(t));default:return null}}convertTimestamp(t){const e=vd(t);return new ad(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=pd.fromString(t);Hh(gg(n));const i=new Nb(n.get(1),n.get(3)),r=new Id(n.popFirst(5));return i.isEqual(e)||jh(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),r}}function iC(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class rC extends nC{constructor(t){super(),this.firestore=t}convertBytes(t){return new ow(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Hb(this.firestore,null,e)}}class sC{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=gw(t)}set(t,e,n){this._verifyNotCommitted();const i=oC(t,this._firestore),r=iC(i.converter,e,n),s=mw(this._dataReader,"WriteBatch.set",i._key,r,null!==i.converter,n);return this._mutations.push(s.toMutation(i._key,Gp.none())),this}update(t,e,n,...i){this._verifyNotCommitted();const r=oC(t,this._firestore);let s;return s="string"==typeof(e=(0,Ia.m9)(e))||e instanceof sw?Pw(this._dataReader,"WriteBatch.update",r._key,e,n,i):xw(this._dataReader,"WriteBatch.update",r._key,e),this._mutations.push(s.toMutation(r._key,Gp.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=oC(t,this._firestore);return this._mutations=this._mutations.concat(new of(e._key,Gp.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Zh(Gh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function oC(t,e){if((t=(0,Ia.m9)(t)).firestore!==e)throw new Zh(Gh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class aC extends nC{constructor(t){super(),this.firestore=t}convertBytes(t){return new ow(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Hb(this.firestore,null,e)}}function lC(t,e,n){t=jb(t,Hb);const i=jb(t.firestore,tw),r=iC(t.converter,e,n);return hC(i,[mw(gw(i),"setDoc",t._key,r,null!==t.converter,n).toMutation(t._key,Gp.none())])}function cC(t,e,n,...i){t=jb(t,Hb);const r=jb(t.firestore,tw),s=gw(r);let o;return o="string"==typeof(e=(0,Ia.m9)(e))||e instanceof sw?Pw(s,"updateDoc",t._key,e,n,i):xw(s,"updateDoc",t._key,e),hC(r,[o.toMutation(t._key,Gp.exists(!0))])}function uC(t,...e){var n,i,r;t=(0,Ia.m9)(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Jb(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Jb(e[o])){const t=e[o];e[o]=null===(n=t.next)||void 0===n?void 0:n.bind(t),e[o+1]=null===(i=t.error)||void 0===i?void 0:i.bind(t),e[o+2]=null===(r=t.complete)||void 0===r?void 0:r.bind(t)}let l,c,u;if(t instanceof Hb)c=jb(t.firestore,tw),u=fp(t._key.path),l={next:n=>{e[o]&&e[o](dC(c,t,n))},error:e[o+1],complete:e[o+2]};else{const n=jb(t,$b);c=jb(n.firestore,tw),u=n._query;const i=new aC(c);l={next:t=>{e[o]&&e[o](new zw(c,i,n,t))},error:e[o+1],complete:e[o+2]},Hw(t._query)}return function(t,e,n,i){const r=new hb(i),s=new iv(e,r,n);return t.asyncQueue.enqueueAndForget((0,Pa.Z)(function*(){return Y_(yield Ib(t),s)})),()=>{r.Xo(),t.asyncQueue.enqueueAndForget((0,Pa.Z)(function*(){return J_(yield Ib(t),s)}))}}(ew(c),u,a,l)}function hC(t,e){return function(t,e){const n=new Wh;return t.asyncQueue.enqueueAndForget((0,Pa.Z)(function*(){return function(t,e,n){return bv.apply(this,arguments)}(yield Tb(t),e,n)})),n.promise}(ew(t),e)}function dC(t,e,n){const i=n.docs.get(e._key),r=new aC(t);return new qw(t,r,e._key,i,new Uw(n.hasPendingWrites,n.fromCache),e.converter)}class pC extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=gw(t)}get(t){const e=oC(t,this._firestore),n=new rC(this._firestore);return this._transaction.lookup([e._key]).then(t=>{if(!t||1!==t.length)return Bh();const i=t[0];if(i.isFoundDocument())return new Dw(this._firestore,n,i.key,i,e.converter);if(i.isNoDocument())return new Dw(this._firestore,n,e._key,null,e.converter);throw Bh()})}set(t,e,n){const i=oC(t,this._firestore),r=iC(i.converter,e,n),s=mw(this._dataReader,"Transaction.set",i._key,r,null!==i.converter,n);return this._transaction.set(i._key,s),this}update(t,e,n,...i){const r=oC(t,this._firestore);let s;return s="string"==typeof(e=(0,Ia.m9)(e))||e instanceof sw?Pw(this._dataReader,"Transaction.update",r._key,e,n,i):xw(this._dataReader,"Transaction.update",r._key,e),this._transaction.update(r._key,s),this}delete(t){const e=oC(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=oC(t,this._firestore),n=new aC(this._firestore);return super.get(t).then(t=>new qw(this._firestore,n,e._key,t._document,new Uw(!1,!1),e.converter))}}function fC(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Zh("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function gC(){if("undefined"==typeof Uint8Array)throw new Zh("unimplemented","Uint8Arrays are not available in this environment.")}function mC(){if("undefined"==typeof atob)throw new Zh("unimplemented","Blobs are unavailable in Firestore in this environment.")}Lh=ka.SDK_VERSION,(0,ka._registerComponent)(new Oa.wA("firestore",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),i=new tw(n,new Jh(t.getProvider("auth-internal")));return e=Object.assign({useFetchStreams:!0},e),i._setSettings(e),i},"PUBLIC")),(0,ka.registerVersion)("@firebase/firestore","3.1.0",void 0);class yC{constructor(t){this._delegate=t}static fromBase64String(t){return mC(),new yC(ow.fromBase64String(t))}static fromUint8Array(t){return gC(),new yC(ow.fromUint8Array(t))}toBase64(){return mC(),this._delegate.toBase64()}toUint8Array(){return gC(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function _C(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const i of["next","error","complete"])if(i in n&&"function"==typeof n[i])return!0;return!1}(t)}class vC{enableIndexedDbPersistence(t,e){return function(t,e){rw(t=jb(t,tw));const n=ew(t),i=t._freezeSettings(),r=new cb;return iw(n,r,new ab(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function(t){rw(t=jb(t,tw));const e=ew(t),n=t._freezeSettings(),i=new cb;return iw(e,i,new lb(i,n.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function(t){if(t._initialized&&!t._terminated)throw new Zh(Gh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Wh;return t._queue.enqueueAndForgetEvenWhileRestricted((0,Pa.Z)(function*(){try{yield(n=(0,Pa.Z)(function*(t){if(!zg.bt())return Promise.resolve();const e=t+"main";yield zg.delete(e)}),function(t){return n.apply(this,arguments)})(Xm(t._databaseId,t._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var n})),e.promise}(t._delegate)}}class bC{constructor(t,e,n){this._delegate=e,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},t instanceof Nb||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();t.merge||e.host===t.host||zh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,n={}){!function(t,e,n,i={}){var r;const s=(t=jb(t,Bb))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&zh("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),i.mockUserToken){let e,n;if("string"==typeof i.mockUserToken)e=i.mockUserToken,n=Dh.MOCK_USER;else{e=(0,Ia.Sg)(i.mockUserToken,null===(r=t._app)||void 0===r?void 0:r.options.projectId);const s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Zh(Gh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Dh(s)}t._credentials=new Qh(new Kh(e,n))}}(this._delegate,t,e,n)}enableNetwork(){return function(t){return t.asyncQueue.enqueue((0,Pa.Z)(function*(){const e=yield Pb(t),n=yield Ob(t);return e.setNetworkEnabled(!0),function(t){const e=$h(t);return e.Kr.delete(0),r_(e)}(n)}))}(ew(jb(this._delegate,tw)))}disableNetwork(){return function(t){return t.asyncQueue.enqueue((0,Pa.Z)(function*(){const e=yield Pb(t),n=yield Ob(t);return e.setNetworkEnabled(!1),(i=(0,Pa.Z)(function*(t){const e=$h(t);e.Kr.add(0),yield o_(e),e.Wr.set("Offline")}),function(t){return i.apply(this,arguments)})(n);var i}))}(ew(jb(this._delegate,tw)))}enablePersistence(t){let e=!1,n=!1;return t&&(e=!!t.synchronizeTabs,n=!!t.experimentalForceOwningTab,Lb("synchronizeTabs",e,"experimentalForceOwningTab",n)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(t){const e=new Wh;return t.asyncQueue.enqueueAndForget((0,Pa.Z)(function*(){return function(t,e){return Ev.apply(this,arguments)}(yield Tb(t),e)})),e.promise}(ew(jb(this._delegate,tw)))}onSnapshotsInSync(t){return e=t,function(t,e){const n=new hb(e);return t.asyncQueue.enqueueAndForget((0,Pa.Z)(function*(){return function(t,e){$h(t).Zr.add(e),e.next()}(yield Ib(t),n)})),()=>{n.Xo(),t.asyncQueue.enqueueAndForget((0,Pa.Z)(function*(){return function(t,e){$h(t).Zr.delete(e)}(yield Ib(t),n)}))}}(ew(jb(this._delegate,tw)),Jb(e)?e:{next:e});var e}get app(){if(!this._appCompat)throw new Zh("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new RC(this,Zb(this._delegate,t))}catch(e){throw OC(e,"collection()","Firestore.collection()")}}doc(t){try{return new kC(this,Wb(this._delegate,t))}catch(e){throw OC(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new MC(this,function(t,e){if(t=jb(t,Bb),Db("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Zh(Gh.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $b(t,null,function(t){return new dp(pd.emptyPath(),t)}(e))}(this._delegate,t))}catch(e){throw OC(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return n=e=>t(new CC(this,e)),function(t,e){const n=new Wh;return t.asyncQueue.enqueueAndForget((0,Pa.Z)(function*(){const i=yield function(t){return Cb(t).then(t=>t.datastore)}(t);new fb(t.asyncQueue,i,e,n).run()})),n.promise}(ew(e=this._delegate),t=>n(new pC(e,t)));var e,n}batch(){return ew(this._delegate),new xC(new sC(this._delegate,t=>hC(this._delegate,t)))}loadBundle(t){return function(t,e){const n=ew(t=jb(t,tw)),i=new Xb;return function(t,e,n,i){const r=function(t,e){let n;return n="string"==typeof t?(new TextEncoder).encode(t):t,function(t,e){return new db(t,e)}(function(t,e){if(t instanceof Uint8Array)return ub(t,e);if(t instanceof ArrayBuffer)return ub(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),e)}(n,Yy(e));t.asyncQueue.enqueueAndForget((0,Pa.Z)(function*(){!function(t,e,n){const i=$h(t);var r;(r=(0,Pa.Z)(function*(t,e,n){try{const i=yield e.getMetadata();if(yield function(t,e){const n=$h(t),i=Bf(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",t=>n.Je.getBundleMetadata(t,e.id)).then(t=>!!t&&t.createTime.compareTo(i)>=0)}(t.localStore,i))return yield e.close(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(i));n._updateProgress(av(i));const r=new ov(i,t.localStore,e.N);let s=yield e.Qo();for(;s;){const t=yield r.fo(s);t&&n._updateProgress(t),s=yield e.Qo()}const o=yield r.complete();yield Uv(t,o.Tn,void 0),yield function(t,e){const n=$h(t);return n.persistence.runTransaction("Save bundle","readwrite",t=>n.Je.saveBundleMetadata(t,e))}(t.localStore,i),n._completeWith(o.progress)}catch(t){zh("SyncEngine",`Loading bundle failed with ${t}`),n._failWith(t)}}),function(t,e,n){return r.apply(this,arguments)})(i,e,n).then(()=>{i.sharedClientState.notifyBundleLoaded()})}(yield Tb(t),r,i)}))}(n,t._databaseId,e,i),i}(this._delegate,t)}namedQuery(t){return(e=this._delegate,n=t,function(t,e){return t.asyncQueue.enqueue((0,Pa.Z)(function*(){return function(t,e){const n=$h(t);return n.persistence.runTransaction("Get named query","readonly",t=>n.Je.getNamedQuery(t,e))}(yield kb(t),e)}))}(ew(e=jb(e,tw)),n).then(t=>t?new $b(e,null,t.query):null)).then(t=>t?new MC(this,t):null);var e,n}}class wC extends nC{constructor(t){super(),this.firestore=t}convertBytes(t){return new yC(new ow(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return kC.forKey(e,this.firestore,null)}}class CC{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new wC(t)}get(t){const e=DC(t);return this._delegate.get(e).then(t=>new SC(this._firestore,new qw(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,e.converter)))}set(t,e,n){const i=DC(t);return n?(fC("Transaction.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this}update(t,e,n,...i){const r=DC(t);return 2===arguments.length?this._delegate.update(r,e):this._delegate.update(r,e,n,...i),this}delete(t){const e=DC(t);return this._delegate.delete(e),this}}class xC{constructor(t){this._delegate=t}set(t,e,n){const i=DC(t);return n?(fC("WriteBatch.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this}update(t,e,n,...i){const r=DC(t);return 2===arguments.length?this._delegate.update(r,e):this._delegate.update(r,e,n,...i),this}delete(t){const e=DC(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}let PC=(()=>{class t{constructor(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}fromFirestore(t,e){const n=new jw(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new EC(this._firestore,n),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(e,n){const i=t.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(n);return s||(s=new t(e,new wC(e),n),r.set(n,s)),s}}return t.INSTANCES=new WeakMap,t})();class kC{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new wC(t)}static forPath(t,e,n){if(t.length%2!=0)throw new Zh("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new kC(e,new Hb(e._delegate,n,new Id(t)))}static forKey(t,e,n){return new kC(e,new Hb(e._delegate,n,t))}get id(){return this._delegate.id}get parent(){return new RC(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new RC(this.firestore,Zb(this._delegate,t))}catch(e){throw OC(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Ia.m9)(t))instanceof Hb&&Kb(this._delegate,t)}set(t,e){e=fC("DocumentReference.set",e);try{return e?lC(this._delegate,t,e):lC(this._delegate,t)}catch(n){throw OC(n,"setDoc()","DocumentReference.set()")}}update(t,e,...n){try{return 1===arguments.length?cC(this._delegate,t):cC(this._delegate,t,e,...n)}catch(i){throw OC(i,"updateDoc()","DocumentReference.update()")}}delete(){return hC(jb((t=this._delegate).firestore,tw),[new of(t._key,Gp.none())]);var t}onSnapshot(...t){const e=TC(t),n=IC(t,t=>new SC(this.firestore,new qw(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter)));return uC(this._delegate,e,n)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(t){t=jb(t,Hb);const e=jb(t.firestore,tw),n=ew(e),i=new aC(e);return function(t,e){const n=new Wh;return t.asyncQueue.enqueueAndForget((0,Pa.Z)(function*(){return(i=(0,Pa.Z)(function*(t,e,n){try{const i=yield function(t,e){const n=$h(t);return n.persistence.runTransaction("read document","readonly",t=>n.Qn.An(t,e))}(t,e);i.isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Zh(Gh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(t){const i=H_(t,`Failed to get document '${e} from cache`);n.reject(i)}}),function(t,e,n){return i.apply(this,arguments)})(yield kb(t),e,n);var i})),n.promise}(n,t._key).then(n=>new qw(e,i,t._key,n,new Uw(null!==n&&n.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=jb(t,Hb);const e=jb(t.firestore,tw);return Eb(ew(e),t._key,{source:"server"}).then(n=>dC(e,t,n))}(this._delegate):function(t){t=jb(t,Hb);const e=jb(t.firestore,tw);return Eb(ew(e),t._key).then(n=>dC(e,t,n))}(this._delegate),e.then(t=>new SC(this.firestore,new qw(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter)))}withConverter(t){return new kC(this.firestore,this._delegate.withConverter(t?PC.getInstance(this.firestore,t):null))}}function OC(t,e,n){return t.message=t.message.replace(e,n),t}function TC(t){for(const e of t)if("object"==typeof e&&!_C(e))return e;return{}}function IC(t,e){var n,i;let r;return r=_C(t[0])?t[0]:_C(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:t=>{r.next&&r.next(e(t))},error:null===(n=r.error)||void 0===n?void 0:n.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class SC{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new kC(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return Bw(this._delegate,t._delegate)}}class EC extends SC{data(t){const e=this._delegate.data(t);return void 0!==e||Bh(),e}}class MC{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new wC(t)}where(t,e,n){try{return new MC(this.firestore,Gw(this._delegate,function(t,e,n){const i=e,r=Fw("where",t);return new Zw(r,i,n)}(t,e,n)))}catch(i){throw OC(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new MC(this.firestore,Gw(this._delegate,function(t,e="asc"){const n=e,i=Fw("orderBy",t);return new Ww(i,n)}(t,e)))}catch(n){throw OC(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new MC(this.firestore,Gw(this._delegate,(zb("limit",e=t),new Kw("limit",e,"F"))))}catch(n){throw OC(n,"limit()","Query.limit()")}var e}limitToLast(t){try{return new MC(this.firestore,Gw(this._delegate,(zb("limitToLast",e=t),new Kw("limitToLast",e,"L"))))}catch(n){throw OC(n,"limitToLast()","Query.limitToLast()")}var e}startAt(...t){try{return new MC(this.firestore,Gw(this._delegate,function(...t){return new Yw("startAt",t,!0)}(...t)))}catch(e){throw OC(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new MC(this.firestore,Gw(this._delegate,function(...t){return new Yw("startAfter",t,!1)}(...t)))}catch(e){throw OC(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new MC(this.firestore,Gw(this._delegate,function(...t){return new Qw("endBefore",t,!0)}(...t)))}catch(e){throw OC(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new MC(this.firestore,Gw(this._delegate,function(...t){return new Qw("endAt",t,!1)}(...t)))}catch(e){throw OC(e,"endAt()","Query.endAt()")}}isEqual(t){return Yb(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(t){t=jb(t,$b);const e=jb(t.firestore,tw),n=ew(e),i=new aC(e);return function(t,e){const n=new Wh;return t.asyncQueue.enqueueAndForget((0,Pa.Z)(function*(){return(i=(0,Pa.Z)(function*(t,e,n){try{const i=yield my(t,e,!0),r=new uv(e,i.Gn),s=r.Io(i.documents),o=r.applyChanges(s,!1);n.resolve(o.snapshot)}catch(t){const i=H_(t,`Failed to execute query '${e} against cache`);n.reject(i)}}),function(t,e,n){return i.apply(this,arguments)})(yield kb(t),e,n);var i})),n.promise}(n,t._query).then(n=>new zw(e,i,t,n))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=jb(t,$b);const e=jb(t.firestore,tw),n=ew(e),i=new aC(e);return Mb(n,t._query,{source:"server"}).then(n=>new zw(e,i,t,n))}(this._delegate):function(t){t=jb(t,$b);const e=jb(t.firestore,tw),n=ew(e),i=new aC(e);return Hw(t._query),Mb(n,t._query).then(n=>new zw(e,i,t,n))}(this._delegate),e.then(t=>new NC(this.firestore,new zw(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot)))}onSnapshot(...t){const e=TC(t),n=IC(t,t=>new NC(this.firestore,new zw(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot)));return uC(this._delegate,e,n)}withConverter(t){return new MC(this.firestore,this._delegate.withConverter(t?PC.getInstance(this.firestore,t):null))}}class AC{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new EC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class NC{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new MC(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new EC(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(t=>new AC(this._firestore,t))}forEach(t,e){this._delegate.forEach(n=>{t.call(e,new EC(this._firestore,n))})}isEqual(t){return Bw(this._delegate,t._delegate)}}class RC extends MC{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new kC(this.firestore,t):null}doc(t){try{return new kC(this.firestore,void 0===t?Wb(this._delegate):Wb(this._delegate,t))}catch(e){throw OC(e,"doc()","CollectionReference.doc()")}}add(t){return function(t,e){const n=jb(t.firestore,tw),i=Wb(t),r=iC(t.converter,e);return hC(n,[mw(gw(t.firestore),"addDoc",i._key,r,null!==t.converter,{}).toMutation(i._key,Gp.exists(!1))]).then(()=>i)}(this._delegate,t).then(t=>new kC(this.firestore,t))}isEqual(t){return Kb(this._delegate,t._delegate)}withConverter(t){return new RC(this.firestore,this._delegate.withConverter(t?PC.getInstance(this.firestore,t):null))}}function DC(t){return jb(t,Hb)}class LC{constructor(...t){this._delegate=new sw(...t)}static documentId(){return new LC(gd.keyField().canonicalString())}isEqual(t){return(t=(0,Ia.m9)(t))instanceof sw&&this._delegate._internalPath.isEqual(t._internalPath)}}class FC{constructor(t){this._delegate=t}static serverTimestamp(){const t=new vw("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new FC(t)}static delete(){const t=new yw("deleteField");return t._methodName="FieldValue.delete",new FC(t)}static arrayUnion(...t){const e=function(...t){return new bw("arrayUnion",t)}(...t);return e._methodName="FieldValue.arrayUnion",new FC(e)}static arrayRemove(...t){const e=function(...t){return new ww("arrayRemove",t)}(...t);return e._methodName="FieldValue.arrayRemove",new FC(e)}static increment(t){const e=new Cw("increment",t);return e._methodName="FieldValue.increment",new FC(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const UC={Firestore:bC,GeoPoint:lw,Timestamp:ad,Blob:yC,Transaction:CC,WriteBatch:xC,DocumentReference:kC,DocumentSnapshot:SC,Query:MC,QueryDocumentSnapshot:EC,QuerySnapshot:NC,CollectionReference:RC,FieldPath:LC,FieldValue:FC,setLogLevel:function(t){Fh.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};var qC,jC;jC=(t,e)=>new bC(t,e,new vC),(qC=xa.Z).INTERNAL.registerComponent(new Oa.wA("firestore-compat",t=>{const e=t.getProvider("app-compat").getImmediate(),n=t.getProvider("firestore").getImmediate();return jC(e,n)},"PUBLIC").setServiceProps(Object.assign({},UC))),qC.registerVersion("@firebase/firestore-compat","0.1.3");var zC=n(1906),VC=n(9098),BC=n(8489),HC=n(9291);class $C extends li.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new GC(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let s;if(this.closed)throw new ci.N;if(this.isStopped||this.hasError?s=ur.w.EMPTY:(this.observers.push(t),s=new HC.W(this,t)),i&&t.add(t=new VC.ht(t,i)),e)for(let o=0;o<r&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<r&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||BC.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let s=0;for(;s<r&&!(t-i[s].time<n);)s++;return r>e&&(s=Math.max(s,r-e)),s>0&&i.splice(0,s),i}}class GC{constructor(t,e){this.time=t,this.value=e}}function ZC(t,e,n){let i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let r,s,o=0,a=!1,l=!1;return function(c){let u;o++,!r||a?(a=!1,r=new $C(t,e,i),u=r.subscribe(this),s=c.subscribe({next(t){r.next(t)},error(t){a=!0,r.error(t)},complete(){l=!0,s=void 0,r.complete()}}),l&&(s=void 0)):u=r.subscribe(this),this.add(()=>{o--,u.unsubscribe(),u=void 0,s&&!l&&n&&0===o&&(s.unsubscribe(),s=void 0,r=void 0)})}}(i))}function WC(t,e){return e?Mi(()=>t,e):Mi(()=>t)}var KC=n(4187),YC=n(9001);const QC=new i.OlP("angularfire2.auth.use-emulator"),JC=new i.OlP("angularfire2.auth.settings"),XC=new i.OlP("angularfire2.auth.tenant-id"),tx=new i.OlP("angularfire2.auth.langugage-code"),ex=new i.OlP("angularfire2.auth.use-device-language"),nx=new i.OlP("angularfire.auth.persistence"),ix=(t,e,n,i,r,s,o,a)=>(0,fa.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),i&&(l.tenantId=i),l.languageCode=r,s&&l.useDeviceLanguage(),o)for(const[t,e]of Object.entries(o))l.settings[t]=e;return a&&l.setPersistence(a),l},[n,i,r,s,o,a]);let rx=(()=>{class t{constructor(t,e,i,r,s,o,a,l,c,u,h){const d=new li.xQ,p=(0,ai.of)(void 0).pipe((0,VC.QV)(s.outsideAngular),Mi(()=>r.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,3678)))),(0,Si.U)(()=>(0,Ca.on)(t,r,e)),(0,Si.U)(t=>ix(t,r,o,l,c,u,a,h)),ZC({bufferSize:1,refCount:!1}));if(D(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ai.of)(null);else{p.pipe(ar()).subscribe();const t=p.pipe(Mi(t=>t.getRedirectResult().then(t=>t,()=>null)),fa.iC,ZC({bufferSize:1,refCount:!1})),e=p.pipe(Mi(t=>new yi.y(e=>({unsubscribe:r.runOutsideAngular(()=>t.onAuthStateChanged(t=>e.next(t),t=>e.error(t),()=>e.complete()))})))),n=p.pipe(Mi(t=>new yi.y(e=>({unsubscribe:r.runOutsideAngular(()=>t.onIdTokenChanged(t=>e.next(t),t=>e.error(t),()=>e.complete()))}))));this.authState=t.pipe(WC(e),(0,KC.R)(s.outsideAngular),(0,VC.QV)(s.insideAngular)),this.user=t.pipe(WC(n),(0,KC.R)(s.outsideAngular),(0,VC.QV)(s.insideAngular)),this.idToken=this.user.pipe(Mi(t=>t?(0,oi.D)(t.getIdToken()):(0,ai.of)(null))),this.idTokenResult=this.user.pipe(Mi(t=>t?(0,oi.D)(t.getIdTokenResult()):(0,ai.of)(null))),this.credential=(0,zC.T)(t,d,this.authState.pipe(Vi(t=>!t))).pipe((0,Si.U)(t=>(null==t?void 0:t.user)?t:null),(0,KC.R)(s.outsideAngular),(0,VC.QV)(s.insideAngular))}return(0,Ca.pX)(this,p,r,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Ca.Dh),i.LFG(Ca.xv,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(fa.HU),i.LFG(QC,8),i.LFG(JC,8),i.LFG(XC,8),i.LFG(tx,8),i.LFG(ex,8),i.LFG(nx,8))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();function sx(t,e){return function(t,e=pa.z){return new yi.y(n=>{let i;return null!=e?e.schedule(()=>{i=t.onSnapshot({includeMetadataChanges:!0},n)}):i=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=i&&i()}})}(t,e)}function ox(t,e){return sx(t,e).pipe((0,Si.U)(t=>({payload:t,type:"query"})))}function ax(t,e){return ox(t,e).pipe(Ui(void 0),ga(),(0,Si.U)(([t,e])=>{const n=e.payload.docChanges(),i=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,r)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||i.push({type:"modified",payload:{oldIndex:r,newIndex:r,type:"modified",doc:e}})}),i}))}function lx(t,e,n){return ax(t,n).pipe(qi((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return cx(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return cx(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return cx(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),_a(),(0,Si.U)(t=>t.map(t=>({type:t.type,payload:t}))))}function cx(t,e,n,...i){const r=t.slice();return r.splice(e,n,...i),r}function ux(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(0,Ca.GT)(rx,[{name:null,config:null,emulatorConfig:null,app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class hx{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=ax(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Si.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Ui(void 0),ga(),Vi(([t,e])=>e.length>0||!t),(0,Si.U)(([t,e])=>e),fa.iC)}auditTrail(t){return this.stateChanges(t).pipe(qi((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ux(t);return lx(this.query,e,this.afs.schedulers.outsideAngular).pipe(fa.iC)}valueChanges(t={}){return ox(this.query,this.afs.schedulers.outsideAngular).pipe((0,Si.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),fa.iC)}get(t){return(0,oi.D)(this.query.get(t)).pipe(fa.iC)}add(t){return this.ref.add(t)}doc(t){return new dx(this.ref.doc(t),this.afs)}}class dx{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:i,query:r}=_x(n,e);return new hx(i,r,this.afs)}snapshotChanges(){return function(t,e){return sx(t,e).pipe(Ui(void 0),ga(),(0,Si.U)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(fa.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Si.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,oi.D)(this.ref.get(t)).pipe(fa.iC)}}class px{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?ax(this.query,this.afs.schedulers.outsideAngular).pipe((0,Si.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Vi(t=>t.length>0),fa.iC):ax(this.query,this.afs.schedulers.outsideAngular).pipe(fa.iC)}auditTrail(t){return this.stateChanges(t).pipe(qi((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ux(t);return lx(this.query,e,this.afs.schedulers.outsideAngular).pipe(fa.iC)}valueChanges(t={}){return ox(this.query,this.afs.schedulers.outsideAngular).pipe((0,Si.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),fa.iC)}get(t){return(0,oi.D)(this.query.get(t)).pipe(fa.iC)}}const fx=new i.OlP("angularfire2.enableFirestorePersistence"),gx=new i.OlP("angularfire2.firestore.persistenceSettings"),mx=new i.OlP("angularfire2.firestore.settings"),yx=new i.OlP("angularfire2.firestore.use-emulator");function _x(t,e=(t=>t)){return{query:e(t),ref:t}}let vx=(()=>{class t{constructor(t,e,n,i,r,s,o,a,l,c,u,h,d,p,f,g){this.schedulers=o;const m=(0,Ca.on)(t,s,e),y=l;c&&ix(m,s,u,d,p,f,h,g),[this.firestore,this.persistenceEnabled$]=(0,fa.cc)(`${m.name}.firestore`,"AngularFirestore",m.name,()=>{const t=s.runOutsideAngular(()=>m.firestore());if(i&&t.settings(i),y&&t.useEmulator(...y),n&&!D(r)){const e=()=>{try{return(0,oi.D)(t.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),(0,ai.of)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,(0,ai.of)(!1)]},[i,y,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:i,query:r}=_x(n,e),s=this.schedulers.ngZone.run(()=>i);return new hx(s,r,this)}collectionGroup(t,e){const n=e||(t=>t),i=this.firestore.collectionGroup(t);return new px(n(i),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new dx(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Ca.Dh),i.LFG(Ca.xv,8),i.LFG(fx,8),i.LFG(mx,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(fa.HU),i.LFG(gx,8),i.LFG(yx,8),i.LFG(rx,8),i.LFG(QC,8),i.LFG(JC,8),i.LFG(XC,8),i.LFG(tx,8),i.LFG(ex,8),i.LFG(nx,8))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),bx=(()=>{class t{constructor(){YC.Z.registerVersion("angularfire",fa.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:t,providers:[{provide:fx,useValue:!0},{provide:gx,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[vx]}),t})();var wx=n(1055);class Cx{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new xx(t,this.observables,this.project))}}class xx extends fi{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const i=e.length;this.values=new Array(i);for(let r=0;r<i;r++)this.toRespond.push(r);for(let r=0;r<i;r++)this.add(_i(this,e[r],void 0,r))}notifyNext(t,e,n){this.values[n]=e;const i=this.toRespond;if(i.length>0){const t=i.indexOf(n);-1!==t&&i.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class Px{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new kx(t,this.predicate))}}class kx extends pi.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}let Ox="";function Tx(t){Ox=t}class Ix{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,Ia.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,Ia.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Sx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,Ia.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Ex=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Ix(e)}}catch(e){}return new Sx},Mx=Ex("localStorage"),Ax=Ex("sessionStorage"),Nx=new Ta.Yd("@firebase/database"),Rx=function(){let t=1;return function(){return t++}}(),Dx=function(t){const e=(0,Ia.dS)(t),n=new Ia.gQ;n.update(e);const i=n.digest();return Ia.US.encodeByteArray(i)},Lx=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=Lx.apply(null,i):e+="object"==typeof i?(0,Ia.Pz)(i):i,e+=" "}return e};let Fx=null,Ux=!0;const qx=function(t,e){(0,Ia.hu)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Nx.logLevel=Ta.in.VERBOSE,Fx=Nx.log.bind(Nx),e&&Ax.set("logging_enabled",!0)):"function"==typeof t?Fx=t:(Fx=null,Ax.remove("logging_enabled"))},jx=function(...t){if(!0===Ux&&(Ux=!1,null===Fx&&!0===Ax.get("logging_enabled")&&qx(!0)),Fx){const e=Lx.apply(null,t);Fx(e)}},zx=function(t){return function(...e){jx(t,...e)}},Vx=function(...t){const e="FIREBASE INTERNAL ERROR: "+Lx(...t);Nx.error(e)},Bx=function(...t){const e=`FIREBASE FATAL ERROR: ${Lx(...t)}`;throw Nx.error(e),new Error(e)},Hx=function(...t){const e="FIREBASE WARNING: "+Lx(...t);Nx.warn(e)},$x=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Gx="[MIN_NAME]",Zx="[MAX_NAME]",Wx=function(t,e){if(t===e)return 0;if(t===Gx||e===Zx)return-1;if(e===Gx||t===Zx)return 1;{const n=nP(t),i=nP(e);return null!==n?null!==i?n-i==0?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1}},Kx=function(t,e){return t===e?0:t<e?-1:1},Yx=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,Ia.Pz)(e))},Qx=function(t){if("object"!=typeof t||null===t)return(0,Ia.Pz)(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)0!==i&&(n+=","),n+=(0,Ia.Pz)(e[i]),n+=":",n+=Qx(t[e[i]]);return n+="}",n},Jx=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)i.push(t.substring(r,r+e>n?n:r+e));return i};function Xx(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const tP=function(t){let e,n,i,r,s;(0,Ia.hu)(!$x(t),"Invalid JSON number"),0===t?(n=0,i=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(r=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),n=r+1023,i=Math.round(t*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,i=Math.round(t/Math.pow(2,-1074))));const o=[];for(s=52;s;s-=1)o.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(e?1:0),o.reverse();const a=o.join("");let l="";for(s=0;s<64;s+=8){let t=parseInt(a.substr(s,8),2).toString(16);1===t.length&&(t="0"+t),l+=t}return l.toLowerCase()},eP=new RegExp("^-?(0*)\\d{1,10}$"),nP=function(t){if(eP.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},iP=function(t){try{t()}catch(e){setTimeout(()=>{throw Hx("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},rP=function(t,e){const n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n};class sP{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(t=>this.appCheck=t)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,n)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,n):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(e=>e.addTokenListener(t))}notifyForInvalidToken(){Hx(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class oP{constructor(t,e,n){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(t=>this.auth_=t)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(t=>t&&"auth/token-not-initialized"===t.code?(jx("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((e,n)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,n):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Hx(t)}}let aP=(()=>{class t{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const lP=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,cP="websocket",uP="long_polling";class hP{constructor(t,e,n,i,r=!1,s="",o=!1){this.secure=e,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Mx.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Mx.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function dP(t,e,n){let i;if((0,Ia.hu)("string"==typeof e,"typeof type must == string"),(0,Ia.hu)("object"==typeof n,"typeof params must == object"),e===cP)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==uP)throw new Error("Unknown connection type: "+e);i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const r=[];return Xx(n,(t,e)=>{r.push(t+"="+e)}),i+r.join("&")}class pP{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,Ia.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,Ia.p$)(this.counters_)}}const fP={},gP={};function mP(t){const e=t.toString();return fP[e]||(fP[e]=new pP),fP[e]}class yP{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const t=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let e=0;e<t.length;++e)t[e]&&iP(()=>{this.onMessage_(t[e])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class _P{constructor(t,e,n,i,r,s,o){this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=zx(t),this.stats_=mP(e),this.urlFn=t=>(this.appCheckToken&&(t.ac=this.appCheckToken),dP(e,uP,t))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new yP(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,Ia.Yr)()||"complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new vP((...t)=>{const[e,n,i,r,s]=t;if(this.incrementIncomingBytes_(t),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===e)this.id=n,this.password=i;else{if("close"!==e)throw new Error("Unrecognized command received: "+e);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,()=>{this.onClosed_()})):this.onClosed_()}},(...t)=>{const[e,n]=t;this.incrementIncomingBytes_(t),this.myPacketOrderer.handleResponse(e,n)},()=>{this.onClosed_()},this.urlFn);const t={start:"t"};t.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=this.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",this.transportSessionId&&(t.s=this.transportSessionId),this.lastSessionId&&(t.ls=this.lastSessionId),this.applicationId&&(t.p=this.applicationId),this.appCheckToken&&(t.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&lP.test(location.hostname)&&(t.r="f");const e=this.urlFn(t);this.log_("Connecting via long-poll to "+e),this.scriptTagHolder.addTag(e,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_P.forceAllow_=!0}static forceDisallow(){_P.forceDisallow_=!0}static isAvailable(){return!((0,Ia.Yr)()||!_P.forceAllow_&&(_P.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,Ia.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const n=(0,Ia.h$)(e),i=Jx(n,1840);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,Ia.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,Ia.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class vP{constructor(t,e,n,i){if(this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Ia.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Rx(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=vP.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(n='<script>document.domain="'+document.domain+'";<\/script>');const i="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(r){jx("frame writing exception"),r.stack&&jx(r.stack),jx(r)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||jx("No IE domain setting required")}catch(e){const n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),n="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const t=this.pendingSegs.shift();n=n+"&seg"+i+"="+t.seg+"&ts"+i+"="+t.ts+"&d"+i+"="+t.d,i++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const n=()=>{this.outstandingRequests.delete(e),this.newRequest_()},i=setTimeout(n,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(i),n()})}addTag(t,e){(0,Ia.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.onload=n.onreadystatechange=function(){const t=n.readyState;t&&"loaded"!==t&&"complete"!==t||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),e())},n.onerror=()=>{jx("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}},Math.floor(1))}}let bP=null;"undefined"!=typeof MozWebSocket?bP=MozWebSocket:"undefined"!=typeof WebSocket&&(bP=WebSocket);let wP=(()=>{class t{constructor(e,n,i,r,s,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=zx(this.connId),this.stats_=mP(n),this.connURL=t.connectionURL_(n,o,a,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,e,n,i){const r={v:"5"};return!(0,Ia.Yr)()&&"undefined"!=typeof location&&location.hostname&&lP.test(location.hostname)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),i&&(r.ac=i),dP(t,cP,r)}open(t,e){this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Mx.set("previous_websocket_failure",!0);try{if((0,Ia.Yr)()){const t={headers:{"User-Agent":`Firebase/5/${Ox}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(t.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(t.headers["X-Firebase-AppCheck"]=this.appCheckToken);const e=process.env,n=0===this.connURL.indexOf("wss://")?e.HTTPS_PROXY||e.https_proxy:e.HTTP_PROXY||e.http_proxy;n&&(t.proxy={origin:n}),this.mySock=new bP(this.connURL,[],t)}else this.mySock=new bP(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(n){this.log_("Error instantiating WebSocket.");const t=n.message||n.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=t=>{this.handleIncomingFrame(t)},this.mySock.onerror=t=>{this.log_("WebSocket error.  Closing connection.");const e=t.message||t.data;e&&this.log_(e),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);t&&t.length>1&&parseFloat(t[1])<4.4&&(e=!0)}return!e&&null!==bP&&!t.forceDisallow_}static previouslyFailed(){return Mx.isInMemoryStorage||!0===Mx.get("previous_websocket_failure")}markConnectionHealthy(){Mx.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const e=(0,Ia.cI)(t);this.onMessage(e)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,Ia.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{const t=this.extractFrameCount_(e);null!==t&&this.appendFrame_(t)}}send(t){this.resetKeepAlive();const e=(0,Ia.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const n=Jx(e,16384);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})();class CP{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[_P,wP]}initTransports_(t){const e=wP&&wP.isAvailable();let n=e&&!wP.previouslyFailed();if(t.webSocketOnly&&(e||Hx("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[wP];else{const t=this.transports_=[];for(const e of CP.ALL_TRANSPORTS)e&&e.isAvailable()&&t.push(e)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class xP{constructor(t,e,n,i,r,s,o,a,l,c){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=zx("c:"+this.id+":"),this.transportManager_=new CP(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,n)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=rP(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Yx("t",t),n=Yx("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Yx("t",t),n=Yx("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Yx("t",t);if("d"in t){const n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let t=0;t<this.pendingDataMessages.length;++t)this.onDataMessage_(this.pendingDataMessages[t]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?Vx("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Vx("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,n=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&Hx("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,n),rP(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):rP(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Mx.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class PP{put(t,e,n,i){}merge(t,e,n,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,n){}onDisconnectMerge(t,e,n){}onDisconnectCancel(t,e){}reportStats(t){}}class kP{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,Ia.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const n=[...this.listeners_[t]];for(let t=0;t<n.length;t++)n[t].callback.apply(n[t].context,e)}}on(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});const i=this.getInitialEvent(t);i&&e.apply(n,i)}off(t,e,n){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let r=0;r<i.length;r++)if(i[r].callback===e&&(!n||n===i[r].context))return void i.splice(r,1)}validateEventType_(t){(0,Ia.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class OP extends kP{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,Ia.uI)()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new OP}getInitialEvent(t){return(0,Ia.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class TP{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let e=0;for(let t=0;t<this.pieces_.length;t++)this.pieces_[t].length>0&&(this.pieces_[e]=this.pieces_[t],e++);this.pieces_.length=e,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function IP(){return new TP("")}function SP(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function EP(t){return t.pieces_.length-t.pieceNum_}function MP(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new TP(t.pieces_,e)}function AP(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function NP(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function RP(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new TP(e,0)}function DP(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof TP)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const t=e.split("/");for(let e=0;e<t.length;e++)t[e].length>0&&n.push(t[e])}return new TP(n,0)}function LP(t){return t.pieceNum_>=t.pieces_.length}function FP(t,e){const n=SP(t),i=SP(e);if(null===n)return e;if(n===i)return FP(MP(t),MP(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function UP(t,e){const n=NP(t,0),i=NP(e,0);for(let r=0;r<n.length&&r<i.length;r++){const t=Wx(n[r],i[r]);if(0!==t)return t}return n.length===i.length?0:n.length<i.length?-1:1}function qP(t,e){if(EP(t)!==EP(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function jP(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(EP(t)>EP(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class zP{constructor(t,e){this.errorPrefix_=e,this.parts_=NP(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,Ia.ug)(this.parts_[n]);VP(this)}}function VP(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+BP(t))}function BP(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class HP extends kP{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const e=!document[t];e!==this.visible_&&(this.visible_=e,this.trigger("visible",e))},!1)}static getInstance(){return new HP}getInitialEvent(t){return(0,Ia.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const $P=1e3;let GP,ZP=(()=>{class t extends PP{constructor(e,n,i,r,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=zx("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=$P,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,Ia.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");HP.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&OP.getInstance().on("online",this.onOnline_,this)}sendRequest(t,e,n){const i=++this.requestNumber_,r={r:i,a:t,b:e};this.log_((0,Ia.Pz)(r)),(0,Ia.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)}get(t){this.initConnection_();const e=new Ia.BH,n={p:t._path.toString(),q:t._queryObject},i={action:"g",request:n,onComplete:t=>{const i=t.d;"ok"===t.s?(this.onDataUpdate_(n.p,i,!1,null),e.resolve(i)):e.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const t=this.outstandingGets_[r];void 0!==t&&i===t&&(delete this.outstandingGets_[r],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+r+" timed out on connection"),e.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(r),e.promise}listen(t,e,n,i){this.initConnection_();const r=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+r),this.listens.has(s)||this.listens.set(s,new Map),(0,Ia.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Ia.hu)(!this.listens.get(s).has(r),"listen() called twice for same path/queryId.");const o={onComplete:i,hashFn:e,query:t,tag:n};this.listens.get(s).set(r,o),this.connected_&&this.sendListen_(o)}sendGet_(t){const e=this.outstandingGets_[t];this.sendRequest("g",e.request,n=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),e.onComplete&&e.onComplete(n)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i};e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,s=>{const o=s.d,a=s.s;t.warnOnListenWarnings_(o,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",s),"ok"!==a&&this.removeListen_(i,r),e.onComplete&&e.onComplete(a,o))})}static warnOnListenWarnings_(t,e){if(t&&"object"==typeof t&&(0,Ia.r3)(t,"w")){const n=(0,Ia.DV)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const t='".indexOn": "'+e._queryParams.getIndex().toString()+'"',n=e._path.toString();Hx(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${t} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,Ia.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,e=(0,Ia.w9)(t)?"auth":"gauth",n={cred:t};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(e,n,e=>{const n=e.s,i=e.d||"error";this.authToken_===t&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,i))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const e=t.s,n=t.d||"error";"ok"===e?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(e,n)})}unlisten(t,e){const n=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),(0,Ia.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,t._queryObject,e)}sendUnlisten_(t,e,n,i){this.log_("Unlisten on "+t+" for "+e);const r={p:t};i&&(r.q=n,r.t=i),this.sendRequest("n",r)}onDisconnectPut(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})}onDisconnectMerge(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})}onDisconnectCancel(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})}sendOnDisconnect_(t,e,n,i){const r={p:e,d:n};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,t=>{i&&setTimeout(()=>{i(t.s,t.d)},Math.floor(0))})}put(t,e,n,i){this.putInternal("p",t,e,n,i)}merge(t,e,n,i){this.putInternal("m",t,e,n,i)}putInternal(t,e,n,i,r){this.initConnection_();const s={p:e,d:n};void 0!==r&&(s.h=r),this.outstandingPuts_.push({action:t,request:s,onComplete:i}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)}sendPut_(t){const e=this.outstandingPuts_[t].action,n=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(e,n,n=>{this.log_(e+" response",n),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),i&&i(n.s,n.d)})}reportStats(t){if(this.connected_){const e={c:t};this.log_("reportStats",e),this.sendRequest("s",e,t=>{"ok"!==t.s&&this.log_("reportStats","Error sending stats: "+t.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,Ia.Pz)(t));const e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):Vx("Unrecognized action received from server: "+(0,Ia.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,Ia.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$P,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=$P,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=$P),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Pa.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const n=e.onDataMessage_.bind(e),i=e.onReady_.bind(e),r=e.onRealtimeDisconnect_.bind(e),s=e.id+":"+t.nextConnectionId_++,o=e.lastSessionId;let a=!1,l=null;const c=function(){l?l.close():(a=!0,r())};e.realtime_={close:c,sendRequest:function(t){(0,Ia.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};const u=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[t,c]=yield Promise.all([e.authTokenProvider_.getToken(u),e.appCheckTokenProvider_.getToken(u)]);a?jx("getToken() completed but was canceled"):(jx("getToken() completed. Creating connection."),e.authToken_=t&&t.accessToken,e.appCheckToken_=c&&c.token,l=new xP(s,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,n,i,r,t=>{Hx(t+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},o))}catch(Vx){e.log_("Failed to get token: "+Vx),a||(e.repoInfo_.nodeAdmin&&Hx(Vx),c())}}})()}interrupt(t){jx("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){jx("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,Ia.xb)(this.interruptReasons_)&&(this.reconnectDelay_=$P,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,e){let n;n=e?e.map(t=>Qx(t)).join("$"):"default";const i=this.removeListen_(t,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,e){const n=new TP(t).toString();let i;if(this.listens.has(n)){const t=this.listens.get(n);i=t.get(e),t.delete(e),0===t.size&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(t,e){jx("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,e){jx("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const e of t.values())this.sendListen_(e);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let e="js";(0,Ia.Yr)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+Ox.replace(/\./g,"-")]=1,(0,Ia.uI)()?t["framework.cordova"]=1:(0,Ia.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=OP.getInstance().currentlyOnline();return(0,Ia.xb)(this.interruptReasons_)&&t}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class WP{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new WP(t,e)}}class KP{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const n=new WP(Gx,t),i=new WP(Gx,e);return 0!==this.compare(n,i)}minPost(){return WP.MIN}}class YP extends KP{static get __EMPTY_NODE(){return GP}static set __EMPTY_NODE(t){GP=t}compare(t,e){return Wx(t.name,e.name)}isDefinedOn(t){throw(0,Ia.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return WP.MIN}maxPost(){return new WP(Zx,GP)}makePost(t,e){return(0,Ia.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new WP(t,GP)}toString(){return".key"}}const QP=new YP;class JP{constructor(t,e,n,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=e?n(t.key,e):1,i&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let XP=(()=>{class t{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:nk.EMPTY_NODE,this.right=null!=s?s:nk.EMPTY_NODE}copy(e,n,i,r,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const r=n(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return nk.EMPTY_NODE;let t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,e){let n,i;if(n=this,e(t,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return nk.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class tk{copy(t,e,n,i,r){return this}insert(t,e,n){return new XP(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let ek,nk=(()=>{class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,XP.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,XP.BLACK,null,null))}get(t){let e,n=this.root_;for(;!n.isEmpty();){if(e=this.comparator_(t,n.key),0===e)return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null}getPredecessorKey(t){let e,n=this.root_,i=null;for(;!n.isEmpty();){if(e=this.comparator_(t,n.key),0===e){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new JP(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new JP(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new JP(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new JP(this.root_,null,this.comparator_,!0,t)}}return t.EMPTY_NODE=new tk,t})();function ik(t,e){return Wx(t.name,e.name)}function rk(t,e){return Wx(t,e)}const sk=function(t){return"number"==typeof t?"number:"+tP(t):"string:"+t},ok=function(t){if(t.isLeafNode()){const e=t.val();(0,Ia.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,Ia.r3)(e,".sv"),"Priority must be a string or number.")}else(0,Ia.hu)(t===ek||t.isEmpty(),"priority of unexpected type.");(0,Ia.hu)(t===ek||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ak,lk,ck,uk=(()=>{class t{constructor(e,n=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,(0,Ia.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ok(this.priorityNode_)}static set __childrenNodeConstructor(t){ak=t}static get __childrenNodeConstructor(){return ak}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new t(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return LP(e)?this:".priority"===SP(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,e){return null}updateImmediateChild(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=SP(e);return null===i?n:n.isEmpty()&&".priority"!==i?this:((0,Ia.hu)(".priority"!==i||1===EP(e),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(MP(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,e){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+sk(this.priorityNode_.val())+":");const e=typeof this.value_;t+=e+":",t+="number"===e?tP(this.value_):this.value_,this.lazyHash_=Dx(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,Ia.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(i);return(0,Ia.hu)(r>=0,"Unknown leaf type: "+n),(0,Ia.hu)(s>=0,"Unknown leaf type: "+i),r===s?"object"===i?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const hk=new class extends KP{compare(t,e){const n=t.node.getPriority(),i=e.node.getPriority(),r=n.compareTo(i);return 0===r?Wx(t.name,e.name):r}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return WP.MIN}maxPost(){return new WP(Zx,new uk("[PRIORITY-POST]",ck))}makePost(t,e){const n=lk(t);return new WP(e,new uk("[PRIORITY-POST]",n))}toString(){return".priority"}},dk=Math.log(2);class pk{constructor(t){this.count=parseInt(Math.log(t+1)/dk,10),this.current_=this.count-1;const e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const fk=function(t,e,n,i){t.sort(e);const r=function(e,i){const s=i-e;let o,a;if(0===s)return null;if(1===s)return o=t[e],a=n?n(o):o,new XP(a,o.node,XP.BLACK,null,null);{const l=parseInt(s/2,10)+e,c=r(e,l),u=r(l+1,i);return o=t[l],a=n?n(o):o,new XP(a,o.node,XP.BLACK,c,u)}},s=function(e){let i=null,s=null,o=t.length;const a=function(e,i){const s=o-e,a=o;o-=e;const c=r(s+1,a),u=t[s],h=n?n(u):u;l(new XP(h,u.node,i,null,c))},l=function(t){i?(i.left=t,i=t):(s=t,i=t)};for(let t=0;t<e.count;++t){const n=e.nextBitIsOne(),i=Math.pow(2,e.count-(t+1));n?a(i,XP.BLACK):(a(i,XP.BLACK),a(i,XP.RED))}return s}(new pk(t.length));return new nk(i||e,s)};let gk;const mk={};class yk{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,Ia.hu)(mk&&hk,"ChildrenNode.ts has not been loaded"),gk=gk||new yk({".priority":mk},{".priority":hk}),gk}get(t){const e=(0,Ia.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof nk?e:null}hasIndex(t){return(0,Ia.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,Ia.hu)(t!==QP,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const r=e.getIterator(WP.Wrap);let s,o=r.getNext();for(;o;)i=i||t.isDefinedOn(o.node),n.push(o),o=r.getNext();s=i?fk(n,t.getCompare()):mk;const a=t.toString(),l=Object.assign({},this.indexSet_);l[a]=t;const c=Object.assign({},this.indexes_);return c[a]=s,new yk(c,l)}addToIndexes(t,e){const n=(0,Ia.UI)(this.indexes_,(n,i)=>{const r=(0,Ia.DV)(this.indexSet_,i);if((0,Ia.hu)(r,"Missing index implementation for "+i),n===mk){if(r.isDefinedOn(t.node)){const n=[],i=e.getIterator(WP.Wrap);let s=i.getNext();for(;s;)s.name!==t.name&&n.push(s),s=i.getNext();return n.push(t),fk(n,r.getCompare())}return mk}{const i=e.get(t.name);let r=n;return i&&(r=r.remove(new WP(t.name,i))),r.insert(t,t.node)}});return new yk(n,this.indexSet_)}removeFromIndexes(t,e){const n=(0,Ia.UI)(this.indexes_,n=>{if(n===mk)return n;{const i=e.get(t.name);return i?n.remove(new WP(t.name,i)):n}});return new yk(n,this.indexSet_)}}let _k,vk=(()=>{class t{constructor(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&ok(this.priorityNode_),this.children_.isEmpty()&&(0,Ia.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return _k||(_k=new t(new nk(rk),null,yk.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_k}updatePriority(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const e=this.children_.get(t);return null===e?_k:e}}getChild(t){const e=SP(t);return null===e?this:this.getImmediateChild(e).getChild(MP(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(e,n){if((0,Ia.hu)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);{const i=new WP(e,n);let r,s;n.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?_k:this.priorityNode_;return new t(r,o,s)}}updateChild(t,e){const n=SP(t);if(null===n)return e;{(0,Ia.hu)(".priority"!==SP(t)||1===EP(t),".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(MP(t),e);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,s=!0;if(this.forEachChild(hk,(o,a)=>{n[o]=a.val(e),i++,s&&t.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!e&&s&&r<2*i){const t=[];for(const e in n)t[e]=n[e];return t}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+sk(this.getPriority().val())+":"),this.forEachChild(hk,(e,n)=>{const i=n.hash();""!==i&&(t+=":"+e+":"+i)}),this.lazyHash_=""===t?"":Dx(t)}return this.lazyHash_}getPredecessorChildName(t,e,n){const i=this.resolveIndex_(n);if(i){const n=i.getPredecessorKey(new WP(t,e));return n?n.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const e=this.resolveIndex_(t);if(e){const t=e.minKey();return t&&t.name}return this.children_.minKey()}getFirstChild(t){const e=this.getFirstChildName(t);return e?new WP(e,this.children_.get(e)):null}getLastChildName(t){const e=this.resolveIndex_(t);if(e){const t=e.maxKey();return t&&t.name}return this.children_.maxKey()}getLastChild(t){const e=this.getLastChildName(t);return e?new WP(e,this.children_.get(e)):null}forEachChild(t,e){const n=this.resolveIndex_(t);return n?n.inorderTraversal(t=>e(t.name,t.node)):this.children_.inorderTraversal(e)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,e){const n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,t=>t);{const n=this.children_.getIteratorFrom(t.name,WP.Wrap);let i=n.peek();for(;null!=i&&e.compare(i,t)<0;)n.getNext(),i=n.peek();return n}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,e){const n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,t=>t);{const n=this.children_.getReverseIteratorFrom(t.name,WP.Wrap);let i=n.peek();for(;null!=i&&e.compare(i,t)>0;)n.getNext(),i=n.peek();return n}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===bk?-1:0}withIndex(e){if(e===QP||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===QP||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){const t=this.getIterator(hk),n=e.getIterator(hk);let i=t.getNext(),r=n.getNext();for(;i&&r;){if(i.name!==r.name||!i.node.equals(r.node))return!1;i=t.getNext(),r=n.getNext()}return null===i&&null===r}return!1}return!1}}resolveIndex_(t){return t===QP?null:this.indexMap_.get(t.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const bk=new class extends vk{constructor(){super(new nk(rk),vk.EMPTY_NODE,yk.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return vk.EMPTY_NODE}isEmpty(){return!1}};function wk(t,e=null){if(null===t)return vk.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,Ia.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new uk(t,wk(e));if(t instanceof Array){let n=vk.EMPTY_NODE;return Xx(t,(e,i)=>{if((0,Ia.r3)(t,e)&&"."!==e.substring(0,1)){const t=wk(i);!t.isLeafNode()&&t.isEmpty()||(n=n.updateImmediateChild(e,t))}}),n.updatePriority(wk(e))}{const n=[];let i=!1;if(Xx(t,(t,e)=>{if("."!==t.substring(0,1)){const r=wk(e);r.isEmpty()||(i=i||!r.getPriority().isEmpty(),n.push(new WP(t,r)))}}),0===n.length)return vk.EMPTY_NODE;const r=fk(n,ik,t=>t.name,rk);if(i){const t=fk(n,hk.getCompare());return new vk(r,wk(e),new yk({".priority":t},{".priority":hk}))}return new vk(r,wk(e),yk.Default)}}Object.defineProperties(WP,{MIN:{value:new WP(Gx,vk.EMPTY_NODE)},MAX:{value:new WP(Zx,bk)}}),YP.__EMPTY_NODE=vk.EMPTY_NODE,uk.__childrenNodeConstructor=vk,ek=bk,ck=bk,lk=wk;class Ck extends KP{constructor(t){super(),this.indexPath_=t,(0,Ia.hu)(!LP(t)&&".priority"!==SP(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const n=this.extractChild(t.node),i=this.extractChild(e.node),r=n.compareTo(i);return 0===r?Wx(t.name,e.name):r}makePost(t,e){const n=wk(t),i=vk.EMPTY_NODE.updateChild(this.indexPath_,n);return new WP(e,i)}maxPost(){const t=vk.EMPTY_NODE.updateChild(this.indexPath_,bk);return new WP(Zx,t)}toString(){return NP(this.indexPath_,0).join("/")}}const xk=new class extends KP{compare(t,e){const n=t.node.compareTo(e.node);return 0===n?Wx(t.name,e.name):n}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return WP.MIN}maxPost(){return WP.MAX}makePost(t,e){const n=wk(t);return new WP(e,n)}toString(){return".value"}},Pk="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",kk=function(){let t=0;const e=[];return function(n){const i=n===t;let r;t=n;const s=new Array(8);for(r=7;r>=0;r--)s[r]=Pk.charAt(n%64),n=Math.floor(n/64);(0,Ia.hu)(0===n,"Cannot push at time == 0");let o=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=Pk.charAt(e[r]);return(0,Ia.hu)(20===o.length,"nextPushId: Length should be 20."),o}}(),Ok=function(t){if("2147483647"===t)return"-";const e=nP(t);if(null!=e)return""+(e+1);const n=new Array(t.length);for(let s=0;s<n.length;s++)n[s]=t.charAt(s);if(n.length<786)return n.push("-"),n.join("");let i=n.length-1;for(;i>=0&&"z"===n[i];)i--;if(-1===i)return Zx;const r=Pk.charAt(Pk.indexOf(n[i])+1);return n[i]=r,n.slice(0,i+1).join("")},Tk=function(t){if("-2147483648"===t)return Gx;const e=nP(t);if(null!=e)return""+(e-1);const n=new Array(t.length);for(let i=0;i<n.length;i++)n[i]=t.charAt(i);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=Pk.charAt(Pk.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function Ik(t){return{type:"value",snapshotNode:t}}function Sk(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ek(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Mk(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class Ak{constructor(t){this.index_=t}updateChild(t,e,n,i,r,s){(0,Ia.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=t.getImmediateChild(e);return o.getChild(i).equals(n.getChild(i))&&o.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(Ek(e,o)):(0,Ia.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(Sk(e,n)):s.trackChildChange(Mk(e,n,o))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))}updateFullNode(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(hk,(t,i)=>{e.hasChild(t)||n.trackChildChange(Ek(t,i))}),e.isLeafNode()||e.forEachChild(hk,(e,i)=>{if(t.hasChild(e)){const r=t.getImmediateChild(e);r.equals(i)||n.trackChildChange(Mk(e,i,r))}else n.trackChildChange(Sk(e,i))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?vk.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Nk{constructor(t){this.indexedFilter_=new Ak(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Nk.getStartPost_(t),this.endPost_=Nk.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,n,i,r,s){return this.matches(new WP(e,n))||(n=vk.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,i,r,s)}updateFullNode(t,e,n){e.isLeafNode()&&(e=vk.EMPTY_NODE);let i=e.withIndex(this.index_);i=i.updatePriority(vk.EMPTY_NODE);const r=this;return e.forEachChild(hk,(t,e)=>{r.matches(new WP(t,e))||(i=i.updateImmediateChild(t,vk.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,n)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Rk{constructor(t){this.rangedFilter_=new Nk(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,n,i,r,s){return this.rangedFilter_.matches(new WP(e,n))||(n=vk.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,i,r,s):this.fullLimitUpdateChild_(t,e,n,r,s)}updateFullNode(t,e,n){let i;if(e.isLeafNode()||e.isEmpty())i=vk.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let t;i=vk.EMPTY_NODE.withIndex(this.index_),t=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;t.hasNext()&&n<this.limit_;){const e=t.getNext();let r;if(r=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),e)<=0:this.index_.compare(e,this.rangedFilter_.getEndPost())<=0,!r)break;i=i.updateImmediateChild(e.name,e.node),n++}}else{let t,n,r,s;if(i=e.withIndex(this.index_),i=i.updatePriority(vk.EMPTY_NODE),this.reverse_){s=i.getReverseIterator(this.index_),t=this.rangedFilter_.getEndPost(),n=this.rangedFilter_.getStartPost();const e=this.index_.getCompare();r=(t,n)=>e(n,t)}else s=i.getIterator(this.index_),t=this.rangedFilter_.getStartPost(),n=this.rangedFilter_.getEndPost(),r=this.index_.getCompare();let o=0,a=!1;for(;s.hasNext();){const e=s.getNext();!a&&r(t,e)<=0&&(a=!0),a&&o<this.limit_&&r(e,n)<=0?o++:i=i.updateImmediateChild(e.name,vk.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,n)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,n,i,r){let s;if(this.reverse_){const t=this.index_.getCompare();s=(e,n)=>t(n,e)}else s=this.index_.getCompare();const o=t;(0,Ia.hu)(o.numChildren()===this.limit_,"");const a=new WP(e,n),l=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(o.hasChild(e)){const t=o.getImmediateChild(e);let u=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===e||o.hasChild(u.name));)u=i.getChildAfterChild(this.index_,u,this.reverse_);const h=null==u?1:s(u,a);if(c&&!n.isEmpty()&&h>=0)return null!=r&&r.trackChildChange(Mk(e,n,t)),o.updateImmediateChild(e,n);{null!=r&&r.trackChildChange(Ek(e,t));const n=o.updateImmediateChild(e,vk.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=r&&r.trackChildChange(Sk(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?t:c&&s(l,a)>=0?(null!=r&&(r.trackChildChange(Ek(l.name,l.node)),r.trackChildChange(Sk(e,n))),o.updateImmediateChild(e,n).updateImmediateChild(l.name,vk.EMPTY_NODE)):t}}class Dk{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=hk}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Ia.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Ia.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Gx}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Ia.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Ia.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zx}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Ia.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===hk}copy(){const t=new Dk;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Lk(t,e,n){const i=t.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=n?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function Fk(t,e,n){const i=t.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==n?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function Uk(t,e){const n=t.copy();return n.index_=e,n}function qk(t){const e={};if(t.isDefault())return e;let n;return t.index_===hk?n="$priority":t.index_===xk?n="$value":t.index_===QP?n="$key":((0,Ia.hu)(t.index_ instanceof Ck,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=(0,Ia.Pz)(n),t.startSet_&&(e.startAt=(0,Ia.Pz)(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+(0,Ia.Pz)(t.indexStartName_))),t.endSet_&&(e.endAt=(0,Ia.Pz)(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+(0,Ia.Pz)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function jk(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==hk&&(e.i=t.index_.toString()),e}class zk extends PP{constructor(t,e,n,i){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=zx("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,Ia.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,n,i){const r=t._path.toString();this.log_("Listen called for "+r+" "+t._queryIdentifier);const s=zk.getListenId_(t,n),o={};this.listens_[s]=o;const a=qk(t._queryParams);this.restRequest_(r+".json",a,(t,e)=>{let a=e;if(404===t&&(a=null,t=null),null===t&&this.onDataUpdate_(r,a,!1,n),(0,Ia.DV)(this.listens_,s)===o){let e;e=t?401===t?"permission_denied":"rest_error:"+t:"ok",i(e,null)}})}unlisten(t,e){const n=zk.getListenId_(t,e);delete this.listens_[n]}get(t){const e=qk(t._queryParams),n=t._path.toString(),i=new Ia.BH;return this.restRequest_(n+".json",e,(t,e)=>{let r=e;404===t&&(r=null,t=null),null===t?(this.onDataUpdate_(n,r,!1,null),i.resolve(r)):i.reject(new Error(r))}),i.promise}refreshAuthToken(t){}restRequest_(t,e={},n){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(e.auth=i.accessToken),r&&r.token&&(e.ac=r.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,Ia.xO)(e);this.log_("Sending REST request for "+s);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&4===o.readyState){this.log_("REST Response for "+s+" received. status:",o.status,"response:",o.responseText);let e=null;if(o.status>=200&&o.status<300){try{e=(0,Ia.cI)(o.responseText)}catch(t){Hx("Failed to parse JSON response for "+s+": "+o.responseText)}n(null,e)}else 401!==o.status&&404!==o.status&&Hx("Got unsuccessful REST response for "+s+" Status: "+o.status),n(o.status);n=null}},o.open("GET",s,!0),o.send()})}}class Vk{constructor(){this.rootNode_=vk.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Bk(){return{value:null,children:new Map}}function Hk(t,e,n){if(LP(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const i=SP(e);t.children.has(i)||t.children.set(i,Bk()),Hk(t.children.get(i),e=MP(e),n)}}function $k(t,e){if(LP(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(hk,(e,n)=>{Hk(t,new TP(e),n)}),$k(t,e)}}if(t.children.size>0){const n=SP(e);return e=MP(e),t.children.has(n)&&$k(t.children.get(n),e)&&t.children.delete(n),0===t.children.size}return!0}function Gk(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach((t,n)=>{e(n,t)})}(t,(t,i)=>{Gk(i,new TP(e.toString()+"/"+t),n)})}class Zk{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Xx(this.last_,(t,n)=>{e[t]=e[t]-n}),this.last_=t,e}}class Wk{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Zk(t);const n=1e4+2e4*Math.random();rP(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const t=this.statsListener_.get(),e={};let n=!1;Xx(t,(t,i)=>{i>0&&(0,Ia.r3)(this.statsToReport_,t)&&(e[t]=i,n=!0)}),n&&this.server_.reportStats(e),rP(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Kk=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function Yk(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Qk{constructor(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Kk.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(LP(this.path)){if(null!=this.affectedTree.value)return(0,Ia.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new TP(t));return new Qk(IP(),e,this.revert)}}return(0,Ia.hu)(SP(this.path)===t,"operationForChild called for unrelated child."),new Qk(MP(this.path),this.affectedTree,this.revert)}}class Jk{constructor(t,e){this.source=t,this.path=e,this.type=Kk.LISTEN_COMPLETE}operationForChild(t){return LP(this.path)?new Jk(this.source,IP()):new Jk(this.source,MP(this.path))}}class Xk{constructor(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Kk.OVERWRITE}operationForChild(t){return LP(this.path)?new Xk(this.source,IP(),this.snap.getImmediateChild(t)):new Xk(this.source,MP(this.path),this.snap)}}class tO{constructor(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Kk.MERGE}operationForChild(t){if(LP(this.path)){const e=this.children.subtree(new TP(t));return e.isEmpty()?null:e.value?new Xk(this.source,IP(),e.value):new tO(this.source,IP(),e)}return(0,Ia.hu)(SP(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new tO(this.source,MP(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class eO{constructor(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(LP(t))return this.isFullyInitialized()&&!this.filtered_;const e=SP(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class nO{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function iO(t,e,n,i,r,s){const o=i.filter(t=>t.type===n);o.sort((e,n)=>function(t,e,n){if(null==e.childName||null==n.childName)throw(0,Ia.g5)("Should only compare child_ events.");const i=new WP(e.childName,e.snapshotNode),r=new WP(n.childName,n.snapshotNode);return t.index_.compare(i,r)}(t,e,n)),o.forEach(n=>{const i=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,s);r.forEach(r=>{r.respondsTo(n.type)&&e.push(r.createEvent(i,t.query_))})})}function rO(t,e){return{eventCache:t,serverCache:e}}function sO(t,e,n,i){return rO(new eO(e,n,i),t.serverCache)}function oO(t,e,n,i){return rO(t.eventCache,new eO(e,n,i))}function aO(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function lO(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let cO;class uO{constructor(t,e=(()=>(cO||(cO=new nk(Kx)),cO))()){this.value=t,this.children=e}static fromObject(t){let e=new uO(null);return Xx(t,(t,n)=>{e=e.set(new TP(t),n)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:IP(),value:this.value};if(LP(t))return null;{const n=SP(t),i=this.children.get(n);if(null!==i){const r=i.findRootMostMatchingPathAndValue(MP(t),e);return null!=r?{path:DP(new TP(n),r.path),value:r.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(LP(t))return this;{const e=SP(t),n=this.children.get(e);return null!==n?n.subtree(MP(t)):new uO(null)}}set(t,e){if(LP(t))return new uO(e,this.children);{const n=SP(t),i=(this.children.get(n)||new uO(null)).set(MP(t),e),r=this.children.insert(n,i);return new uO(this.value,r)}}remove(t){if(LP(t))return this.children.isEmpty()?new uO(null):new uO(null,this.children);{const e=SP(t),n=this.children.get(e);if(n){const i=n.remove(MP(t));let r;return r=i.isEmpty()?this.children.remove(e):this.children.insert(e,i),null===this.value&&r.isEmpty()?new uO(null):new uO(this.value,r)}return this}}get(t){if(LP(t))return this.value;{const e=SP(t),n=this.children.get(e);return n?n.get(MP(t)):null}}setTree(t,e){if(LP(t))return e;{const n=SP(t),i=(this.children.get(n)||new uO(null)).setTree(MP(t),e);let r;return r=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),new uO(this.value,r)}}fold(t){return this.fold_(IP(),t)}fold_(t,e){const n={};return this.children.inorderTraversal((i,r)=>{n[i]=r.fold_(DP(t,i),e)}),e(t,this.value,n)}findOnPath(t,e){return this.findOnPath_(t,IP(),e)}findOnPath_(t,e,n){const i=!!this.value&&n(e,this.value);if(i)return i;if(LP(t))return null;{const i=SP(t),r=this.children.get(i);return r?r.findOnPath_(MP(t),DP(e,i),n):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,IP(),e)}foreachOnPath_(t,e,n){if(LP(t))return this;{this.value&&n(e,this.value);const i=SP(t),r=this.children.get(i);return r?r.foreachOnPath_(MP(t),DP(e,i),n):new uO(null)}}foreach(t){this.foreach_(IP(),t)}foreach_(t,e){this.children.inorderTraversal((n,i)=>{i.foreach_(DP(t,n),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,n)=>{n.value&&t(e,n.value)})}}class hO{constructor(t){this.writeTree_=t}static empty(){return new hO(new uO(null))}}function dO(t,e,n){if(LP(e))return new hO(new uO(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const o=FP(r,e);return s=s.updateChild(o,n),new hO(t.writeTree_.set(r,s))}{const i=new uO(n),r=t.writeTree_.setTree(e,i);return new hO(r)}}}function pO(t,e,n){let i=t;return Xx(n,(t,n)=>{i=dO(i,DP(e,t),n)}),i}function fO(t,e){if(LP(e))return hO.empty();{const n=t.writeTree_.setTree(e,new uO(null));return new hO(n)}}function gO(t,e){return null!=mO(t,e)}function mO(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(FP(n.path,e)):null}function yO(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(hk,(t,n)=>{e.push(new WP(t,n))}):t.writeTree_.children.inorderTraversal((t,n)=>{null!=n.value&&e.push(new WP(t,n.value))}),e}function _O(t,e){if(LP(e))return t;{const n=mO(t,e);return new hO(null!=n?new uO(n):t.writeTree_.subtree(e))}}function vO(t){return t.writeTree_.isEmpty()}function bO(t,e){return wO(IP(),t.writeTree_,e)}function wO(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((e,r)=>{".priority"===e?((0,Ia.hu)(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=wO(DP(t,e),r,n)}),n.getChild(t).isEmpty()||null===i||(n=n.updateChild(DP(t,".priority"),i)),n}}function CO(t,e){return NO(e,t)}function xO(t,e){if(t.snap)return jP(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&jP(DP(t.path,n),e))return!0;return!1}function PO(t){return t.visible}function kO(t,e,n){let i=hO.empty();for(let r=0;r<t.length;++r){const s=t[r];if(e(s)){const t=s.path;let e;if(s.snap)jP(n,t)?(e=FP(n,t),i=dO(i,e,s.snap)):jP(t,n)&&(e=FP(t,n),i=dO(i,IP(),s.snap.getChild(e)));else{if(!s.children)throw(0,Ia.g5)("WriteRecord should have .snap or .children");if(jP(n,t))e=FP(n,t),i=pO(i,e,s.children);else if(jP(t,n))if(e=FP(t,n),LP(e))i=pO(i,IP(),s.children);else{const t=(0,Ia.DV)(s.children,SP(e));if(t){const n=t.getChild(MP(e));i=dO(i,IP(),n)}}}}}return i}function OO(t,e,n,i,r){if(i||r){const s=_O(t.visibleWrites,e);return!r&&vO(s)?n:r||null!=n||gO(s,IP())?bO(kO(t.allWrites,function(t){return(t.visible||r)&&(!i||!~i.indexOf(t.writeId))&&(jP(t.path,e)||jP(e,t.path))},e),n||vk.EMPTY_NODE):null}{const i=mO(t.visibleWrites,e);if(null!=i)return i;{const i=_O(t.visibleWrites,e);return vO(i)?n:null!=n||gO(i,IP())?bO(i,n||vk.EMPTY_NODE):null}}}function TO(t,e,n,i){return OO(t.writeTree,t.treePath,e,n,i)}function IO(t,e){return function(t,e,n){let i=vk.EMPTY_NODE;const r=mO(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(hk,(t,e)=>{i=i.updateImmediateChild(t,e)}),i;if(n){const r=_O(t.visibleWrites,e);return n.forEachChild(hk,(t,e)=>{const n=bO(_O(r,new TP(t)),e);i=i.updateImmediateChild(t,n)}),yO(r).forEach(t=>{i=i.updateImmediateChild(t.name,t.node)}),i}return yO(_O(t.visibleWrites,e)).forEach(t=>{i=i.updateImmediateChild(t.name,t.node)}),i}(t.writeTree,t.treePath,e)}function SO(t,e,n,i){return function(t,e,n,i,r){(0,Ia.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=DP(e,n);if(gO(t.visibleWrites,s))return null;{const e=_O(t.visibleWrites,s);return vO(e)?r.getChild(n):bO(e,r.getChild(n))}}(t.writeTree,t.treePath,e,n,i)}function EO(t,e){return function(t,e){return mO(t.visibleWrites,e)}(t.writeTree,DP(t.treePath,e))}function MO(t,e,n){return function(t,e,n,i){const r=DP(e,n),s=mO(t.visibleWrites,r);return null!=s?s:i.isCompleteForChild(n)?bO(_O(t.visibleWrites,r),i.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function AO(t,e){return NO(DP(t.treePath,e),t.writeTree)}function NO(t,e){return{treePath:t,writeTree:e}}class RO{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,n=t.childName;(0,Ia.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,Ia.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const r=i.type;if("child_added"===e&&"child_removed"===r)this.changeMap.set(n,Mk(n,t.snapshotNode,i.snapshotNode));else if("child_removed"===e&&"child_added"===r)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===r)this.changeMap.set(n,Ek(n,i.oldSnap));else if("child_changed"===e&&"child_added"===r)this.changeMap.set(n,Sk(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==r)throw(0,Ia.g5)("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(n,Mk(n,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,t)}getChanges(){return Array.from(this.changeMap.values())}}const DO=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,n){return null}};class LO{constructor(t,e,n=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const e=null!=this.optCompleteServerCache_?new eO(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return MO(this.writes_,t,e)}}getChildAfterChild(t,e,n){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:lO(this.viewCache_),r=function(t,e,n,i,r,s){return function(t,e,n,i,r,s,o){let a;const l=_O(t.visibleWrites,e),c=mO(l,IP());if(null!=c)a=c;else{if(null==n)return[];a=bO(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const t=[],e=o.getCompare(),n=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let r=n.getNext();for(;r&&t.length<1;)0!==e(r,i)&&t.push(r),r=n.getNext();return t}}(t.writeTree,t.treePath,e,n,0,r,s)}(this.writes_,i,e,0,n,t);return 0===r.length?null:r[0]}}function FO(t,e,n,i,r,s){const o=e.eventCache;if(null!=EO(i,n))return e;{let a,l;if(LP(n))if((0,Ia.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const n=lO(e),r=IO(i,n instanceof vk?n:vk.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),r,s)}else{const n=TO(i,lO(e));a=t.filter.updateFullNode(e.eventCache.getNode(),n,s)}else{const c=SP(n);if(".priority"===c){(0,Ia.hu)(1===EP(n),"Can't have a priority with additional path components");const r=o.getNode();l=e.serverCache.getNode();const s=SO(i,n,r,l);a=null!=s?t.filter.updatePriority(r,s):o.getNode()}else{const u=MP(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const t=SO(i,n,o.getNode(),l);h=null!=t?o.getNode().getImmediateChild(c).updateChild(u,t):o.getNode().getImmediateChild(c)}else h=MO(i,c,e.serverCache);a=null!=h?t.filter.updateChild(o.getNode(),c,h,u,r,s):o.getNode()}}return sO(e,a,o.isFullyInitialized()||LP(n),t.filter.filtersNodes())}}function UO(t,e,n,i,r,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(LP(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const t=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),t,null)}else{const t=SP(n);if(!l.isCompleteForPath(n)&&EP(n)>1)return e;const r=MP(n),s=l.getNode().getImmediateChild(t).updateChild(r,i);c=".priority"===t?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),t,s,r,DO,null)}const h=oO(e,c,l.isFullyInitialized()||LP(n),u.filtersNodes());return FO(t,h,n,r,new LO(r,h,s),a)}function qO(t,e,n,i,r,s,o){const a=e.eventCache;let l,c;const u=new LO(r,e,s);if(LP(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=sO(e,c,!0,t.filter.filtersNodes());else{const r=SP(n);if(".priority"===r)c=t.filter.updatePriority(e.eventCache.getNode(),i),l=sO(e,c,a.isFullyInitialized(),a.isFiltered());else{const s=MP(n),c=a.getNode().getImmediateChild(r);let h;if(LP(s))h=i;else{const t=u.getCompleteChild(r);h=null!=t?".priority"===AP(s)&&t.getChild(RP(s)).isEmpty()?t:t.updateChild(s,i):vk.EMPTY_NODE}l=c.equals(h)?e:sO(e,t.filter.updateChild(a.getNode(),r,h,s,u,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return l}function jO(t,e){return t.eventCache.isCompleteForChild(e)}function zO(t,e,n){return n.foreach((t,n)=>{e=e.updateChild(t,n)}),e}function VO(t,e,n,i,r,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,c=e;l=LP(n)?i:new uO(null).setTree(n,i);const u=e.serverCache.getNode();return l.children.inorderTraversal((n,i)=>{if(u.hasChild(n)){const l=zO(0,e.serverCache.getNode().getImmediateChild(n),i);c=UO(t,c,new TP(n),l,r,s,o,a)}}),l.children.inorderTraversal((n,i)=>{const l=!e.serverCache.isCompleteForChild(n)&&void 0===i.value;if(!u.hasChild(n)&&!l){const l=zO(0,e.serverCache.getNode().getImmediateChild(n),i);c=UO(t,c,new TP(n),l,r,s,o,a)}}),c}class BO{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new Ak(n.getIndex()),r=(s=n).loadsAllData()?new Ak(s.getIndex()):s.hasLimit()?new Rk(s):new Nk(s);var s;this.processor_=function(t){return{filter:t}}(r);const o=e.serverCache,a=e.eventCache,l=i.updateFullNode(vk.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(vk.EMPTY_NODE,a.getNode(),null),u=new eO(l,o.isFullyInitialized(),i.filtersNodes()),h=new eO(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=rO(h,u),this.eventGenerator_=new nO(this.query_)}get query(){return this.query_}}function HO(t,e){const n=lO(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!LP(e)&&!n.getImmediateChild(SP(e)).isEmpty())?n.getChild(e):null}function $O(t){return 0===t.eventRegistrations_.length}function GO(t,e,n){const i=[];if(n){(0,Ia.hu)(null==e,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(t=>{const e=t.createCancelEvent(n,r);e&&i.push(e)})}if(e){let n=[];for(let i=0;i<t.eventRegistrations_.length;++i){const r=t.eventRegistrations_[i];if(r.matches(e)){if(e.hasAnyCallback()){n=n.concat(t.eventRegistrations_.slice(i+1));break}}else n.push(r)}t.eventRegistrations_=n}else t.eventRegistrations_=[];return i}function ZO(t,e,n,i){e.type===Kk.MERGE&&null!==e.source.queryId&&((0,Ia.hu)(lO(t.viewCache_),"We should always have a full cache before handling merges"),(0,Ia.hu)(aO(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,s=function(t,e,n,i,r){const s=new RO;let o,a;if(n.type===Kk.OVERWRITE){const l=n;l.source.fromUser?o=qO(t,e,l.path,l.snap,i,r,s):((0,Ia.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!LP(l.path),o=UO(t,e,l.path,l.snap,i,r,a,s))}else if(n.type===Kk.MERGE){const l=n;l.source.fromUser?o=function(t,e,n,i,r,s,o){let a=e;return i.foreach((i,l)=>{const c=DP(n,i);jO(e,SP(c))&&(a=qO(t,a,c,l,r,s,o))}),i.foreach((i,l)=>{const c=DP(n,i);jO(e,SP(c))||(a=qO(t,a,c,l,r,s,o))}),a}(t,e,l.path,l.children,i,r,s):((0,Ia.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=VO(t,e,l.path,l.children,i,r,a,s))}else if(n.type===Kk.ACK_USER_WRITE){const a=n;o=a.revert?function(t,e,n,i,r,s){let o;if(null!=EO(i,n))return e;{const a=new LO(i,e,r),l=e.eventCache.getNode();let c;if(LP(n)||".priority"===SP(n)){let n;if(e.serverCache.isFullyInitialized())n=TO(i,lO(e));else{const t=e.serverCache.getNode();(0,Ia.hu)(t instanceof vk,"serverChildren would be complete if leaf node"),n=IO(i,t)}n=n,c=t.filter.updateFullNode(l,n,s)}else{const r=SP(n);let u=MO(i,r,e.serverCache);null==u&&e.serverCache.isCompleteForChild(r)&&(u=l.getImmediateChild(r)),c=null!=u?t.filter.updateChild(l,r,u,MP(n),a,s):e.eventCache.getNode().hasChild(r)?t.filter.updateChild(l,r,vk.EMPTY_NODE,MP(n),a,s):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=TO(i,lO(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=EO(i,IP()),sO(e,c,o,t.filter.filtersNodes())}}(t,e,a.path,i,r,s):function(t,e,n,i,r,s,o){if(null!=EO(r,n))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=i.value){if(LP(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return UO(t,e,n,l.getNode().getChild(n),r,s,a,o);if(LP(n)){let i=new uO(null);return l.getNode().forEachChild(QP,(t,e)=>{i=i.set(new TP(t),e)}),VO(t,e,n,i,r,s,a,o)}return e}{let c=new uO(null);return i.foreach((t,e)=>{const i=DP(n,t);l.isCompleteForPath(i)&&(c=c.set(t,l.getNode().getChild(i)))}),VO(t,e,n,c,r,s,a,o)}}(t,e,a.path,a.affectedTree,i,r,s)}else{if(n.type!==Kk.LISTEN_COMPLETE)throw(0,Ia.g5)("Unknown operation type: "+n.type);o=function(t,e,n,i,r){const s=e.serverCache;return FO(t,oO(e,s.getNode(),s.isFullyInitialized()||LP(n),s.isFiltered()),n,i,DO,r)}(t,e,n.path,i,s)}const l=s.getChanges();return function(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=aO(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(Ik(aO(e)))}}(e,o,l),{viewCache:o,changes:l}}(t.processor_,r,e,n,i);var o,a;return o=t.processor_,(0,Ia.hu)((a=s.viewCache).eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),(0,Ia.hu)(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),(0,Ia.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,WO(t,s.changes,s.viewCache.eventCache.getNode(),null)}function WO(t,e,n,i){return function(t,e,n,i){const r=[],s=[];return e.forEach(e=>{"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&s.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})}),iO(t,r,"child_removed",e,i,n),iO(t,r,"child_added",e,i,n),iO(t,r,"child_moved",s,i,n),iO(t,r,"child_changed",e,i,n),iO(t,r,"value",e,i,n),r}(t.eventGenerator_,e,n,i?[i]:t.eventRegistrations_)}let KO,YO;class QO{constructor(){this.views=new Map}}function JO(t,e,n,i){const r=e.source.queryId;if(null!==r){const s=t.views.get(r);return(0,Ia.hu)(null!=s,"SyncTree gave us an op for an invalid query."),ZO(s,e,n,i)}{let r=[];for(const s of t.views.values())r=r.concat(ZO(s,e,n,i));return r}}function XO(t,e,n,i,r){const s=t.views.get(e._queryIdentifier);if(!s){let t=TO(n,r?i:null),s=!1;t?s=!0:i instanceof vk?(t=IO(n,i),s=!1):(t=vk.EMPTY_NODE,s=!1);const o=rO(new eO(t,s,!1),new eO(i,r,!1));return new BO(e,o)}return s}function tT(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function eT(t,e){let n=null;for(const i of t.views.values())n=n||HO(i,e);return n}function nT(t,e){return e._queryParams.loadsAllData()?sT(t):t.views.get(e._queryIdentifier)}function iT(t,e){return null!=nT(t,e)}function rT(t){return null!=sT(t)}function sT(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let oT=1;class aT{constructor(t){this.listenProvider_=t,this.syncPointTree_=new uO(null),this.pendingWriteTree_={visibleWrites:hO.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function lT(t,e,n,i,r){return function(t,e,n,i,r){(0,Ia.hu)(i>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=dO(t.visibleWrites,e,n)),t.lastWriteId=i}(t.pendingWriteTree_,e,n,i,r),r?fT(t,new Xk({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function cT(t,e,n=!1){const i=function(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}(t.pendingWriteTree_,e);if(function(t,e){const n=t.allWrites.findIndex(t=>t.writeId===e);(0,Ia.hu)(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const e=t.allWrites[o];e.visible&&(o>=n&&xO(e,i.path)?r=!1:jP(i.path,e.path)&&(s=!0)),o--}return!!r&&(s?(function(t){t.visibleWrites=kO(t.allWrites,PO,IP()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(i.snap?t.visibleWrites=fO(t.visibleWrites,i.path):Xx(i.children,e=>{t.visibleWrites=fO(t.visibleWrites,DP(i.path,e))}),!0))}(t.pendingWriteTree_,e)){let e=new uO(null);return null!=i.snap?e=e.set(IP(),!0):Xx(i.children,t=>{e=e.set(new TP(t),!0)}),fT(t,new Qk(i.path,e,n))}return[]}function uT(t,e,n){return fT(t,new Xk({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function hT(t,e,n,i){const r=e._path,s=t.syncPointTree_.get(r);let o=[];if(s&&("default"===e._queryIdentifier||iT(s,e))){const a=function(t,e,n,i){const r=e._queryIdentifier,s=[];let o=[];const a=rT(t);if("default"===r)for(const[l,c]of t.views.entries())o=o.concat(GO(c,n,i)),$O(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const e=t.views.get(r);e&&(o=o.concat(GO(e,n,i)),$O(e)&&(t.views.delete(r),e.query._queryParams.loadsAllData()||s.push(e.query)))}return a&&!rT(t)&&s.push(new((0,Ia.hu)(KO,"Reference.ts has not been loaded"),KO)(e._repo,e._path)),{removed:s,events:o}}(s,e,n,i);0===s.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(r));const l=a.removed;o=a.events;const c=-1!==l.findIndex(t=>t._queryParams.loadsAllData()),u=t.syncPointTree_.findOnPath(r,(t,e)=>rT(e));if(c&&!u){const e=t.syncPointTree_.subtree(r);if(!e.isEmpty()){const n=function(t){return t.fold((t,e,n)=>{if(e&&rT(e))return[sT(e)];{let t=[];return e&&(t=tT(e)),Xx(n,(e,n)=>{t=t.concat(n)}),t}})}(e);for(let e=0;e<n.length;++e){const i=n[e],r=i.query,s=yT(t,i);t.listenProvider_.startListening(xT(r),_T(t,r),s.hashFn,s.onComplete)}}}if(!u&&l.length>0&&!i)if(c){const n=null;t.listenProvider_.stopListening(xT(e),n)}else l.forEach(e=>{const n=t.queryToTagMap.get(vT(e));t.listenProvider_.stopListening(xT(e),n)});!function(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const e=vT(i),n=t.queryToTagMap.get(e);t.queryToTagMap.delete(e),t.tagToQueryMap.delete(n)}}}(t,l)}return o}function dT(t,e,n){const i=e._path;let r=null,s=!1;t.syncPointTree_.foreachOnPath(i,(t,e)=>{const n=FP(t,i);r=r||eT(e,n),s=s||rT(e)});let o,a=t.syncPointTree_.get(i);a?(s=s||rT(a),r=r||eT(a,IP())):(a=new QO,t.syncPointTree_=t.syncPointTree_.set(i,a)),null!=r?o=!0:(o=!1,r=vk.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((t,e)=>{const n=eT(e,IP());n&&(r=r.updateImmediateChild(t,n))}));const l=iT(a,e);if(!l&&!e._queryParams.loadsAllData()){const n=vT(e);(0,Ia.hu)(!t.queryToTagMap.has(n),"View does not exist, but we have a tag");const i=oT++;t.queryToTagMap.set(n,i),t.tagToQueryMap.set(i,n)}let c=function(t,e,n,i,r,s){const o=XO(t,e,i,r,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),function(t,e){t.eventRegistrations_.push(e)}(o,n),function(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(hk,(t,e)=>{i.push(Sk(t,e))}),n.isFullyInitialized()&&i.push(Ik(n.getNode())),WO(t,i,n.getNode(),e)}(o,n)}(a,e,n,CO(t.pendingWriteTree_,i),r,o);if(!l&&!s){const n=nT(a,e);c=c.concat(function(t,e,n){const i=e._path,r=_T(t,e),s=yT(t,n),o=t.listenProvider_.startListening(xT(e),r,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(i);if(r)(0,Ia.hu)(!rT(a.value),"If we're adding a query, it shouldn't be shadowed");else{const e=a.fold((t,e,n)=>{if(!LP(t)&&e&&rT(e))return[sT(e).query];{let t=[];return e&&(t=t.concat(tT(e).map(t=>t.query))),Xx(n,(e,n)=>{t=t.concat(n)}),t}});for(let n=0;n<e.length;++n){const i=e[n];t.listenProvider_.stopListening(xT(i),_T(t,i))}}return o}(t,e,n))}return c}function pT(t,e,n){const i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(t,n)=>{const i=eT(n,FP(t,e));if(i)return i});return OO(i,e,r,n,!0)}function fT(t,e){return gT(e,t.syncPointTree_,null,CO(t.pendingWriteTree_,IP()))}function gT(t,e,n,i){if(LP(t.path))return mT(t,e,n,i);{const r=e.get(IP());null==n&&null!=r&&(n=eT(r,IP()));let s=[];const o=SP(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const t=n?n.getImmediateChild(o):null,e=AO(i,o);s=s.concat(gT(a,l,t,e))}return r&&(s=s.concat(JO(r,t,i,n))),s}}function mT(t,e,n,i){const r=e.get(IP());null==n&&null!=r&&(n=eT(r,IP()));let s=[];return e.children.inorderTraversal((e,r)=>{const o=n?n.getImmediateChild(e):null,a=AO(i,e),l=t.operationForChild(e);l&&(s=s.concat(mT(l,r,o,a)))}),r&&(s=s.concat(JO(r,t,i,n))),s}function yT(t,e){const n=e.query,i=_T(t,n);return{hashFn:()=>(function(t){return t.viewCache_.serverCache.getNode()}(e)||vk.EMPTY_NODE).hash(),onComplete:e=>{if("ok"===e)return i?function(t,e,n){const i=bT(t,n);if(i){const n=wT(i),r=n.path,s=n.queryId,o=FP(r,e);return CT(t,r,new Jk(Yk(s),o))}return[]}(t,n._path,i):function(t,e){return fT(t,new Jk({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);{const i=function(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}(e,n);return hT(t,n,null,i)}}}}function _T(t,e){const n=vT(e);return t.queryToTagMap.get(n)}function vT(t){return t._path.toString()+"$"+t._queryIdentifier}function bT(t,e){return t.tagToQueryMap.get(e)}function wT(t){const e=t.indexOf("$");return(0,Ia.hu)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new TP(t.substr(0,e))}}function CT(t,e,n){const i=t.syncPointTree_.get(e);return(0,Ia.hu)(i,"Missing sync point for query tag that we're tracking"),JO(i,n,CO(t.pendingWriteTree_,e),null)}function xT(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new((0,Ia.hu)(YO,"Reference.ts has not been loaded"),YO)(t._repo,t._path):t}class PT{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new PT(e)}node(){return this.node_}}class kT{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=DP(this.path_,t);return new kT(this.syncTree_,e)}node(){return pT(this.syncTree_,this.path_)}}const OT=function(t,e,n){return t&&"object"==typeof t?((0,Ia.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?TT(t[".sv"],e,n):"object"==typeof t[".sv"]?IT(t[".sv"],e):void(0,Ia.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},TT=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:(0,Ia.hu)(!1,"Unexpected server value: "+t)}},IT=function(t,e,n){t.hasOwnProperty("increment")||(0,Ia.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;"number"!=typeof i&&(0,Ia.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,Ia.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return"number"!=typeof s?i:s+i},ST=function(t,e,n,i){return MT(e,new kT(n,t),i)},ET=function(t,e,n){return MT(t,new PT(e),n)};function MT(t,e,n){const i=t.getPriority().val(),r=OT(i,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const i=t,s=OT(i.getValue(),e,n);return s!==i.getValue()||r!==i.getPriority().val()?new uk(s,wk(r)):t}{const i=t;return s=i,r!==i.getPriority().val()&&(s=s.updatePriority(new uk(r))),i.forEachChild(hk,(t,i)=>{const r=MT(i,e.getImmediateChild(t),n);r!==i&&(s=s.updateImmediateChild(t,r))}),s}}class AT{constructor(t="",e=null,n={children:{},childCount:0}){this.name=t,this.parent=e,this.node=n}}function NT(t,e){let n=e instanceof TP?e:new TP(e),i=t,r=SP(n);for(;null!==r;){const t=(0,Ia.DV)(i.node.children,r)||{children:{},childCount:0};i=new AT(r,i,t),n=MP(n),r=SP(n)}return i}function RT(t){return t.node.value}function DT(t,e){t.node.value=e,jT(t)}function LT(t){return t.node.childCount>0}function FT(t,e){Xx(t.node.children,(n,i)=>{e(new AT(n,t,i))})}function UT(t,e,n,i){n&&!i&&e(t),FT(t,t=>{UT(t,e,!0,i)}),n&&i&&e(t)}function qT(t){return new TP(null===t.parent?t.name:qT(t.parent)+"/"+t.name)}function jT(t){null!==t.parent&&function(t,e,n){const i=function(t){return void 0===RT(t)&&!LT(t)}(n),r=(0,Ia.r3)(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,jT(t)):i||r||(t.node.children[e]=n.node,t.node.childCount++,jT(t))}(t.parent,t.name,t)}const zT=/[\[\].#$\/\u0000-\u001F\u007F]/,VT=/[\[\].#$\u0000-\u001F\u007F]/,BT=10485760,HT=function(t){return"string"==typeof t&&0!==t.length&&!zT.test(t)},$T=function(t){return"string"==typeof t&&0!==t.length&&!VT.test(t)},GT=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!$x(t)||t&&"object"==typeof t&&(0,Ia.r3)(t,".sv")},ZT=function(t,e,n,i){i&&void 0===e||WT((0,Ia.gK)(t,"value"),e,n)},WT=function(t,e,n){const i=n instanceof TP?new zP(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+BP(i));if("function"==typeof e)throw new Error(t+"contains a function "+BP(i)+" with contents = "+e.toString());if($x(e))throw new Error(t+"contains "+e.toString()+" "+BP(i));if("string"==typeof e&&e.length>BT/3&&(0,Ia.ug)(e)>BT)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+BP(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let n=!1,r=!1;if(Xx(e,(e,s)=>{if(".value"===e)n=!0;else if(".priority"!==e&&".sv"!==e&&(r=!0,!HT(e)))throw new Error(t+" contains an invalid key ("+e+") "+BP(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,Ia.ug)(e),VP(t)}(i,e),WT(t,s,i),function(t){const e=t.parts_.pop();t.byteLength_-=(0,Ia.ug)(e),t.parts_.length>0&&(t.byteLength_-=1)}(i)}),n&&r)throw new Error(t+' contains ".value" child '+BP(i)+" in addition to actual children.")}},KT=function(t,e,n,i){if(i&&void 0===e)return;const r=(0,Ia.gK)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];Xx(e,(t,e)=>{const i=new TP(t);if(WT(r,e,DP(n,i)),".priority"===AP(i)&&!GT(e))throw new Error(r+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(i)}),function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const r=NP(i);for(let e=0;e<r.length;e++)if(".priority"===r[e]&&e===r.length-1);else if(!HT(r[e]))throw new Error(t+"contains an invalid key ("+r[e]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(UP);let r=null;for(n=0;n<e.length;n++){if(i=e[n],null!==r&&jP(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},YT=function(t,e,n){if(!n||void 0!==e){if($x(e))throw new Error((0,Ia.gK)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!GT(e))throw new Error((0,Ia.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},QT=function(t,e,n,i){if(!(i&&void 0===n||HT(n)))throw new Error((0,Ia.gK)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},JT=function(t,e,n,i){if(!(i&&void 0===n||$T(n)))throw new Error((0,Ia.gK)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},XT=function(t,e){if(".info"===SP(e))throw new Error(t+" failed = Can't modify data under /.info/")},tI=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!HT(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),$T(t)}(n))throw new Error((0,Ia.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class eI{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function nI(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null===n||qP(s,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)}function iI(t,e,n){nI(t,n),sI(t,t=>qP(t,e))}function rI(t,e,n){nI(t,n),sI(t,t=>jP(t,e)||jP(e,t))}function sI(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];r&&(e(r.path)?(oI(t.eventLists_[i]),t.eventLists_[i]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function oI(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const i=n.getEventRunner();Fx&&jx("event: "+n.toString()),iP(i)}}}const aI="repo_interrupt";class lI{constructor(t,e,n,i){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new eI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Bk(),this.transactionQueueTree_=new AT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function cI(t){const e=t.infoData_.getNode(new TP(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function uI(t){return(e=(e={timestamp:cI(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function hI(t,e,n,i,r){t.dataUpdateCount++;const s=new TP(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(i){const e=(0,Ia.UI)(n,t=>wk(t));o=function(t,e,n,i){const r=bT(t,i);if(r){const i=wT(r),s=i.path,o=i.queryId,a=FP(s,e),l=uO.fromObject(n);return CT(t,s,new tO(Yk(o),a,l))}return[]}(t.serverSyncTree_,s,e,r)}else{const e=wk(n);o=function(t,e,n,i){const r=bT(t,i);if(null!=r){const i=wT(r),s=i.path,o=i.queryId,a=FP(s,e);return CT(t,s,new Xk(Yk(o),a,n))}return[]}(t.serverSyncTree_,s,e,r)}else if(i){const e=(0,Ia.UI)(n,t=>wk(t));o=function(t,e,n){const i=uO.fromObject(n);return fT(t,new tO({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,s,e)}else{const e=wk(n);o=uT(t.serverSyncTree_,s,e)}let a=s;o.length>0&&(a=PI(t,s)),rI(t.eventQueue_,a,o)}function dI(t,e){pI(t,"connected",e),!1===e&&function(t){bI(t,"onDisconnectEvents");const e=uI(t),n=Bk();Gk(t.onDisconnect_,IP(),(i,r)=>{const s=ST(i,r,t.serverSyncTree_,e);Hk(n,i,s)});let i=[];Gk(n,IP(),(e,n)=>{i=i.concat(uT(t.serverSyncTree_,e,n));const r=SI(t,e);PI(t,r)}),t.onDisconnect_=Bk(),rI(t.eventQueue_,IP(),i)}(t)}function pI(t,e,n){const i=new TP("/.info/"+e),r=wk(n);t.infoData_.updateSnapshot(i,r);const s=uT(t.infoSyncTree_,i,r);rI(t.eventQueue_,i,s)}function fI(t){return t.nextWriteId_++}function gI(t,e,n,i,r){bI(t,"set",{path:e.toString(),value:n,priority:i});const s=uI(t),o=wk(n,i),a=pT(t.serverSyncTree_,e),l=ET(o,a,s),c=fI(t),u=lT(t.serverSyncTree_,e,l,c,!0);nI(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(n,i)=>{const s="ok"===n;s||Hx("set at "+e+" failed: "+n);const o=cT(t.serverSyncTree_,c,!s);rI(t.eventQueue_,e,o),wI(0,r,n,i)});const h=SI(t,e);PI(t,h),rI(t.eventQueue_,h,[])}function mI(t,e,n){t.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&$k(t.onDisconnect_,e),wI(0,n,i,r)})}function yI(t,e,n,i){const r=wk(n);t.server_.onDisconnectPut(e.toString(),r.val(!0),(n,s)=>{"ok"===n&&Hk(t.onDisconnect_,e,r),wI(0,i,n,s)})}function _I(t,e,n){let i;i=".info"===SP(e._path)?hT(t.infoSyncTree_,e,n):hT(t.serverSyncTree_,e,n),iI(t.eventQueue_,e._path,i)}function vI(t){t.persistentConnection_&&t.persistentConnection_.interrupt(aI)}function bI(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),jx(n,...e)}function wI(t,e,n,i){e&&iP(()=>{if("ok"===n)e(null);else{const t=(n||"error").toUpperCase();let r=t;i&&(r+=": "+i);const s=new Error(r);s.code=t,e(s)}})}function CI(t,e,n){return pT(t.serverSyncTree_,e,n)||vk.EMPTY_NODE}function xI(t,e=t.transactionQueueTree_){if(e||II(t,e),RT(e)){const n=OI(t,e);(0,Ia.hu)(n.length>0,"Sending zero length transaction queue"),n.every(t=>0===t.status)&&function(t,e,n){const i=n.map(t=>t.currentWriteId),r=CI(t,e,i);let s=r;const o=r.hash();for(let c=0;c<n.length;c++){const t=n[c];(0,Ia.hu)(0===t.status,"tryToSendTransactionQueue_: items in queue should all be run."),t.status=1,t.retryCount++;const i=FP(e,t.path);s=s.updateChild(i,t.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,i=>{bI(t,"transaction put response",{path:l.toString(),status:i});let r=[];if("ok"===i){const i=[];for(let e=0;e<n.length;e++)n[e].status=2,r=r.concat(cT(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&i.push(()=>n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)),n[e].unwatcher();II(t,NT(t.transactionQueueTree_,e)),xI(t,t.transactionQueueTree_),rI(t.eventQueue_,e,r);for(let t=0;t<i.length;t++)iP(i[t])}else{if("datastale"===i)for(let t=0;t<n.length;t++)n[t].status=3===n[t].status?4:0;else{Hx("transaction at "+l.toString()+" failed: "+i);for(let t=0;t<n.length;t++)n[t].status=4,n[t].abortReason=i}PI(t,e)}},o)}(t,qT(e),n)}else LT(e)&&FT(e,e=>{xI(t,e)})}function PI(t,e){const n=kI(t,e),i=qT(n);return function(t,e,n){if(0===e.length)return;const i=[];let r=[];const s=e.filter(t=>0===t.status).map(t=>t.currentWriteId);for(let o=0;o<e.length;o++){const a=e[o],l=FP(n,a.path);let c,u=!1;if((0,Ia.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===a.status)u=!0,c=a.abortReason,r=r.concat(cT(t.serverSyncTree_,a.currentWriteId,!0));else if(0===a.status)if(a.retryCount>=25)u=!0,c="maxretry",r=r.concat(cT(t.serverSyncTree_,a.currentWriteId,!0));else{const n=CI(t,a.path,s);a.currentInputSnapshot=n;const i=e[o].update(n.val());if(void 0!==i){WT("transaction failed: Data returned ",i,a.path);let e=wk(i);"object"==typeof i&&null!=i&&(0,Ia.r3)(i,".priority")||(e=e.updatePriority(n.getPriority()));const o=a.currentWriteId,l=uI(t),c=ET(e,n,l);a.currentOutputSnapshotRaw=e,a.currentOutputSnapshotResolved=c,a.currentWriteId=fI(t),s.splice(s.indexOf(o),1),r=r.concat(lT(t.serverSyncTree_,a.path,c,a.currentWriteId,a.applyLocally)),r=r.concat(cT(t.serverSyncTree_,o,!0))}else u=!0,c="nodata",r=r.concat(cT(t.serverSyncTree_,a.currentWriteId,!0))}rI(t.eventQueue_,n,r),r=[],u&&(e[o].status=2,setTimeout(e[o].unwatcher,Math.floor(0)),e[o].onComplete&&i.push("nodata"===c?()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot):()=>e[o].onComplete(new Error(c),!1,null)))}II(t,t.transactionQueueTree_);for(let o=0;o<i.length;o++)iP(i[o]);xI(t,t.transactionQueueTree_)}(t,OI(t,n),i),i}function kI(t,e){let n,i=t.transactionQueueTree_;for(n=SP(e);null!==n&&void 0===RT(i);)i=NT(i,n),n=SP(e=MP(e));return i}function OI(t,e){const n=[];return TI(t,e,n),n.sort((t,e)=>t.order-e.order),n}function TI(t,e,n){const i=RT(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);FT(e,e=>{TI(t,e,n)})}function II(t,e){const n=RT(e);if(n){let t=0;for(let e=0;e<n.length;e++)2!==n[e].status&&(n[t]=n[e],t++);n.length=t,DT(e,n.length>0?n:void 0)}FT(e,e=>{II(t,e)})}function SI(t,e){const n=qT(kI(t,e)),i=NT(t.transactionQueueTree_,e);return function(t,e,n){let i=t.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,e=>{EI(t,e)}),EI(t,i),UT(i,e=>{EI(t,e)}),n}function EI(t,e){const n=RT(e);if(n){const i=[];let r=[],s=-1;for(let e=0;e<n.length;e++)3===n[e].status||(1===n[e].status?((0,Ia.hu)(s===e-1,"All SENT items should be at beginning of queue."),s=e,n[e].status=3,n[e].abortReason="set"):((0,Ia.hu)(0===n[e].status,"Unexpected transaction status in abort"),n[e].unwatcher(),r=r.concat(cT(t.serverSyncTree_,n[e].currentWriteId,!0)),n[e].onComplete&&i.push(n[e].onComplete.bind(null,new Error("set"),!1,null))));-1===s?DT(e,void 0):n.length=s+1,rI(t.eventQueue_,qT(e),r);for(let t=0;t<i.length;t++)iP(i[t])}}const MI=function(t,e){const n=AI(t),i=n.namespace;return"firebase.com"===n.domain&&Bx(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||Bx("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Hx("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new hP(n.host,n.secure,i,e,"ws"===n.scheme||"wss"===n.scheme,"",i!==n.subdomain),path:new TP(n.pathString)}},AI=function(t){let e="",n="",i="",r="",s="",o=!0,a="https",l=443;if("string"==typeof t){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");-1===u&&(u=t.length);let h=t.indexOf("?");-1===h&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(r=function(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let t=n[r];try{t=decodeURIComponent(t.replace(/\+/g," "))}catch(i){}e+="/"+t}return e}(t.substring(u,h)));const d=function(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const i=n.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Hx(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const t=e.indexOf(".");i=e.substring(0,t).toLowerCase(),n=e.substring(t+1),s=i}"ns"in d&&(s=d.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};class NI{constructor(t,e,n,i){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=i}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Ia.Pz)(this.snapshot.exportVal())}}class RI{constructor(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class DI{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,Ia.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class LI{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new Ia.BH;return mI(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){XT("OnDisconnect.remove",this._path);const t=new Ia.BH;return yI(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){XT("OnDisconnect.set",this._path),ZT("OnDisconnect.set",t,this._path,!1);const e=new Ia.BH;return yI(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){XT("OnDisconnect.setWithPriority",this._path),ZT("OnDisconnect.setWithPriority",t,this._path,!1),YT("OnDisconnect.setWithPriority",e,!1);const n=new Ia.BH;return function(t,e,n,i,r){const s=wk(n,i);t.server_.onDisconnectPut(e.toString(),s.val(!0),(n,i)=>{"ok"===n&&Hk(t.onDisconnect_,e,s),wI(0,r,n,i)})}(this._repo,this._path,t,e,n.wrapCallback(()=>{})),n.promise}update(t){XT("OnDisconnect.update",this._path),KT("OnDisconnect.update",t,this._path,!1);const e=new Ia.BH;return function(t,e,n,i){if((0,Ia.xb)(n))return jx("onDisconnect().update() called with empty data.  Don't do anything."),void wI(0,i,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(r,s)=>{"ok"===r&&Xx(n,(n,i)=>{const r=wk(i);Hk(t.onDisconnect_,DP(e,n),r)}),wI(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class FI{constructor(t,e,n,i){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=i}get key(){return LP(this._path)?null:AP(this._path)}get ref(){return new zI(this._repo,this._path)}get _queryIdentifier(){const t=jk(this._queryParams),e=Qx(t);return"{}"===e?"default":e}get _queryObject(){return jk(this._queryParams)}isEqual(t){if(!((t=(0,Ia.m9)(t))instanceof FI))return!1;const e=this._repo===t._repo,n=qP(this._path,t._path);return e&&n&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}function UI(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function qI(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===QP){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Gx)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!==Zx)throw new Error(i);if("string"!=typeof n)throw new Error(r)}}else if(t.getIndex()===hk){if(null!=e&&!GT(e)||null!=n&&!GT(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Ia.hu)(t.getIndex()instanceof Ck||t.getIndex()===xk,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function jI(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class zI extends FI{constructor(t,e){super(t,e,new Dk,!1)}get parent(){const t=RP(this._path);return null===t?null:new zI(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class VI{constructor(t,e,n){this._node=t,this.ref=e,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new TP(t),n=$I(this.ref,t);return new VI(this._node.getChild(e),n,hk)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(e,n)=>t(new VI(n,$I(this.ref,e),hk)))}hasChild(t){const e=new TP(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function BI(t,e){return(t=(0,Ia.m9)(t))._checkNotDeleted("ref"),void 0!==e?$I(t._root,e):t._root}function HI(t,e){(t=(0,Ia.m9)(t))._checkNotDeleted("refFromURL");const n=MI(e,t._repo.repoInfo_.nodeAdmin);tI("refFromURL",n);const i=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||i.host===t._repo.repoInfo_.host||Bx("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+t._repo.repoInfo_.host+")"),BI(t,n.path.toString())}function $I(t,e){var n;return null===SP((t=(0,Ia.m9)(t))._path)?((n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),JT("child","path",n,!1)):JT("child","path",e,!1),new zI(t._repo,DP(t._path,e))}function GI(t,e){t=(0,Ia.m9)(t),XT("set",t._path),ZT("set",e,t._path,!1);const n=new Ia.BH;return gI(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class ZI{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const n=e._queryParams.getIndex();return new NI("value",this,new VI(t.snapshotNode,new zI(e._repo,e._path),n))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new RI(this,t,e):null}matches(t){return t instanceof ZI&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class WI{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new RI(this,t,e):null}createEvent(t,e){(0,Ia.hu)(null!=t.childName,"Child events should have a childName.");const n=$I(new zI(e._repo,e._path),t.childName),i=e._queryParams.getIndex();return new NI(t.type,this,new VI(t.snapshotNode,n,i),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof WI&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function KI(t,e,n,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const e=n,i=(n,i)=>{_I(t._repo,t,a),e(n,i)};i.userCallback=n.userCallback,i.context=n.context,n=i}const o=new DI(n,s||void 0),a="value"===e?new ZI(o):new WI(e,o);return function(t,e,n){let i;i=".info"===SP(e._path)?dT(t.infoSyncTree_,e,n):dT(t.serverSyncTree_,e,n),iI(t.eventQueue_,e._path,i)}(t._repo,t,a),()=>_I(t._repo,t,a)}function YI(t,e,n,i){return KI(t,"value",e,n,i)}function QI(t,e,n,i){return KI(t,"child_added",e,n,i)}function JI(t,e,n,i){return KI(t,"child_changed",e,n,i)}function XI(t,e,n,i){return KI(t,"child_moved",e,n,i)}function tS(t,e,n,i){return KI(t,"child_removed",e,n,i)}function eS(t,e,n){let i=null;const r=n?new DI(n):null;"value"===e?i=new ZI(r):e&&(i=new WI(e,r)),_I(t._repo,t,i)}class nS{}class iS extends nS{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ZT("endAt",this._value,t._path,!0);const e=Fk(t._queryParams,this._value,this._key);if(jI(e),qI(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new FI(t._repo,t._path,e,t._orderByCalled)}}class rS extends nS{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ZT("endBefore",this._value,t._path,!1);const e=function(t,e,n){let i,r;return t.index_===QP?("string"==typeof e&&(e=Tk(e)),r=Fk(t,e,n)):(i=null==n?Gx:Tk(n),r=Fk(t,e,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(jI(e),qI(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new FI(t._repo,t._path,e,t._orderByCalled)}}class sS extends nS{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ZT("startAt",this._value,t._path,!0);const e=Lk(t._queryParams,this._value,this._key);if(jI(e),qI(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new FI(t._repo,t._path,e,t._orderByCalled)}}class oS extends nS{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ZT("startAfter",this._value,t._path,!1);const e=function(t,e,n){let i;if(t.index_===QP)"string"==typeof e&&(e=Ok(e)),i=Lk(t,e,n);else{let r;r=null==n?Zx:Ok(n),i=Lk(t,e,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(jI(e),qI(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new FI(t._repo,t._path,e,t._orderByCalled)}}class aS extends nS{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new FI(t._repo,t._path,function(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}(t._queryParams,this._limit),t._orderByCalled)}}class lS extends nS{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new FI(t._repo,t._path,function(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}(t._queryParams,this._limit),t._orderByCalled)}}class cS extends nS{constructor(t){super(),this._path=t}_apply(t){UI(t,"orderByChild");const e=new TP(this._path);if(LP(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new Ck(e),i=Uk(t._queryParams,n);return qI(i),new FI(t._repo,t._path,i,!0)}}class uS extends nS{_apply(t){UI(t,"orderByKey");const e=Uk(t._queryParams,QP);return qI(e),new FI(t._repo,t._path,e,!0)}}class hS extends nS{_apply(t){UI(t,"orderByPriority");const e=Uk(t._queryParams,hk);return qI(e),new FI(t._repo,t._path,e,!0)}}class dS extends nS{_apply(t){UI(t,"orderByValue");const e=Uk(t._queryParams,xk);return qI(e),new FI(t._repo,t._path,e,!0)}}class pS extends nS{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(ZT("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new iS(this._value,this._key)._apply(new sS(this._value,this._key)._apply(t))}}function fS(t,...e){let n=(0,Ia.m9)(t);for(const i of e)n=i._apply(n);return n}!function(t){(0,Ia.hu)(!KO,"__referenceConstructor has already been defined"),KO=t}(zI),function(t){(0,Ia.hu)(!YO,"__referenceConstructor has already been defined"),YO=t}(zI);const gS={};function mS(t,e,n,i,r){let s=i||t.options.databaseURL;void 0===s&&(t.options.projectId||Bx("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),jx("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o,a,l=MI(s,r),c=l.repoInfo;"undefined"!=typeof process&&(a=process.env.FIREBASE_DATABASE_EMULATOR_HOST),a?(o=!0,s=`http://${a}?ns=${c.namespace}`,l=MI(s,r),c=l.repoInfo):o=!l.repoInfo.secure;const u=r&&o?new aP(aP.OWNER):new oP(t.name,t.options,e);tI("Invalid Firebase Database URL",l),LP(l.path)||Bx("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(t,e,n,i){let r=gS[e.name];r||(r={},gS[e.name]=r);let s=r[t.toURLString()];return s&&Bx("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new lI(t,!1,n,i),r[t.toURLString()]=s,s}(c,t,u,new sP(t.name,n));return new yS(h,t)}class yS{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(t,e,n){if(t.stats_=mP(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new zk(t.repoInfo_,(e,n,i,r)=>{hI(t,e,n,i,r)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>dI(t,!0),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Ia.Pz)(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new ZP(t.repoInfo_,e,(e,n,i,r)=>{hI(t,e,n,i,r)},e=>{dI(t,e)},e=>{!function(t,e){Xx(e,(e,n)=>{pI(t,e,n)})}(t,e)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(e=>{t.server_.refreshAuthToken(e)}),t.appCheckProvider_.addTokenChangeListener(e=>{t.server_.refreshAppCheckToken(e.token)}),t.statsReporter_=function(e,n){const i=e.toString();return gP[i]||(gP[i]=new Wk(t.stats_,t.server_)),gP[i]}(t.repoInfo_),t.infoData_=new Vk,t.infoSyncTree_=new aT({startListening:(e,n,i,r)=>{let s=[];const o=t.infoData_.getNode(e._path);return o.isEmpty()||(s=uT(t.infoSyncTree_,e._path,o),setTimeout(()=>{r("ok")},0)),s},stopListening:()=>{}}),pI(t,"connected",!1),t.serverSyncTree_=new aT({startListening:(e,n,i,r)=>(t.server_.listen(e,i,n,(n,i)=>{const s=r(n,i);rI(t.eventQueue_,e._path,s)}),[]),stopListening:(e,n)=>{t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new zI(this._repo,IP())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(t,e){const n=gS[e];n&&n[t.key]===t||Bx(`Database ${e}(${t.repoInfo_}) has already been deleted.`),vI(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Bx("Cannot call "+t+" on a deleted database.")}}function _S(t,e){qx(t,e)}const vS={".sv":"timestamp"};class bS{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ZP.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},ZP.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},Tx(ka.SDK_VERSION),(0,ka._registerComponent)(new Oa.wA("database",(t,{instanceIdentifier:e})=>mS(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,ka.registerVersion)("@firebase/database","0.12.1",void 0);const wS=new Ta.Yd("@firebase/database-compat"),CS=function(t){wS.warn("FIREBASE WARNING: "+t)};class xS{constructor(t){this._delegate=t}cancel(t){(0,Ia.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Ia.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),e=>t(e)),e}remove(t){(0,Ia.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Ia.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),e=>t(e)),e}set(t,e){(0,Ia.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Ia.Wj)("OnDisconnect.set","onComplete",e,!0);const n=this._delegate.set(t);return e&&n.then(()=>e(null),t=>e(t)),n}setWithPriority(t,e,n){(0,Ia.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Ia.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);const i=this._delegate.setWithPriority(t,e);return n&&i.then(()=>n(null),t=>n(t)),i}update(t,e){if((0,Ia.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const e={};for(let n=0;n<t.length;++n)e[""+n]=t[n];t=e,CS("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Ia.Wj)("OnDisconnect.update","onComplete",e,!0);const n=this._delegate.update(t);return e&&n.then(()=>e(null),t=>e(t)),n}}class PS{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,Ia.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class kS{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,Ia.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Ia.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Ia.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Ia.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,Ia.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),JT("DataSnapshot.child","path",t,!1),new kS(this._database,this._delegate.child(t))}hasChild(t){return(0,Ia.Dv)("DataSnapshot.hasChild",1,1,arguments.length),JT("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,Ia.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,Ia.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Ia.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new kS(this._database,e)))}hasChildren(){return(0,Ia.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Ia.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Ia.Dv)("DataSnapshot.ref",0,0,arguments.length),new TS(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class OS{constructor(t,e){this.database=t,this._delegate=e}on(t,e,n,i){var r;(0,Ia.Dv)("Query.on",2,4,arguments.length),(0,Ia.Wj)("Query.on","callback",e,!1);const s=OS.getCancelAndContextArgs_("Query.on",n,i),o=(t,n)=>{e.call(s.context,new kS(this.database,t),n)};o.userCallback=e,o.context=s.context;const a=null===(r=s.cancel)||void 0===r?void 0:r.bind(s.context);switch(t){case"value":return YI(this._delegate,o,a),e;case"child_added":return QI(this._delegate,o,a),e;case"child_removed":return tS(this._delegate,o,a),e;case"child_changed":return JI(this._delegate,o,a),e;case"child_moved":return XI(this._delegate,o,a),e;default:throw new Error((0,Ia.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,n){if((0,Ia.Dv)("Query.off",0,3,arguments.length),function(t,e,n){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Ia.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,Ia.Wj)("Query.off","callback",e,!0),(0,Ia.lb)("Query.off","context",n,!0),e){const i=()=>{};i.userCallback=e,i.context=n,eS(this._delegate,t,i)}else eS(this._delegate,t)}get(){return(t=this._delegate,function(t,e){const n=function(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(t,e)=>{const r=FP(t,n);i=i||eT(e,r)});let r=t.syncPointTree_.get(n);r?i=i||eT(r,IP()):(r=new QO,t.syncPointTree_=t.syncPointTree_.set(n,r));const s=null!=i,o=s?new eO(i,!0,!1):null;return aO(XO(r,e,CO(t.pendingWriteTree_,e._path),s?o.getNode():vk.EMPTY_NODE,s).viewCache_)}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then(n=>{const i=wk(n).withIndex(e._queryParams.getIndex()),r=uT(t.serverSyncTree_,e._path,i);return iI(t.eventQueue_,e._path,r),Promise.resolve(i)},n=>(bI(t,"get for query "+(0,Ia.Pz)(e)+" failed: "+n),Promise.reject(new Error(n))))}((t=(0,Ia.m9)(t))._repo,t).then(e=>new VI(e,new zI(t._repo,t._path),t._queryParams.getIndex()))).then(t=>new kS(this.database,t));var t}once(t,e,n,i){(0,Ia.Dv)("Query.once",1,4,arguments.length),(0,Ia.Wj)("Query.once","callback",e,!0);const r=OS.getCancelAndContextArgs_("Query.once",n,i),s=new Ia.BH,o=(t,n)=>{const i=new kS(this.database,t);e&&e.call(r.context,i,n),s.resolve(i)};o.userCallback=e,o.context=r.context;const a=t=>{r.cancel&&r.cancel.call(r.context,t),s.reject(t)};switch(t){case"value":YI(this._delegate,o,a,{onlyOnce:!0});break;case"child_added":QI(this._delegate,o,a,{onlyOnce:!0});break;case"child_removed":tS(this._delegate,o,a,{onlyOnce:!0});break;case"child_changed":JI(this._delegate,o,a,{onlyOnce:!0});break;case"child_moved":XI(this._delegate,o,a,{onlyOnce:!0});break;default:throw new Error((0,Ia.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return(0,Ia.Dv)("Query.limitToFirst",1,1,arguments.length),new OS(this.database,fS(this._delegate,function(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new aS(t)}(t)))}limitToLast(t){return(0,Ia.Dv)("Query.limitToLast",1,1,arguments.length),new OS(this.database,fS(this._delegate,function(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new lS(t)}(t)))}orderByChild(t){return(0,Ia.Dv)("Query.orderByChild",1,1,arguments.length),new OS(this.database,fS(this._delegate,function(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return JT("orderByChild","path",t,!1),new cS(t)}(t)))}orderByKey(){return(0,Ia.Dv)("Query.orderByKey",0,0,arguments.length),new OS(this.database,fS(this._delegate,new uS))}orderByPriority(){return(0,Ia.Dv)("Query.orderByPriority",0,0,arguments.length),new OS(this.database,fS(this._delegate,new hS))}orderByValue(){return(0,Ia.Dv)("Query.orderByValue",0,0,arguments.length),new OS(this.database,fS(this._delegate,new dS))}startAt(t=null,e){return(0,Ia.Dv)("Query.startAt",0,2,arguments.length),new OS(this.database,fS(this._delegate,function(t=null,e){return QT("startAt","key",e,!0),new sS(t,e)}(t,e)))}startAfter(t=null,e){return(0,Ia.Dv)("Query.startAfter",0,2,arguments.length),new OS(this.database,fS(this._delegate,function(t,e){return QT("startAfter","key",e,!0),new oS(t,e)}(t,e)))}endAt(t=null,e){return(0,Ia.Dv)("Query.endAt",0,2,arguments.length),new OS(this.database,fS(this._delegate,function(t,e){return QT("endAt","key",e,!0),new iS(t,e)}(t,e)))}endBefore(t=null,e){return(0,Ia.Dv)("Query.endBefore",0,2,arguments.length),new OS(this.database,fS(this._delegate,function(t,e){return QT("endBefore","key",e,!0),new rS(t,e)}(t,e)))}equalTo(t,e){return(0,Ia.Dv)("Query.equalTo",1,2,arguments.length),new OS(this.database,fS(this._delegate,function(t,e){return QT("equalTo","key",e,!0),new pS(t,e)}(t,e)))}toString(){return(0,Ia.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Ia.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,Ia.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof OS))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,n){const i={cancel:void 0,context:void 0};if(e&&n)i.cancel=e,(0,Ia.Wj)(t,"cancel",i.cancel,!0),i.context=n,(0,Ia.lb)(t,"context",i.context,!0);else if(e)if("object"==typeof e&&null!==e)i.context=e;else{if("function"!=typeof e)throw new Error((0,Ia.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=e}return i}get ref(){return new TS(this.database,new zI(this._delegate._repo,this._delegate._path))}}class TS extends OS{constructor(t,e){super(t,new FI(e._repo,e._path,new Dk,!1)),this.database=t,this._delegate=e}getKey(){return(0,Ia.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,Ia.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new TS(this.database,$I(this._delegate,t))}getParent(){(0,Ia.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new TS(this.database,t):null}getRoot(){return(0,Ia.Dv)("Reference.root",0,0,arguments.length),new TS(this.database,this._delegate.root)}set(t,e){(0,Ia.Dv)("Reference.set",1,2,arguments.length),(0,Ia.Wj)("Reference.set","onComplete",e,!0);const n=GI(this._delegate,t);return e&&n.then(()=>e(null),t=>e(t)),n}update(t,e){if((0,Ia.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const e={};for(let n=0;n<t.length;++n)e[""+n]=t[n];t=e,CS("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}XT("Reference.update",this._delegate._path),(0,Ia.Wj)("Reference.update","onComplete",e,!0);const n=function(t,e){KT("update",e,t._path,!1);const n=new Ia.BH;return function(t,e,n,i){bI(t,"update",{path:e.toString(),value:n});let r=!0;const s=uI(t),o={};if(Xx(n,(n,i)=>{r=!1,o[n]=ST(DP(e,n),wk(i),t.serverSyncTree_,s)}),r)jx("update() called with empty data.  Don't do anything."),wI(0,i,"ok",void 0);else{const r=fI(t),s=function(t,e,n,i){!function(t,e,n,i){(0,Ia.hu)(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=pO(t.visibleWrites,e,n),t.lastWriteId=i}(t.pendingWriteTree_,e,n,i);const r=uO.fromObject(n);return fT(t,new tO({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,e,o,r);nI(t.eventQueue_,s),t.server_.merge(e.toString(),n,(n,s)=>{const o="ok"===n;o||Hx("update at "+e+" failed: "+n);const a=cT(t.serverSyncTree_,r,!o),l=a.length>0?PI(t,e):e;rI(t.eventQueue_,l,a),wI(0,i,n,s)}),Xx(n,n=>{const i=SI(t,DP(e,n));PI(t,i)}),rI(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}(this._delegate,t);return e&&n.then(()=>e(null),t=>e(t)),n}setWithPriority(t,e,n){(0,Ia.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Ia.Wj)("Reference.setWithPriority","onComplete",n,!0);const i=function(t,e,n){if(XT("setWithPriority",t._path),ZT("setWithPriority",e,t._path,!1),YT("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const i=new Ia.BH;return gI(t._repo,t._path,e,n,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return n&&i.then(()=>n(null),t=>n(t)),i}remove(t){(0,Ia.Dv)("Reference.remove",0,1,arguments.length),(0,Ia.Wj)("Reference.remove","onComplete",t,!0);const e=function(t){return XT("remove",t._path),GI(t,null)}(this._delegate);return t&&e.then(()=>t(null),e=>t(e)),e}transaction(t,e,n){(0,Ia.Dv)("Reference.transaction",1,3,arguments.length),(0,Ia.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,Ia.Wj)("Reference.transaction","onComplete",e,!0),function(t,e,n,i){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,Ia.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,n);const i=function(t,e,n){var i;if(t=(0,Ia.m9)(t),XT("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const r=null===(i=null==n?void 0:n.applyLocally)||void 0===i||i,s=new Ia.BH,o=YI(t,()=>{});return function(e,n,i,r,o,a){bI(e,"transaction on "+n);const l={path:n,update:i,onComplete:(e,n,i)=>{let r=null;e?s.reject(e):(r=new VI(i,new zI(t._repo,t._path),hk),s.resolve(new bS(n,r)))},status:null,order:Rx(),applyLocally:a,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=CI(e,n,void 0);l.currentInputSnapshot=c;const u=l.update(c.val());if(void 0===u)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{WT("transaction failed: Data returned ",u,l.path),l.status=0;const t=NT(e.transactionQueueTree_,n),i=RT(t)||[];let r;i.push(l),DT(t,i),"object"==typeof u&&null!==u&&(0,Ia.r3)(u,".priority")?(r=(0,Ia.DV)(u,".priority"),(0,Ia.hu)(GT(r),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):r=(pT(e.serverSyncTree_,n)||vk.EMPTY_NODE).getPriority().val();const s=uI(e),o=wk(u,r),a=ET(o,c,s);l.currentOutputSnapshotRaw=o,l.currentOutputSnapshotResolved=a,l.currentWriteId=fI(e);const h=lT(e.serverSyncTree_,n,a,l.currentWriteId,l.applyLocally);rI(e.eventQueue_,n,h),xI(e,e.transactionQueueTree_)}}(t._repo,t._path,e,0,o,r),s.promise}(this._delegate,t,{applyLocally:n}).then(t=>new PS(t.committed,new kS(this.database,t.snapshot)));return e&&i.then(t=>e(null,t.committed,t.snapshot),t=>e(t,!1,null)),i}setPriority(t,e){(0,Ia.Dv)("Reference.setPriority",1,2,arguments.length),(0,Ia.Wj)("Reference.setPriority","onComplete",e,!0);const n=function(t,e){t=(0,Ia.m9)(t),XT("setPriority",t._path),YT("setPriority",e,!1);const n=new Ia.BH;return gI(t._repo,DP(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,t);return e&&n.then(()=>e(null),t=>e(t)),n}push(t,e){(0,Ia.Dv)("Reference.push",0,2,arguments.length),(0,Ia.Wj)("Reference.push","onComplete",e,!0);const n=function(t,e){t=(0,Ia.m9)(t),XT("push",t._path),ZT("push",e,t._path,!0);const n=cI(t._repo),i=kk(n),r=$I(t,i),s=$I(t,i);let o;return o=null!=e?GI(s,e).then(()=>s):Promise.resolve(s),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}(this._delegate,t),i=n.then(t=>new TS(this.database,t));e&&i.then(()=>e(null),t=>e(t));const r=new TS(this.database,n);return r.then=i.then.bind(i),r.catch=i.catch.bind(i,void 0),r}onDisconnect(){return XT("Reference.onDisconnect",this._delegate._path),new xS(new LI(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}let IS=(()=>{class t{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,n={}){!function(t,e,n,i={}){(t=(0,Ia.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Bx("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Bx('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new aP(aP.OWNER);else if(i.mockUserToken){const e="string"==typeof i.mockUserToken?i.mockUserToken:(0,Ia.Sg)(i.mockUserToken,t.app.options.projectId);s=new aP(e)}!function(t,e,n,i){t.repoInfo_=new hP(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),i&&(t.authTokenProvider_=i)}(r,e,n,s)}(this._delegate,t,e,n)}ref(t){if((0,Ia.Dv)("database.ref",0,1,arguments.length),t instanceof TS){const e=HI(this._delegate,t.toString());return new TS(this,e)}{const e=BI(this._delegate,t);return new TS(this,e)}}refFromURL(t){(0,Ia.Dv)("database.refFromURL",1,1,arguments.length);const e=HI(this._delegate,t);return new TS(this,e)}goOffline(){return(0,Ia.Dv)("database.goOffline",0,0,arguments.length),function(t){(t=(0,Ia.m9)(t))._checkNotDeleted("goOffline"),vI(t._repo)}(this._delegate)}goOnline(){return(0,Ia.Dv)("database.goOnline",0,0,arguments.length),function(t){var e;(t=(0,Ia.m9)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume(aI)}(this._delegate)}}return t.ServerValue={TIMESTAMP:vS,increment:t=>function(t){return{".sv":{increment:t}}}(t)},t})();var SS=Object.freeze({__proto__:null,initStandalone:function({app:t,url:e,version:n,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){Tx(n);const o=new Oa.zt("auth-internal",new Oa.H0("database-standalone"));return o.setComponent(new Oa.wA("auth-internal",()=>i,"PRIVATE")),{instance:new IS(mS(t,o,void 0,e,s),t),namespace:r}}});const ES=IS.ServerValue;function MS(t){return null==t}function AS(t){return"function"==typeof t.set}function NS(t,e){return AS(e)?e:t.ref(e)}function RS(t,e){if("string"==typeof t)return e.stringCase();if(AS(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function DS(t,e,n="on",i=pa.z){return new yi.y(r=>{let s=null;return s=t[n](e,(t,e)=>{i.schedule(()=>{r.next({snapshot:t,prevKey:e})}),"once"===n&&i.schedule(()=>r.complete())},t=>{i.schedule(()=>r.error(t))}),"on"===n?{unsubscribe(){null!=s&&t.off(e,s)}}:{unsubscribe(){}}}).pipe((0,Si.U)(t=>{const{snapshot:n,prevKey:i}=t;let r=null;return n.exists()&&(r=n.key),{type:e,payload:n,prevKey:i,key:r}}),(0,wx.B)())}function LS(t,e){const n=t.length;for(let i=0;i<n;i++)if(t[i].payload.key===e)return i;return-1}function FS(t,e){const{payload:n,prevKey:i,key:r}=e,s=LS(t,r),o=function(t,e){if(MS(e))return 0;{const n=LS(t,e);return-1===n?t.length:n+1}}(t,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let n=null;e.payload.forEach(e=>{const i={payload:e,type:"value",prevKey:n,key:e.key};return n=e.key,t=[...t,i],!1})}return t;case"child_added":if(s>-1){const r=t[s-1];(r&&r.key||null)!==i&&(t=t.filter(t=>t.payload.key!==n.key)).splice(o,0,e)}else{if(null==i)return[e,...t];(t=t.slice()).splice(o,0,e)}return t;case"child_removed":return t.filter(t=>t.payload.key!==n.key);case"child_changed":return t.map(t=>t.payload.key===r?e:t);case"child_moved":if(s>-1){const e=t.splice(s,1)[0];return(t=t.slice()).splice(o,0,e),t}return t;default:return t}}function US(t){return(MS(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function qS(t,e,n){return function(t,e,n){return DS(t,"value","once",n).pipe(Mi(i=>{const r=[(0,ai.of)(i)];return e.forEach(e=>r.push(DS(t,e,"on",n))),(0,zC.T)(...r).pipe(qi(FS,[]))}),_a())}(t,e=US(e),n)}function jS(t,e,n){const i=(e=US(e)).map(e=>DS(t,e,"on",n));return(0,zC.T)(...i)}function zS(t,e){return function(n,i){return RS(n,{stringCase:()=>t.child(n)[e](i),firebaseCase:()=>n[e](i),snapshotCase:()=>n.ref[e](i)})}}function VS(t){return function(e){return e?RS(e,{stringCase:()=>t.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):t.remove()}}function BS(t,e){return function(){return DS(t,"value","on",e)}}!function(t){t.INTERNAL.registerComponent(new Oa.wA("database-compat",(t,{instanceIdentifier:e})=>{const n=t.getProvider("app-compat").getImmediate(),i=t.getProvider("database").getImmediate({identifier:e});return new IS(i,n)},"PUBLIC").setServiceProps({Reference:TS,Query:OS,Database:IS,DataSnapshot:kS,enableLogging:_S,INTERNAL:SS,ServerValue:ES}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","0.1.1")}(xa.Z);const HS=new i.OlP("angularfire2.realtimeDatabaseURL"),$S=new i.OlP("angularfire2.database.use-emulator");let GS=(()=>{class t{constructor(t,e,n,i,r,s,o,a,l,c,u,h,d,p){this.schedulers=s;const f=o,g=(0,Ca.on)(t,r,e);a&&ix(g,r,l,u,h,d,c,p),this.database=(0,fa.cc)(`${g.name}.database.${n}`,"AngularFireDatabase",g.name,()=>{const t=r.runOutsideAngular(()=>g.database(n||void 0));return f&&t.useEmulator(...f),t},[f])}list(t,e){const n=this.schedulers.ngZone.runOutsideAngular(()=>NS(this.database,t));let i=n;return e&&(i=e(n)),function(t,e){const n=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:zS(i,"update"),set:zS(i,"set"),push:t=>i.push(t),remove:VS(i),snapshotChanges:e=>qS(t,e,n).pipe(fa.iC),stateChanges:e=>jS(t,e,n).pipe(fa.iC),auditTrail:e=>function(t,e,n){return function(t,e,n){return function(t,e){return DS(t,"value","on",e).pipe((0,Si.U)(t=>{let e;return t.payload.forEach(t=>(e=t.key,!1)),{data:t,lastKeyToLoad:e}}))}(t,n).pipe(function(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new Cx(t,n))}}(e),(0,Si.U)(([t,e])=>{const n=t.lastKeyToLoad,i=e.map(t=>t.key);return{actions:e,lastKeyToLoad:n,loadedKeys:i}}),(i=t=>-1===t.loadedKeys.indexOf(t.lastKeyToLoad),t=>t.lift(new Px(i))),(0,Si.U)(t=>t.actions));var i}(t,jS(t,e).pipe(qi((t,e)=>[...t,e],[])),n)}(t,e,n).pipe(fa.iC),valueChanges:(e,i)=>qS(t,e,n).pipe((0,Si.U)(t=>t.map(t=>i&&i.idField?Object.assign(Object.assign({},t.payload.val()),{[i.idField]:t.key}):t.payload.val())),fa.iC)}}(i,this)}object(t){return e=this.schedulers.ngZone.runOutsideAngular(()=>NS(this.database,t)),n=this,{query:e,snapshotChanges:()=>BS(e,n.schedulers.outsideAngular)().pipe(fa.iC),update:t=>e.ref.update(t),set:t=>e.ref.set(t),remove:()=>e.ref.remove(),valueChanges:()=>BS(e,n.schedulers.outsideAngular)().pipe(fa.iC,(0,Si.U)(t=>t.payload.exists()?t.payload.val():null))};var e,n}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Ca.Dh),i.LFG(Ca.xv,8),i.LFG(HS,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(fa.HU),i.LFG($S,8),i.LFG(rx,8),i.LFG(QC,8),i.LFG(JC,8),i.LFG(XC,8),i.LFG(tx,8),i.LFG(ex,8),i.LFG(nx,8))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),ZS=(()=>{class t{constructor(){YC.Z.registerVersion("angularfire",fa.q4.full,"rtdb-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[GS]}),t})();class WS{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new KS(t,this.dueTime,this.scheduler))}}class KS extends pi.L{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(YS,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function YS(t){t.debouncedNext()}var QS=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({});const JS="firebasestorage.googleapis.com";class XS extends Ia.ZR{constructor(t,e){super(tE(t),`Firebase Storage: ${e} (${tE(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,XS.prototype)}_codeEquals(t){return tE(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function tE(t){return"storage/"+t}function eE(){return new XS("unknown","An unknown error occurred, please check the error payload for server response.")}function nE(){return new XS("canceled","User canceled the upload/download.")}function iE(){return new XS("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function rE(){return new XS("no-download-url","The given file does not have any download URLs.")}function sE(t){return new XS("invalid-argument",t)}function oE(){return new XS("app-deleted","The Firebase app was deleted.")}function aE(t){return new XS("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lE(t,e){return new XS("invalid-format","String does not match format '"+t+"': "+e)}function cE(t){throw new XS("internal-error","Internal error: "+t)}class uE{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=QS.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=QS.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=QS.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,n,i){if(this.sent_)throw cE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==i)for(const r in i)i.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,i[r].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw cE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw cE("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponseText(){if(!this.sent_)throw cE("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class hE{createConnection(){return new uE}}class dE{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=dE.makeFromUrl(t,e)}catch(i){return new dE(t,"")}if(""===n.path)return n;throw new XS("invalid-default-bucket","Invalid default bucket '"+t+"'.")}static makeFromUrl(t,e){let n=null;const i="([A-Za-z0-9.\\-_]+)",r=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}const o=e.replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${e===JS?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const e=a[l],i=e.regex.exec(t);if(i){let t=i[e.indices.path];t||(t=""),n=new dE(i[e.indices.bucket],t),e.postModify(n);break}}if(null==n)throw function(t){return new XS("invalid-url","Invalid URL '"+t+"'.")}(t);return n}}class pE{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function fE(t){return"string"==typeof t||t instanceof String}function gE(t){return mE()&&t instanceof Blob}function mE(){return"undefined"!=typeof Blob}function yE(t,e,n,i){if(i<e)throw sE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw sE(`Invalid value for '${t}'. Expected ${n} or less.`)}function _E(t,e,n){let i=e;return null==n&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function vE(t){const e=encodeURIComponent;let n="?";for(const i in t)t.hasOwnProperty(i)&&(n=n+(e(i)+"=")+e(t[i])+"&");return n=n.slice(0,-1),n}class bE{constructor(t,e,n,i,r,s,o,a,l,c,u){this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=i,this.successCodes_=r.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=o,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=l,this.pool_=u,this.promise_=new Promise((t,e)=>{this.resolve_=t,this.reject_=e,this.start_()})}start_(){const t=this;function e(e,n){const i=t.resolve_,r=t.reject_,s=n.connection;if(n.wasSuccessCode)try{const e=t.callback_(s,s.getResponseText());void 0===e?i():i(e)}catch(o){r(o)}else if(null!==s){const e=eE();e.serverResponse=s.getResponseText(),r(t.errorCallback_?t.errorCallback_(s,e):e)}else r(n.canceled?t.appDelete_?oE():nE():new XS("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new wE(!1,null,!0)):this.backoffId_=function(e,n,i){let r=1,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(...t){c||(c=!0,n.apply(null,t))}function h(e){s=setTimeout(()=>{s=null,function(e,n){if(n)return void e(!1,new wE(!1,null,!0));const i=t.pool_.createConnection();function r(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}t.pendingConnection_=i,null!==t.progressCallback_&&i.addUploadProgressListener(r),i.send(t.url_,t.method_,t.body_,t.headers_).then(()=>{null!==t.progressCallback_&&i.removeUploadProgressListener(r),t.pendingConnection_=null;const n=i.getErrorCode()===QS.NO_ERROR,s=i.getStatus();if(!n||t.isRetryStatusCode_(s)){const t=i.getErrorCode()===QS.ABORT;return void e(!1,new wE(!1,null,t))}const o=-1!==t.successCodes_.indexOf(s);e(!0,new wE(o,i))})}(d,l())},e)}function d(t,...e){if(c)return;if(t)return void u.call(null,t,...e);if(l()||o)return void u.call(null,t,...e);let n;r<64&&(r*=2),1===a?(a=2,n=0):n=1e3*(r+Math.random()),h(n)}let p=!1;function f(t){p||(p=!0,c||(null!==s?(t||(a=2),clearTimeout(s),h(0)):t||(a=1)))}return h(0),setTimeout(()=>{o=!0,f(!0)},i),f}(0,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),i=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||i}}class wE{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}function CE(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function xE(...t){const e=CE();if(void 0!==e){const n=new e;for(let e=0;e<t.length;e++)n.append(t[e]);return n.getBlob()}if(mE())return new Blob(t);throw new XS("unsupported-environment","This browser doesn't seem to support creating Blobs")}const PE={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class kE{constructor(t,e){this.data=t,this.contentType=e||null}}function OE(t,e){switch(t){case PE.RAW:return new kE(TE(e));case PE.BASE64:case PE.BASE64URL:return new kE(IE(t,e));case PE.DATA_URL:return new kE(function(t){const e=new SE(t);return e.base64?IE(PE.BASE64,e.rest):function(t){let e;try{e=decodeURIComponent(t)}catch(n){throw lE(PE.DATA_URL,"Malformed data URL.")}return TE(e)}(e.rest)}(e),new SE(e).contentType)}throw eE()}function TE(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(i=65536|(1023&i)<<10|1023&t.charCodeAt(++n),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function IE(t,e){switch(t){case PE.BASE64:{const n=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(n||i)throw lE(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case PE.BASE64URL:{const n=-1!==e.indexOf("+"),i=-1!==e.indexOf("/");if(n||i)throw lE(t,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=atob(e)}catch(r){throw lE(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}class SE{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw lE(PE.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=e[1]||null;var i,r;null!=n&&(this.base64=(i=n).length>=(r=";base64").length&&i.substring(i.length-r.length)===r,this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)}}class EE{constructor(t,e){let n=0,i="";gE(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,e){if(gE(this.data_)){const s=(i=t,r=e,(n=this.data_).webkitSlice?n.webkitSlice(i,r):n.mozSlice?n.mozSlice(i,r):n.slice?n.slice(i,r):null);return null===s?null:new EE(s)}var n,i,r;{const n=new Uint8Array(this.data_.buffer,t,e-t);return new EE(n,!0)}}static getBlob(...t){if(mE()){const e=t.map(t=>t instanceof EE?t.data_:t);return new EE(xE.apply(null,e))}{const e=t.map(t=>fE(t)?OE(PE.RAW,t).data:t.data_);let n=0;e.forEach(t=>{n+=t.byteLength});const i=new Uint8Array(n);let r=0;return e.forEach(t=>{for(let e=0;e<t.length;e++)i[r++]=t[e]}),new EE(i,!0)}}uploadData(){return this.data_}}function ME(t){let e;try{e=JSON.parse(t)}catch(i){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e;var n}function AE(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function NE(t,e){return e}class RE{constructor(t,e,n,i){this.server=t,this.local=e||t,this.writable=!!n,this.xform=i||NE}}let DE=null;function LE(){if(DE)return DE;const t=[];t.push(new RE("bucket")),t.push(new RE("generation")),t.push(new RE("metageneration")),t.push(new RE("name","fullPath",!0));const e=new RE("name");e.xform=function(t,e){return function(t){return!fE(t)||t.length<2?t:AE(t)}(e)},t.push(e);const n=new RE("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new RE("timeCreated")),t.push(new RE("updated")),t.push(new RE("md5Hash",null,!0)),t.push(new RE("cacheControl",null,!0)),t.push(new RE("contentDisposition",null,!0)),t.push(new RE("contentEncoding",null,!0)),t.push(new RE("contentLanguage",null,!0)),t.push(new RE("contentType",null,!0)),t.push(new RE("metadata","customMetadata",!0)),DE=t,DE}function FE(t,e,n){const i=ME(e);return null===i?null:function(t,e,n){const i={type:"file"},r=n.length;for(let s=0;s<r;s++){const t=n[s];i[t.local]=t.xform(i,e[t.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){const n=new dE(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(i,t),i}(t,i,n)}function UE(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const i=e[r];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class qE{constructor(t,e,n,i){this.url=t,this.method=e,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function jE(t){if(!t)throw eE()}function zE(t,e){return function(n,i){const r=FE(t,i,e);return jE(null!==r),r}}function VE(t){return function(e,n){let i;return i=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new XS("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new XS("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new XS("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new XS("unauthorized","User does not have permission to access '"+t.path+"'."):n,i.serverResponse=n.serverResponse,i}}function BE(t){const e=VE(t);return function(n,i){let r=e(n,i);return 404===n.getStatus()&&(r=new XS("object-not-found","Object '"+t.path+"' does not exist.")),r.serverResponse=i.serverResponse,r}}function HE(t,e,n){const i=_E(e.fullServerUrl(),t.host,t._protocol),r=t.maxOperationRetryTime,s=new qE(i,"GET",zE(t,n),r);return s.errorHandler=BE(e),s}function $E(t,e,n,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),i&&(s.pageToken=i),r&&(s.maxResults=r);const o=_E(e.bucketOnlyServerUrl(),t.host,t._protocol),a=t.maxOperationRetryTime,l=new qE(o,"GET",function(t,e){return function(n,i){const r=function(t,e,n){const i=ME(n);return null===i?null:function(t,e,n){const i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(const r of n.prefixes){const n=r.replace(/\/$/,""),s=t._makeStorageReference(new dE(e,n));i.prefixes.push(s)}if(n.items)for(const r of n.items){const n=t._makeStorageReference(new dE(e,r.name));i.items.push(n)}return i}(t,e,i)}(t,e,i);return jE(null!==r),r}}(t,e.bucket),a);return l.urlParams=s,l.errorHandler=VE(e),l}function GE(t,e,n){const i=_E(e.fullServerUrl(),t.host,t._protocol),r=t.maxOperationRetryTime,s=new qE(i,"GET",function(t,e){return function(n,i){const r=FE(t,i,e);return jE(null!==r),function(t,e,n,i){const r=ME(e);if(null===r)return null;if(!fE(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(e=>{const r=t.fullPath;return _E("/b/"+o(t.bucket)+"/o/"+o(r),n,i)+vE({alt:"media",token:e})})[0]}(r,i,t.host,t._protocol)}}(t,n),r);return s.errorHandler=BE(e),s}function ZE(t,e,n,i){const r=_E(e.fullServerUrl(),t.host,t._protocol),s=UE(n,i),o=t.maxOperationRetryTime,a=new qE(r,"PATCH",zE(t,i),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=BE(e),a}function WE(t,e){const n=_E(e.fullServerUrl(),t.host,t._protocol),i=new qE(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return i.successCodes=[200,204],i.errorHandler=BE(e),i}function KE(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),i}class YE{constructor(t,e,n,i){this.current=t,this.total=e,this.finalized=!!n,this.metadata=i||null}}function QE(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(i){jE(!1)}return jE(!!n&&-1!==(e||["active"]).indexOf(n)),n}const JE=262144,XE={STATE_CHANGED:"state_changed"},tM={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function eM(t){switch(t){case"running":case"pausing":case"canceling":return tM.RUNNING;case"paused":return tM.PAUSED;case"success":return tM.SUCCESS;case"canceled":return tM.CANCELED;case"error":default:return tM.ERROR}}class nM{constructor(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=n?n:void 0;else{const e=t;this.next=e.next,this.error=e.error,this.complete=e.complete}}}function iM(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class rM{constructor(t,e,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=LE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=t=>{this._request=void 0,this._chunkMultiplier=1,t._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=t,this._transition("error"))},this._metadataErrorHandler=t=>{this._request=void 0,t._codeEquals("canceled")?this.completeTransitions_():(this._error=t,this._transition("error"))},this._promise=new Promise((t,e)=>{this._resolve=t,this._reject=e,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,n])=>{switch(this._state){case"running":t(e,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const n=function(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),o=KE(e,i,r),a={name:o.fullPath},l=_E(s,t.host,t._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=UE(o,n),h=new qE(l,"POST",function(t){let e;QE(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){jE(!1)}return jE(fE(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=u,h.errorHandler=VE(e),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,t,e);this._request=i,i.getPromise().then(t=>{this._request=void 0,this._uploadUrl=t,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,n)=>{const i=function(t,e,n,i){const r=new qE(n,"POST",function(t){const e=QE(t,["active","final"]);let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){jE(!1)}n||jE(!1);const r=Number(n);return jE(!isNaN(r)),new YE(r,i.size(),"final"===e)},t.maxUploadRetryTime);return r.headers={"X-Goog-Upload-Command":"query"},r.errorHandler=VE(e),r}(this._ref.storage,this._ref._location,t,this._blob),r=this._ref.storage._makeRequest(i,e,n);this._request=r,r.getPromise().then(t=>{t=t,this._request=void 0,this._updateProgress(t.current),this._needToFetchStatus=!1,t.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=JE*this._chunkMultiplier,e=new YE(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((i,r)=>{let s;try{s=function(t,e,n,i,r,s,o,a){const l=new YE(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw new XS("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;r>0&&(u=Math.min(u,r));const h=l.current,d={"X-Goog-Upload-Command":u===c?"upload, finalize":"upload","X-Goog-Upload-Offset":`${l.current}`},p=i.slice(h,h+u);if(null===p)throw iE();const f=new qE(n,"POST",function(t,n){const r=QE(t,["active","final"]),o=l.current+u,a=i.size();let c;return c="final"===r?zE(e,s)(t,n):null,new YE(o,a,"final"===r,c)},e.maxUploadRetryTime);return f.headers=d,f.body=p.uploadData(),f.progressCallback=a||null,f.errorHandler=VE(t),f}(this._ref._location,this._ref.storage,n,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(a){return this._error=a,void this._transition("error")}const o=this._ref.storage._makeRequest(s,i,r);this._request=o,o.getPromise().then(t=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(t.current),t.finalized?(this._metadata=t.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){JE*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const n=HE(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(n,t,e);this._request=i,i.getPromise().then(t=>{this._request=void 0,this._metadata=t,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const n=function(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){let t="";for(let e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;const l=KE(e,i,r),c=UE(l,n),u=EE.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",i,"\r\n--"+a+"--");if(null===u)throw iE();const h={name:l.fullPath},d=_E(s,t.host,t._protocol),p=t.maxUploadRetryTime,f=new qE(d,"POST",zE(t,n),p);return f.urlParams=h,f.headers=o,f.body=u.uploadData(),f.errorHandler=VE(e),f}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,t,e);this._request=i,i.getPromise().then(t=>{this._request=void 0,this._metadata=t,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=nE(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=eM(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,n,i){const r=new nM(e||void 0,n||void 0,i||void 0);return this._addObserver(r),()=>{this._removeObserver(r)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(eM(this._state)){case tM.SUCCESS:iM(this._resolve.bind(null,this.snapshot))();break;case tM.CANCELED:case tM.ERROR:iM(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(eM(this._state)){case tM.RUNNING:case tM.PAUSED:t.next&&iM(t.next.bind(t,this.snapshot))();break;case tM.SUCCESS:t.complete&&iM(t.complete.bind(t))();break;case tM.CANCELED:case tM.ERROR:t.error&&iM(t.error.bind(t,this._error))();break;default:t.error&&iM(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class sM{constructor(t,e){this._service=t,this._location=e instanceof dE?e:dE.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new sM(t,e)}get root(){const t=new dE(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return AE(this._location.path)}get storage(){return this._service}get parent(){const t=function(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===t)return null;const e=new dE(this._location.bucket,t);return new sM(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw aE(t)}}function oM(t,e,n){return aM.apply(this,arguments)}function aM(){return(aM=(0,Pa.Z)(function*(t,e,n){const i={pageToken:n},r=yield lM(t,i);e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield oM(t,e,r.nextPageToken))})).apply(this,arguments)}function lM(t,e){return cM.apply(this,arguments)}function cM(){return(cM=(0,Pa.Z)(function*(t,e){null!=e&&"number"==typeof e.maxResults&&yE("options.maxResults",1,1e3,e.maxResults);const n=e||{},i=$E(t.storage,t._location,"/",n.pageToken,n.maxResults);return(yield t.storage.makeRequestWithTokens(i)).getPromise()})).apply(this,arguments)}function uM(){return(uM=(0,Pa.Z)(function*(t){t._throwIfRoot("getMetadata");const e=HE(t.storage,t._location,LE());return(yield t.storage.makeRequestWithTokens(e)).getPromise()})).apply(this,arguments)}function hM(){return(hM=(0,Pa.Z)(function*(t,e){t._throwIfRoot("updateMetadata");const n=ZE(t.storage,t._location,e,LE());return(yield t.storage.makeRequestWithTokens(n)).getPromise()})).apply(this,arguments)}function dM(){return(dM=(0,Pa.Z)(function*(t){t._throwIfRoot("getDownloadURL");const e=GE(t.storage,t._location,LE());return(yield t.storage.makeRequestWithTokens(e)).getPromise().then(t=>{if(null===t)throw rE();return t})})).apply(this,arguments)}function pM(){return(pM=(0,Pa.Z)(function*(t){t._throwIfRoot("deleteObject");const e=WE(t.storage,t._location);return(yield t.storage.makeRequestWithTokens(e)).getPromise()})).apply(this,arguments)}function fM(t,e){const n=function(t,e){const n=e.split("/").filter(t=>t.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),i=new dE(t._location.bucket,n);return new sM(t.storage,i)}function gM(t,e){if(t instanceof _M){const n=t;if(null==n._bucket)throw new XS("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");const i=new sM(n,n._bucket);return null!=e?gM(i,e):i}return void 0!==e?fM(t,e):t}function mM(t,e){if(e&&/^[A-Za-z]+:\/\//.test(e)){if(t instanceof _M)return new sM(t,e);throw sE("To use ref(service, url), the first argument must be a Storage instance.")}return gM(t,e)}function yM(t,e){const n=null==e?void 0:e.storageBucket;return null==n?null:dE.makeFromBucketSpec(n,t)}class _M{constructor(t,e,n,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=JS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?dE.makeFromBucketSpec(r,this._host):yM(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?dE.makeFromBucketSpec(this._url,t):yM(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){yE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){yE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,Pa.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const t=yield e.getToken();if(null!==t)return t.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,Pa.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new sM(this,t)}_makeRequest(t,e,n){if(this._deleted)return new pE(oE());{const i=function(t,e,n,i,r,s){const o=vE(t.urlParams),a=t.url+o,l=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(l,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(l,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(l,s),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(l,i),new bE(a,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}makeRequestWithTokens(t){var e=this;return(0,Pa.Z)(function*(){const[n,i]=yield Promise.all([e._getAuthToken(),e._getAppCheckToken()]);return e._makeRequest(t,n,i)})()}}function vM(t,e){return mM(t=(0,Ia.m9)(t),e)}(0,ka._registerComponent)(new Oa.wA("storage",function(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new _M(n,i,r,new hE,e,ka.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,ka.registerVersion)("@firebase/storage","0.8.3");class bM{constructor(t,e,n){this._delegate=t,this.task=e,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class wM{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new bM(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(e=>{if(t)return t(new bM(e,this,this._ref))},e)}on(t,e,n,i){let r;return e&&(r="function"==typeof e?t=>e(new bM(t,this,this._ref)):{next:e.next?t=>e.next(new bM(t,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,r,n||void 0,i||void 0)}}class CM{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new xM(t,this._service))}get items(){return this._delegate.items.map(t=>new xM(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class xM{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function(t,e){return fM(t,e)}(this._delegate,t);return new xM(e,this.storage)}get root(){return new xM(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new xM(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new wM(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new rM(t,new EE(e),n)}(t=(0,Ia.m9)(t),e,n)}(this._delegate,t,e),this)}putString(t,e=PE.RAW,n){this._throwIfRoot("putString");const i=OE(e,t),r=Object.assign({},n);return null==r.contentType&&null!=i.contentType&&(r.contentType=i.contentType),new wM(new rM(this._delegate,new EE(i.data,!0),r),this)}listAll(){return function(t){return function(t){const e={prefixes:[],items:[]};return oM(t,e).then(()=>e)}(t=(0,Ia.m9)(t))}(this._delegate).then(t=>new CM(t,this.storage))}list(t){return function(t,e){return lM(t=(0,Ia.m9)(t),e)}(this._delegate,t||void 0).then(t=>new CM(t,this.storage))}getMetadata(){return function(t){return function(t){return uM.apply(this,arguments)}(t=(0,Ia.m9)(t))}(this._delegate)}updateMetadata(t){return function(t,e){return function(t,e){return hM.apply(this,arguments)}(t=(0,Ia.m9)(t),e)}(this._delegate,t)}getDownloadURL(){return function(t){return function(t){return dM.apply(this,arguments)}(t=(0,Ia.m9)(t))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(t){return function(t){return pM.apply(this,arguments)}(t=(0,Ia.m9)(t))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw aE(t)}}class PM{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(kM(t))throw sE("ref() expected a child path but got a URL, use refFromURL instead.");return new xM(vM(this._delegate,t),this)}refFromURL(t){if(!kM(t))throw sE("refFromURL() expected a full URL but got a child path, use ref() instead.");try{dE.makeFromUrl(t,this._delegate.host)}catch(e){throw sE("refFromUrl() expected a valid full URL but got an invalid one.")}return new xM(vM(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,n={}){!function(t,e,n,i={}){!function(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken="string"==typeof r?r:(0,Ia.Sg)(r,t.app.options.projectId))}(t,e,n,i)}(this._delegate,t,e,n)}}function kM(t){return/^[A-Za-z]+:\/\//.test(t)}function OM(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),i=t.getProvider("storage").getImmediate({identifier:e});return new PM(n,i)}function TM(t){const e=function(t){return new yi.y(e=>{const n=t=>e.next(t);n(t.snapshot);const i=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},i=>{n(t.snapshot),(t=>{e.error(t)})(i)}),function(){i()}}).pipe(function(t,e=pa.P){return n=>n.lift(new WS(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Si.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function IM(t){return{getDownloadURL:()=>(0,ai.of)(void 0).pipe(fa.fc,Mi(()=>t.getDownloadURL()),fa.iC),getMetadata:()=>(0,ai.of)(void 0).pipe(fa.fc,Mi(()=>t.getMetadata()),fa.iC),delete:()=>(0,oi.D)(t.delete()),child:e=>IM(t.child(e)),updateMetadata:e=>(0,oi.D)(t.updateMetadata(e)),put:(e,n)=>TM(t.put(e,n)),putString:(e,n,i)=>TM(t.putString(e,n,i)),listAll:()=>(0,oi.D)(t.listAll())}}!function(t){const e={TaskState:tM,TaskEvent:XE,StringFormat:PE,Storage:PM,Reference:xM};t.INTERNAL.registerComponent(new Oa.wA("storage-compat",OM,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.1.3")}(xa.Z);const SM=new i.OlP("angularfire2.storageBucket"),EM=new i.OlP("angularfire2.storage.maxUploadRetryTime"),MM=new i.OlP("angularfire2.storage.maxOperationRetryTime"),AM=new i.OlP("angularfire2.storage.use-emulator");let NM=(()=>{class t{constructor(t,e,n,i,r,s,o,a,l){const c=(0,Ca.on)(t,r,e);this.storage=(0,fa.cc)(`${c.name}.storage.${n}`,"AngularFireStorage",c.name,()=>{const t=r.runOutsideAngular(()=>c.storage(n||void 0)),e=l;return e&&t.useEmulator(...e),o&&t.setMaxUploadRetryTime(o),a&&t.setMaxOperationRetryTime(a),t},[o,a])}ref(t){return IM(this.storage.ref(t))}refFromURL(t){return IM(this.storage.refFromURL(t))}upload(t,e,n){return IM(this.storage.ref(t)).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Ca.Dh),i.LFG(Ca.xv,8),i.LFG(SM,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(fa.HU),i.LFG(EM,8),i.LFG(MM,8),i.LFG(AM,8))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),RM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})(),DM=(()=>{class t{constructor(){YC.Z.registerVersion("angularfire",fa.q4.full,"gcs-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[NM],imports:[RM]}),t})();const LM=["toast-component",""];function FM(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"button",5),i.NdJ("click",function(){return i.CHM(t),i.oxw().remove()}),i.TgZ(1,"span",6),i._uU(2,"\xd7"),i.qZA(),i.qZA()}}function UM(t,e){if(1&t&&(i.ynx(0),i._uU(1),i.BQk()),2&t){const t=i.oxw(2);i.xp6(1),i.hij("[",t.duplicatesCount+1,"]")}}function qM(t,e){if(1&t&&(i.TgZ(0,"div"),i._uU(1),i.YNc(2,UM,2,1,"ng-container",4),i.qZA()),2&t){const t=i.oxw();i.Tol(t.options.titleClass),i.uIk("aria-label",t.title),i.xp6(1),i.hij(" ",t.title," "),i.xp6(1),i.Q6J("ngIf",t.duplicatesCount)}}function jM(t,e){if(1&t&&i._UZ(0,"div",7),2&t){const t=i.oxw();i.Tol(t.options.messageClass),i.Q6J("innerHTML",t.message,i.oJD)}}function zM(t,e){if(1&t&&(i.TgZ(0,"div",8),i._uU(1),i.qZA()),2&t){const t=i.oxw();i.Tol(t.options.messageClass),i.uIk("aria-label",t.message),i.xp6(1),i.hij(" ",t.message," ")}}function VM(t,e){if(1&t&&(i.TgZ(0,"div"),i._UZ(1,"div",9),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.Udp("width",t.width+"%")}}function BM(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"button",5),i.NdJ("click",function(){return i.CHM(t),i.oxw().remove()}),i.TgZ(1,"span",6),i._uU(2,"\xd7"),i.qZA(),i.qZA()}}function HM(t,e){if(1&t&&(i.ynx(0),i._uU(1),i.BQk()),2&t){const t=i.oxw(2);i.xp6(1),i.hij("[",t.duplicatesCount+1,"]")}}function $M(t,e){if(1&t&&(i.TgZ(0,"div"),i._uU(1),i.YNc(2,HM,2,1,"ng-container",4),i.qZA()),2&t){const t=i.oxw();i.Tol(t.options.titleClass),i.uIk("aria-label",t.title),i.xp6(1),i.hij(" ",t.title," "),i.xp6(1),i.Q6J("ngIf",t.duplicatesCount)}}function GM(t,e){if(1&t&&i._UZ(0,"div",7),2&t){const t=i.oxw();i.Tol(t.options.messageClass),i.Q6J("innerHTML",t.message,i.oJD)}}function ZM(t,e){if(1&t&&(i.TgZ(0,"div",8),i._uU(1),i.qZA()),2&t){const t=i.oxw();i.Tol(t.options.messageClass),i.uIk("aria-label",t.message),i.xp6(1),i.hij(" ",t.message," ")}}function WM(t,e){if(1&t&&(i.TgZ(0,"div"),i._UZ(1,"div",9),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.Udp("width",t.width+"%")}}class KM{constructor(t,e,n,i,r,s){this.toastId=t,this.config=e,this.message=n,this.title=i,this.toastType=r,this.toastRef=s,this._onTap=new li.xQ,this._onAction=new li.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const YM={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},QM=new i.OlP("ToastConfig");class JM{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class XM extends class{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let i;return i=n.create(t.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let tA=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(o))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(o))},token:t,providedIn:"root"}),t})();class eA{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let nA=(()=>{class t{constructor(t,e,n,i){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=n,this._document=i,this._paneElements=new Map}create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new XM(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new eA(this._createPortalHost(t))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(tA),i.LFG(i._Vd),i.LFG(i.z2F),i.LFG(o))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(tA),i.LFG(i._Vd),i.LFG(i.z2F),i.LFG(o))},token:t,providedIn:"root"}),t})();class iA{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new li.xQ,this._activate=new li.xQ,this._manualClose=new li.xQ,this._resetTimeout=new li.xQ,this._countDuplicate=new li.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class rA{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,n){return t===KM?this._toastPackage:this._parentInjector.get(t,e,n)}}let sA=(()=>{class t{constructor(t,e,n,i,r){this.overlay=e,this._injector=n,this.sanitizer=i,this.ngZone=r,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,e,n={},i=""){return this._preBuildNotification(i,t,e,this.applyConfig(n))}success(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}error(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}info(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}warning(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}clear(t){for(const e of this.toasts)if(void 0!==t){if(e.toastId===t)return void e.toastRef.manualClose()}else e.toastRef.manualClose()}remove(t){const e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}findDuplicate(t="",e="",n,i){const{includeTitleDuplicates:r}=this.toastrConfig;for(const s of this.toasts){const o=r&&s.title===t;if((!r||o)&&s.message===e)return s.toastRef.onDuplicate(n,i),s}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,i){return i.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,i)):this._buildNotification(t,e,n,i)}_buildNotification(t,e,n,r){if(!r.toastComponent)throw new Error("toastComponent required");const s=this.findDuplicate(n,e,this.toastrConfig.resetTimeoutOnDuplicate&&r.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||e)&&this.toastrConfig.preventDuplicates&&null!==s)return s;this.previousToastMessage=e;let o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const a=this.overlay.create(r.positionClass,this.overlayContainer);this.index=this.index+1;let l=e;e&&r.enableHtml&&(l=this.sanitizer.sanitize(i.q3G.HTML,e));const c=new iA(a),u=new KM(this.index,r,l,n,t,c),h=new rA(u,this._injector),d=new JM(r.toastComponent,h),p=a.attach(d,this.toastrConfig.newestOnTop);c.componentInstance=p.instance;const f={toastId:this.index,title:n||"",message:e||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:u.onTap(),onAction:u.onAction(),portal:p};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{f.toastRef.activate()})),this.toasts.push(f),f}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(QM),i.LFG(nA),i.LFG(i.zs3),i.LFG(dt),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(QM),i.LFG(nA),i.LFG(i.gxx),i.LFG(dt),i.LFG(i.R0b))},token:t,providedIn:"root"}),t})(),oA=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(sA),i.Y36(KM),i.Y36(i.R0b))},t.\u0275cmp=i.Xpm({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,e){1&t&&i.NdJ("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(i.d8E("@flyInOut",e.state),i.Tol(e.toastClasses),i.Udp("display",e.displayStyle))},attrs:LM,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(i.YNc(0,FM,3,0,"button",0),i.YNc(1,qM,3,5,"div",1),i.YNc(2,jM,1,3,"div",2),i.YNc(3,zM,2,4,"div",3),i.YNc(4,VM,2,2,"div",4)),2&t&&(i.Q6J("ngIf",e.options.closeButton),i.xp6(1),i.Q6J("ngIf",e.title),i.xp6(1),i.Q6J("ngIf",e.message&&e.options.enableHtml),i.xp6(1),i.Q6J("ngIf",e.message&&!e.options.enableHtml),i.xp6(1),i.Q6J("ngIf",e.options.progressBar))},directives:[M],encapsulation:2,data:{animation:[bt("flyInOut",[Pt("inactive",xt({opacity:0})),Pt("active",xt({opacity:1})),Pt("removed",xt({opacity:0})),kt("inactive => active",wt("{{ easeTime }}ms {{ easing }}")),kt("active => removed",wt("{{ easeTime }}ms {{ easing }}"))])]}}),t})();const aA=Object.assign(Object.assign({},YM),{toastComponent:oA});let lA=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:QM,useValue:{default:aA,config:e}}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[R]]}),t})(),cA=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.appRef=n,this.width=-1,this.toastClasses="",this.state="inactive",this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state&&(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(sA),i.Y36(KM),i.Y36(i.z2F))},t.\u0275cmp=i.Xpm({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,e){1&t&&i.NdJ("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(i.Tol(e.toastClasses),i.Udp("display",e.displayStyle))},attrs:LM,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(i.YNc(0,BM,3,0,"button",0),i.YNc(1,$M,3,5,"div",1),i.YNc(2,GM,1,3,"div",2),i.YNc(3,ZM,2,4,"div",3),i.YNc(4,WM,2,2,"div",4)),2&t&&(i.Q6J("ngIf",e.options.closeButton),i.xp6(1),i.Q6J("ngIf",e.title),i.xp6(1),i.Q6J("ngIf",e.message&&e.options.enableHtml),i.xp6(1),i.Q6J("ngIf",e.message&&!e.options.enableHtml),i.xp6(1),i.Q6J("ngIf",e.options.progressBar))},directives:[M],encapsulation:2}),t})();Object.assign(Object.assign({},YM),{toastComponent:cA});class uA{constructor(t){this.notifier=t}call(t,e){const n=new hA(t),i=(0,Ei.ft)(this.notifier,new Ei.IY(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class hA extends Ei.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const dA=["overlay"];function pA(t,e){1&t&&i._UZ(0,"div")}function fA(t,e){if(1&t&&(i.TgZ(0,"div"),i.YNc(1,pA,1,0,"div",6),i.qZA()),2&t){const t=i.oxw(2);i.Tol(t.spinner.class),i.Udp("color",t.spinner.color),i.xp6(1),i.Q6J("ngForOf",t.spinner.divArray)}}function gA(t,e){if(1&t&&(i._UZ(0,"div",7),i.ALo(1,"safeHtml")),2&t){const t=i.oxw(2);i.Q6J("innerHTML",i.lcZ(1,1,t.template),i.oJD)}}function mA(t,e){if(1&t&&(i.TgZ(0,"div",1,2),i.YNc(2,fA,2,5,"div",3),i.YNc(3,gA,2,3,"div",4),i.TgZ(4,"div",5),i.Hsn(5),i.qZA(),i.qZA()),2&t){const t=i.oxw();i.Udp("background-color",t.spinner.bdColor)("z-index",t.spinner.zIndex)("position",t.spinner.fullScreen?"fixed":"absolute"),i.Q6J("@.disabled",t.disableAnimation)("@fadeIn","in"),i.xp6(2),i.Q6J("ngIf",!t.template),i.xp6(1),i.Q6J("ngIf",t.template),i.xp6(1),i.Udp("z-index",t.spinner.zIndex)}}const yA=["*"],_A={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1};class vA{constructor(t){Object.assign(this,t)}}let bA=(()=>{class t{constructor(){this.spinnerObservable=new ui(null)}getSpinner(t){return this.spinnerObservable.asObservable().pipe(Vi(e=>e&&e.name===t))}show(t="primary",e){return new Promise((n,i)=>{setTimeout(()=>{e&&Object.keys(e).length?(e.name=t,this.spinnerObservable.next(new vA(Object.assign(Object.assign({},e),{show:!0}))),n(!0)):(this.spinnerObservable.next(new vA({name:t,show:!0})),n(!0))},10)})}hide(t="primary",e=10){return new Promise((n,i)=>{setTimeout(()=>{this.spinnerObservable.next(new vA({name:t,show:!1})),n(!0)},e)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),wA=(()=>{class t{constructor(t){this._sanitizer=t}transform(t){if(t)return this._sanitizer.bypassSecurityTrustHtml(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(dt,16))},t.\u0275pipe=i.Yjl({name:"safeHtml",type:t,pure:!0}),t})(),CA=(()=>{class t{constructor(t,e,n){this.spinnerService=t,this.changeDetector=e,this.elementRef=n,this.disableAnimation=!1,this.spinner=new vA,this.ngUnsubscribe=new li.xQ,this.setDefaultOptions=()=>{this.spinner=new vA({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.type="ball-scale-multiple",this.size="large",this.fullScreen=!0,this.name="primary",this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(t){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(t.target))&&(t.returnValue=!1,t.preventDefault())}ngOnInit(){var t;this.setDefaultOptions(),this.spinnerService.getSpinner(this.name).pipe((t=this.ngUnsubscribe,e=>e.lift(new uA(t)))).subscribe(t=>{this.setDefaultOptions(),Object.assign(this.spinner,t),t.show&&this.onInputChange(),this.changeDetector.detectChanges()})}isSpinnerZone(t){return t===this.elementRef.nativeElement.parentElement||t.parentNode&&this.isSpinnerZone(t.parentNode)}ngOnChanges(t){for(const e in t)if(e){const n=t[e];if(n.isFirstChange())return;void 0!==n.currentValue&&n.currentValue!==n.previousValue&&""!==n.currentValue&&(this.spinner[e]=n.currentValue,"showSpinner"===e&&(n.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)))}}getClass(t,e){this.spinner.divCount=_A[t],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((t,e)=>e);let n="";switch(e.toLowerCase()){case"small":n="la-sm";break;case"medium":n="la-2x";break;case"large":n="la-3x"}return"la-"+t+" "+n}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(bA),i.Y36(i.sBO),i.Y36(i.SBq))},t.\u0275cmp=i.Xpm({type:t,selectors:[["ngx-spinner"]],viewQuery:function(t,e){if(1&t&&i.Gf(dA,5),2&t){let t;i.iGM(t=i.CRH())&&(e.spinnerDOM=t.first)}},hostBindings:function(t,e){1&t&&i.NdJ("keydown",function(t){return e.handleKeyboardEvent(t)},!1,i.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[i.TTD],ngContentSelectors:yA,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(t,e){1&t&&(i.F$t(),i.YNc(0,mA,6,12,"div",0)),2&t&&i.Q6J("ngIf",e.spinner.show)},directives:[M,S],pipes:[wA],styles:['.la-ball-8bits[_ngcontent-%COMP%], .la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-8bits[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-8bits.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-8bits[_ngcontent-%COMP%]{width:12px;height:12px}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:4px;height:4px;border-radius:0;opacity:0;transform:translate(100%,100%);-webkit-animation:ball-8bits 1s ease 0s infinite;animation:ball-8bits 1s ease 0s infinite}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.9375s;animation-delay:-.9375s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.8125s;animation-delay:-.8125s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.6875s;animation-delay:-.6875s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-.5625s;animation-delay:-.5625s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-delay:-.4375s;animation-delay:-.4375s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11){-webkit-animation-delay:-.3125s;animation-delay:-.3125s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12){-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(13){-webkit-animation-delay:-.1875s;animation-delay:-.1875s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(14){-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(15){-webkit-animation-delay:-.0625s;animation-delay:-.0625s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(16){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:-100%;left:0}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:-100%;left:33.3333333333%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:-66.6666666667%;left:66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:-33.3333333333%;left:100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:0;left:100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:33.3333333333%;left:100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:66.6666666667%;left:66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:100%;left:33.3333333333%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){top:100%;left:0}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){top:100%;left:-33.3333333333%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11){top:66.6666666667%;left:-66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12){top:33.3333333333%;left:-100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(13){top:0;left:-100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(14){top:-33.3333333333%;left:-100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(15){top:-66.6666666667%;left:-66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(16){top:-100%;left:-33.3333333333%}.la-ball-8bits.la-sm[_ngcontent-%COMP%]{width:6px;height:6px}.la-ball-8bits.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:2px}.la-ball-8bits.la-2x[_ngcontent-%COMP%]{width:24px;height:24px}.la-ball-8bits.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:8px}.la-ball-8bits.la-3x[_ngcontent-%COMP%]{width:36px;height:36px}.la-ball-8bits.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:12px}@-webkit-keyframes ball-8bits{0%{opacity:1}50%{opacity:1}51%{opacity:0}}@keyframes ball-8bits{0%{opacity:1}50%{opacity:1}51%{opacity:0}}.la-ball-atom[_ngcontent-%COMP%], .la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-atom[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-atom.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-atom[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{position:absolute;top:50%;left:50%;z-index:1;width:60%;height:60%;background:#aaa;border-radius:100%;transform:translate(-50%,-50%);-webkit-animation:ball-atom-shrink 4.5s linear infinite;animation:ball-atom-shrink 4.5s linear infinite}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child){position:absolute;left:0;z-index:0;width:100%;height:100%;background:none;-webkit-animation:ball-atom-zindex 1.5s steps(2) 0s infinite;animation:ball-atom-zindex 1.5s steps(2) 0s infinite}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):before{position:absolute;top:0;left:0;width:10px;height:10px;margin-top:-5px;margin-left:-5px;content:"";background:currentColor;border-radius:50%;opacity:.75;-webkit-animation:ball-atom-position 1.5s ease 0s infinite,ball-atom-size 1.5s ease 0s infinite;animation:ball-atom-position 1.5s ease 0s infinite,ball-atom-size 1.5s ease 0s infinite}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.75s;animation-delay:.75s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2):before{-webkit-animation-delay:0s,-1.125s;animation-delay:0s,-1.125s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(120deg);-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3):before{-webkit-animation-delay:-1s,-.75s;animation-delay:-1s,-.75s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(240deg);-webkit-animation-delay:.25s;animation-delay:.25s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4):before{-webkit-animation-delay:-.5s,-.125s;animation-delay:-.5s,-.125s}.la-ball-atom.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-atom.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):before{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-atom.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-atom.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):before{width:20px;height:20px;margin-top:-10px;margin-left:-10px}.la-ball-atom.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-atom.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):before{width:30px;height:30px;margin-top:-15px;margin-left:-15px}@-webkit-keyframes ball-atom-position{50%{top:100%;left:100%}}@keyframes ball-atom-position{50%{top:100%;left:100%}}@-webkit-keyframes ball-atom-size{50%{transform:scale(.5)}}@keyframes ball-atom-size{50%{transform:scale(.5)}}@-webkit-keyframes ball-atom-zindex{50%{z-index:10}}@keyframes ball-atom-zindex{50%{z-index:10}}@-webkit-keyframes ball-atom-shrink{50%{transform:translate(-50%,-50%) scale(.8)}}@keyframes ball-atom-shrink{50%{transform:translate(-50%,-50%) scale(.8)}}.la-ball-beat[_ngcontent-%COMP%], .la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-beat[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-beat.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-beat[_ngcontent-%COMP%]{width:54px;height:18px}.la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10px;height:10px;margin:4px;border-radius:100%;-webkit-animation:ball-beat .7s linear -.15s infinite;animation:ball-beat .7s linear -.15s infinite}.la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2n-1){-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-beat.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-beat.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-beat.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-beat.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-beat.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-beat.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-beat{50%{opacity:.2;transform:scale(.75)}to{opacity:1;transform:scale(1)}}@keyframes ball-beat{50%{opacity:.2;transform:scale(.75)}to{opacity:1;transform:scale(1)}}.la-ball-circus[_ngcontent-%COMP%], .la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-circus[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-circus.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-circus[_ngcontent-%COMP%], .la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;left:-100%;display:block;width:100%;height:100%;border-radius:100%;opacity:.5;-webkit-animation:ball-circus-position 2.5s cubic-bezier(.25,0,.75,1) infinite,ball-circus-size 2.5s cubic-bezier(.25,0,.75,1) infinite;animation:ball-circus-position 2.5s cubic-bezier(.25,0,.75,1) infinite,ball-circus-size 2.5s cubic-bezier(.25,0,.75,1) infinite}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:0s,-.5s;animation-delay:0s,-.5s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.5s,-1s;animation-delay:-.5s,-1s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1s,-1.5s;animation-delay:-1s,-1.5s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.5s,-2s;animation-delay:-1.5s,-2s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-2s,-2.5s;animation-delay:-2s,-2.5s}.la-ball-circus.la-sm[_ngcontent-%COMP%], .la-ball-circus.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:8px}.la-ball-circus.la-2x[_ngcontent-%COMP%], .la-ball-circus.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-circus.la-3x[_ngcontent-%COMP%], .la-ball-circus.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:48px;height:48px}@-webkit-keyframes ball-circus-position{50%{left:100%}}@keyframes ball-circus-position{50%{left:100%}}@-webkit-keyframes ball-circus-size{50%{transform:scale(.3)}}@keyframes ball-circus-size{50%{transform:scale(.3)}}.la-ball-climbing-dot[_ngcontent-%COMP%], .la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-climbing-dot[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-climbing-dot.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-climbing-dot[_ngcontent-%COMP%]{width:42px;height:32px}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{position:absolute;bottom:32%;left:18%;width:14px;height:14px;border-radius:100%;transform-origin:center bottom;-webkit-animation:ball-climbing-dot-jump .6s ease-in-out infinite;animation:ball-climbing-dot-jump .6s ease-in-out infinite}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child){position:absolute;top:0;right:0;width:14px;height:2px;border-radius:0;transform:translate(60%);-webkit-animation:ball-climbing-dot-steps 1.8s linear infinite;animation:ball-climbing-dot-steps 1.8s linear infinite}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):nth-child(2){-webkit-animation-delay:0ms;animation-delay:0ms}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):nth-child(3){-webkit-animation-delay:-.6s;animation-delay:-.6s}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):nth-child(4){-webkit-animation-delay:-1.2s;animation-delay:-1.2s}.la-ball-climbing-dot.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-ball-climbing-dot.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:6px;height:6px}.la-ball-climbing-dot.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child){width:6px;height:1px}.la-ball-climbing-dot.la-2x[_ngcontent-%COMP%]{width:84px;height:64px}.la-ball-climbing-dot.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:28px;height:28px}.la-ball-climbing-dot.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child){width:28px;height:4px}.la-ball-climbing-dot.la-3x[_ngcontent-%COMP%]{width:126px;height:96px}.la-ball-climbing-dot.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:42px;height:42px}.la-ball-climbing-dot.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child){width:42px;height:6px}@-webkit-keyframes ball-climbing-dot-jump{0%{transform:scaleY(.7)}20%{transform:scale(.7,1.2)}40%{transform:scale(1)}50%{bottom:125%}46%{transform:scale(1)}80%{transform:scale(.7,1.2)}90%{transform:scale(.7,1.2)}to{transform:scaleY(.7)}}@keyframes ball-climbing-dot-jump{0%{transform:scaleY(.7)}20%{transform:scale(.7,1.2)}40%{transform:scale(1)}50%{bottom:125%}46%{transform:scale(1)}80%{transform:scale(.7,1.2)}90%{transform:scale(.7,1.2)}to{transform:scaleY(.7)}}@-webkit-keyframes ball-climbing-dot-steps{0%{top:0;right:0;opacity:0}50%{opacity:1}to{top:100%;right:100%;opacity:0}}@keyframes ball-climbing-dot-steps{0%{top:0;right:0;opacity:0}50%{opacity:1}to{top:100%;right:100%;opacity:0}}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%], .la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-clip-rotate-multiple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;background:transparent;border-style:solid;border-width:2px;border-radius:100%;-webkit-animation:ball-clip-rotate-multiple-rotate 1s ease-in-out infinite;animation:ball-clip-rotate-multiple-rotate 1s ease-in-out infinite}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{position:absolute;width:32px;height:32px;border-right-color:transparent;border-left-color:transparent}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:16px;height:16px;border-top-color:transparent;border-bottom-color:transparent;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-direction:reverse;animation-direction:reverse}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:1px}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:16px;height:16px}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:8px;height:8px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:4px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:64px;height:64px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:32px;height:32px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:6px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:96px;height:96px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:48px;height:48px}@-webkit-keyframes ball-clip-rotate-multiple-rotate{0%{transform:translate(-50%,-50%) rotate(0deg)}50%{transform:translate(-50%,-50%) rotate(180deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}@keyframes ball-clip-rotate-multiple-rotate{0%{transform:translate(-50%,-50%) rotate(0deg)}50%{transform:translate(-50%,-50%) rotate(180deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%], .la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-clip-rotate-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;border-radius:100%}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{position:absolute;width:32px;height:32px;background:transparent;border-bottom-style:solid;border-top-style:solid;border-bottom-width:2px;border-top-width:2px;border-right:2px solid transparent;border-left:2px solid transparent;-webkit-animation:ball-clip-rotate-pulse-rotate 1s cubic-bezier(.09,.57,.49,.9) infinite;animation:ball-clip-rotate-pulse-rotate 1s cubic-bezier(.09,.57,.49,.9) infinite}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:16px;height:16px;-webkit-animation:ball-clip-rotate-pulse-scale 1s cubic-bezier(.09,.57,.49,.9) infinite;animation:ball-clip-rotate-pulse-scale 1s cubic-bezier(.09,.57,.49,.9) infinite}.la-ball-clip-rotate-pulse.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-clip-rotate-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:16px;height:16px;border-width:1px}.la-ball-clip-rotate-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:8px;height:8px}.la-ball-clip-rotate-pulse.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-clip-rotate-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:64px;height:64px;border-width:4px}.la-ball-clip-rotate-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:32px;height:32px}.la-ball-clip-rotate-pulse.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-clip-rotate-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:96px;height:96px;border-width:6px}.la-ball-clip-rotate-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:48px;height:48px}@-webkit-keyframes ball-clip-rotate-pulse-rotate{0%{transform:translate(-50%,-50%) rotate(0deg)}50%{transform:translate(-50%,-50%) rotate(180deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}@keyframes ball-clip-rotate-pulse-rotate{0%{transform:translate(-50%,-50%) rotate(0deg)}50%{transform:translate(-50%,-50%) rotate(180deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}@-webkit-keyframes ball-clip-rotate-pulse-scale{0%,to{opacity:1;transform:translate(-50%,-50%) scale(1)}30%{opacity:.3;transform:translate(-50%,-50%) scale(.15)}}@keyframes ball-clip-rotate-pulse-scale{0%,to{opacity:1;transform:translate(-50%,-50%) scale(1)}30%{opacity:.3;transform:translate(-50%,-50%) scale(.15)}}.la-ball-clip-rotate[_ngcontent-%COMP%], .la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-clip-rotate[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-clip-rotate.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-clip-rotate[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:32px;height:32px;background:transparent;border-width:2px;border-bottom-color:transparent;border-radius:100%;-webkit-animation:ball-clip-rotate .75s linear infinite;animation:ball-clip-rotate .75s linear infinite}.la-ball-clip-rotate.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-clip-rotate.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;border-width:1px}.la-ball-clip-rotate.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-clip-rotate.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;border-width:4px}.la-ball-clip-rotate.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-clip-rotate.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px;border-width:6px}@-webkit-keyframes ball-clip-rotate{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}to{transform:rotate(1turn)}}@keyframes ball-clip-rotate{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}to{transform:rotate(1turn)}}.la-ball-elastic-dots[_ngcontent-%COMP%], .la-ball-elastic-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-elastic-dots[_ngcontent-%COMP%]{display:block;color:#fff}.la-ball-elastic-dots.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-elastic-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{float:none;background-color:currentColor;border:0 solid}.la-ball-elastic-dots[_ngcontent-%COMP%]{width:120px;height:10px;font-size:0;text-align:center}.la-ball-elastic-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;width:10px;height:10px;white-space:nowrap;border-radius:100%;-webkit-animation:ball-elastic-dots-anim 1s infinite;animation:ball-elastic-dots-anim 1s infinite}.la-ball-elastic-dots.la-sm[_ngcontent-%COMP%]{width:60px;height:4px}.la-ball-elastic-dots.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-elastic-dots.la-2x[_ngcontent-%COMP%]{width:240px;height:20px}.la-ball-elastic-dots.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-elastic-dots.la-3x[_ngcontent-%COMP%]{width:360px;height:30px}.la-ball-elastic-dots.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-elastic-dots-anim{0%,to{margin:0;transform:scale(1)}50%{margin:0 5%;transform:scale(.65)}}@keyframes ball-elastic-dots-anim{0%,to{margin:0;transform:scale(1)}50%{margin:0 5%;transform:scale(.65)}}.la-ball-fall[_ngcontent-%COMP%], .la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-fall[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-fall.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-fall[_ngcontent-%COMP%]{width:54px;height:18px}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10px;height:10px;margin:4px;border-radius:100%;opacity:0;-webkit-animation:ball-fall 1s ease-in-out infinite;animation:ball-fall 1s ease-in-out infinite}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.2s;animation-delay:-.2s}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.1s;animation-delay:-.1s}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:0ms;animation-delay:0ms}.la-ball-fall.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-fall.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-fall.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-fall.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-fall.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-fall.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-fall{0%{opacity:0;transform:translateY(-145%)}10%{opacity:.5}20%{opacity:1;transform:translateY(0)}80%{opacity:1;transform:translateY(0)}90%{opacity:.5}to{opacity:0;transform:translateY(145%)}}@keyframes ball-fall{0%{opacity:0;transform:translateY(-145%)}10%{opacity:.5}20%{opacity:1;transform:translateY(0)}80%{opacity:1;transform:translateY(0)}90%{opacity:.5}to{opacity:0;transform:translateY(145%)}}.la-ball-fussion[_ngcontent-%COMP%], .la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-fussion[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-fussion.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-fussion[_ngcontent-%COMP%]{width:8px;height:8px}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;width:12px;height:12px;border-radius:100%;transform:translate(-50%,-50%);-webkit-animation:ball-fussion-ball1 1s ease 0s infinite;animation:ball-fussion-ball1 1s ease 0s infinite}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:0;left:50%;z-index:1}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:50%;left:100%;z-index:2;-webkit-animation-name:ball-fussion-ball2;animation-name:ball-fussion-ball2}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:100%;left:50%;z-index:1;-webkit-animation-name:ball-fussion-ball3;animation-name:ball-fussion-ball3}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:50%;left:0;z-index:2;-webkit-animation-name:ball-fussion-ball4;animation-name:ball-fussion-ball4}.la-ball-fussion.la-sm[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-fussion.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px}.la-ball-fussion.la-2x[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-fussion.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-ball-fussion.la-3x[_ngcontent-%COMP%]{width:24px;height:24px}.la-ball-fussion.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px}@-webkit-keyframes ball-fussion-ball1{0%{opacity:.35}50%{top:-100%;left:200%;opacity:1}to{top:50%;left:100%;z-index:2;opacity:.35}}@keyframes ball-fussion-ball1{0%{opacity:.35}50%{top:-100%;left:200%;opacity:1}to{top:50%;left:100%;z-index:2;opacity:.35}}@-webkit-keyframes ball-fussion-ball2{0%{opacity:.35}50%{top:200%;left:200%;opacity:1}to{top:100%;left:50%;z-index:1;opacity:.35}}@keyframes ball-fussion-ball2{0%{opacity:.35}50%{top:200%;left:200%;opacity:1}to{top:100%;left:50%;z-index:1;opacity:.35}}@-webkit-keyframes ball-fussion-ball3{0%{opacity:.35}50%{top:200%;left:-100%;opacity:1}to{top:50%;left:0;z-index:2;opacity:.35}}@keyframes ball-fussion-ball3{0%{opacity:.35}50%{top:200%;left:-100%;opacity:1}to{top:50%;left:0;z-index:2;opacity:.35}}@-webkit-keyframes ball-fussion-ball4{0%{opacity:.35}50%{top:-100%;left:-100%;opacity:1}to{top:0;left:50%;z-index:1;opacity:.35}}@keyframes ball-fussion-ball4{0%{opacity:.35}50%{top:-100%;left:-100%;opacity:1}to{top:0;left:50%;z-index:1;opacity:.35}}.la-ball-grid-beat[_ngcontent-%COMP%], .la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-grid-beat[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-grid-beat.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-grid-beat[_ngcontent-%COMP%]{width:36px;height:36px}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:8px;margin:2px;border-radius:100%;-webkit-animation-name:ball-grid-beat;animation-name:ball-grid-beat;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-duration:.65s;animation-duration:.65s;-webkit-animation-delay:.03s;animation-delay:.03s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-duration:1.02s;animation-duration:1.02s;-webkit-animation-delay:.09s;animation-delay:.09s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-duration:1.06s;animation-duration:1.06s;-webkit-animation-delay:-.69s;animation-delay:-.69s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-duration:1.5s;animation-duration:1.5s;-webkit-animation-delay:-.41s;animation-delay:-.41s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-duration:1.6s;animation-duration:1.6s;-webkit-animation-delay:.04s;animation-delay:.04s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-duration:.84s;animation-duration:.84s;-webkit-animation-delay:.07s;animation-delay:.07s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-duration:.68s;animation-duration:.68s;-webkit-animation-delay:-.66s;animation-delay:-.66s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-duration:.93s;animation-duration:.93s;-webkit-animation-delay:-.76s;animation-delay:-.76s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-duration:1.24s;animation-duration:1.24s;-webkit-animation-delay:-.76s;animation-delay:-.76s}.la-ball-grid-beat.la-sm[_ngcontent-%COMP%]{width:18px;height:18px}.la-ball-grid-beat.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:1px}.la-ball-grid-beat.la-2x[_ngcontent-%COMP%]{width:72px;height:72px}.la-ball-grid-beat.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin:4px}.la-ball-grid-beat.la-3x[_ngcontent-%COMP%]{width:108px;height:108px}.la-ball-grid-beat.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin:6px}@-webkit-keyframes ball-grid-beat{0%{opacity:1}50%{opacity:.35}to{opacity:1}}@keyframes ball-grid-beat{0%{opacity:1}50%{opacity:.35}to{opacity:1}}.la-ball-grid-pulse[_ngcontent-%COMP%], .la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-grid-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-grid-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-grid-pulse[_ngcontent-%COMP%]{width:36px;height:36px}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:8px;margin:2px;border-radius:100%;-webkit-animation-name:ball-grid-pulse;animation-name:ball-grid-pulse;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-duration:.65s;animation-duration:.65s;-webkit-animation-delay:.03s;animation-delay:.03s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-duration:1.02s;animation-duration:1.02s;-webkit-animation-delay:.09s;animation-delay:.09s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-duration:1.06s;animation-duration:1.06s;-webkit-animation-delay:-.69s;animation-delay:-.69s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-duration:1.5s;animation-duration:1.5s;-webkit-animation-delay:-.41s;animation-delay:-.41s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-duration:1.6s;animation-duration:1.6s;-webkit-animation-delay:.04s;animation-delay:.04s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-duration:.84s;animation-duration:.84s;-webkit-animation-delay:.07s;animation-delay:.07s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-duration:.68s;animation-duration:.68s;-webkit-animation-delay:-.66s;animation-delay:-.66s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-duration:.93s;animation-duration:.93s;-webkit-animation-delay:-.76s;animation-delay:-.76s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-duration:1.24s;animation-duration:1.24s;-webkit-animation-delay:-.76s;animation-delay:-.76s}.la-ball-grid-pulse.la-sm[_ngcontent-%COMP%]{width:18px;height:18px}.la-ball-grid-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:1px}.la-ball-grid-pulse.la-2x[_ngcontent-%COMP%]{width:72px;height:72px}.la-ball-grid-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin:4px}.la-ball-grid-pulse.la-3x[_ngcontent-%COMP%]{width:108px;height:108px}.la-ball-grid-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin:6px}@-webkit-keyframes ball-grid-pulse{0%{opacity:1;transform:scale(1)}50%{opacity:.35;transform:scale(.45)}to{opacity:1;transform:scale(1)}}@keyframes ball-grid-pulse{0%{opacity:1;transform:scale(1)}50%{opacity:.35;transform:scale(.45)}to{opacity:1;transform:scale(1)}}.la-ball-newton-cradle[_ngcontent-%COMP%], .la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-newton-cradle[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-newton-cradle.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-newton-cradle[_ngcontent-%COMP%]{width:40px;height:10px}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:100%}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{transform:translateX(0);-webkit-animation:ball-newton-cradle-left 1s ease-out 0s infinite;animation:ball-newton-cradle-left 1s ease-out 0s infinite}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{transform:translateX(0);-webkit-animation:ball-newton-cradle-right 1s ease-out 0s infinite;animation:ball-newton-cradle-right 1s ease-out 0s infinite}.la-ball-newton-cradle.la-sm[_ngcontent-%COMP%]{width:20px;height:4px}.la-ball-newton-cradle.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-newton-cradle.la-2x[_ngcontent-%COMP%]{width:80px;height:20px}.la-ball-newton-cradle.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-newton-cradle.la-3x[_ngcontent-%COMP%]{width:120px;height:30px}.la-ball-newton-cradle.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-newton-cradle-left{25%{transform:translateX(-100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}50%{transform:translateX(0)}}@keyframes ball-newton-cradle-left{25%{transform:translateX(-100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}50%{transform:translateX(0)}}@-webkit-keyframes ball-newton-cradle-right{50%{transform:translateX(0)}75%{transform:translateX(100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}to{transform:translateX(0)}}@keyframes ball-newton-cradle-right{50%{transform:translateX(0)}75%{transform:translateX(100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}to{transform:translateX(0)}}.la-ball-pulse-rise[_ngcontent-%COMP%], .la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-pulse-rise[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-pulse-rise.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-pulse-rise[_ngcontent-%COMP%]{width:70px;height:14px}.la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10px;height:10px;margin:2px;border-radius:100%;-webkit-animation:ball-pulse-rise-even 1s cubic-bezier(.15,.36,.9,.6) 0s infinite;animation:ball-pulse-rise-even 1s cubic-bezier(.15,.36,.9,.6) 0s infinite}.la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2n-1){-webkit-animation-name:ball-pulse-rise-odd;animation-name:ball-pulse-rise-odd}.la-ball-pulse-rise.la-sm[_ngcontent-%COMP%]{width:34px;height:6px}.la-ball-pulse-rise.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:1px}.la-ball-pulse-rise.la-2x[_ngcontent-%COMP%]{width:140px;height:28px}.la-ball-pulse-rise.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:4px}.la-ball-pulse-rise.la-3x[_ngcontent-%COMP%]{width:210px;height:42px}.la-ball-pulse-rise.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:6px}@-webkit-keyframes ball-pulse-rise-even{0%{opacity:1;transform:scale(1.1)}25%{transform:translateY(-200%)}50%{opacity:.35;transform:scale(.3)}75%{transform:translateY(200%)}to{opacity:1;transform:translateY(0);transform:scale(1)}}@keyframes ball-pulse-rise-even{0%{opacity:1;transform:scale(1.1)}25%{transform:translateY(-200%)}50%{opacity:.35;transform:scale(.3)}75%{transform:translateY(200%)}to{opacity:1;transform:translateY(0);transform:scale(1)}}@-webkit-keyframes ball-pulse-rise-odd{0%{opacity:.35;transform:scale(.4)}25%{transform:translateY(200%)}50%{opacity:1;transform:scale(1.1)}75%{transform:translateY(-200%)}to{opacity:.35;transform:translateY(0);transform:scale(.75)}}@keyframes ball-pulse-rise-odd{0%{opacity:.35;transform:scale(.4)}25%{transform:translateY(200%)}50%{opacity:1;transform:scale(1.1)}75%{transform:translateY(-200%)}to{opacity:.35;transform:translateY(0);transform:scale(.75)}}.la-ball-pulse-sync[_ngcontent-%COMP%], .la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-pulse-sync[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-pulse-sync.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-pulse-sync[_ngcontent-%COMP%]{width:54px;height:18px}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10px;height:10px;margin:4px;border-radius:100%;-webkit-animation:ball-pulse-sync .6s ease-in-out infinite;animation:ball-pulse-sync .6s ease-in-out infinite}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.14s;animation-delay:-.14s}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.07s;animation-delay:-.07s}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-pulse-sync.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-pulse-sync.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-pulse-sync.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-pulse-sync.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-pulse-sync.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-pulse-sync.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-pulse-sync{33%{transform:translateY(100%)}66%{transform:translateY(-100%)}to{transform:translateY(0)}}@keyframes ball-pulse-sync{33%{transform:translateY(100%)}66%{transform:translateY(-100%)}to{transform:translateY(0)}}.la-ball-pulse[_ngcontent-%COMP%], .la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-pulse[_ngcontent-%COMP%]{width:54px;height:18px}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.2s;animation-delay:-.2s}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.1s;animation-delay:-.1s}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:0ms;animation-delay:0ms}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10px;height:10px;margin:4px;border-radius:100%;-webkit-animation:ball-pulse 1s ease infinite;animation:ball-pulse 1s ease infinite}.la-ball-pulse.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-pulse.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-pulse.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-pulse{0%,60%,to{opacity:1;transform:scale(1)}30%{opacity:.1;transform:scale(.01)}}@keyframes ball-pulse{0%,60%,to{opacity:1;transform:scale(1)}30%{opacity:.1;transform:scale(.01)}}.la-ball-rotate[_ngcontent-%COMP%], .la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-rotate[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-rotate.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-rotate[_ngcontent-%COMP%], .la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10px;height:10px}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-radius:100%;-webkit-animation:ball-rotate-animation 1s cubic-bezier(.7,-.13,.22,.86) infinite;animation:ball-rotate-animation 1s cubic-bezier(.7,-.13,.22,.86) infinite}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{position:absolute;width:inherit;height:inherit;margin:inherit;content:"";background:currentColor;border-radius:inherit;opacity:.8}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:0;left:-150%}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{top:0;left:150%}.la-ball-rotate.la-sm[_ngcontent-%COMP%], .la-ball-rotate.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-rotate.la-2x[_ngcontent-%COMP%], .la-ball-rotate.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-rotate.la-3x[_ngcontent-%COMP%], .la-ball-rotate.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-rotate-animation{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}to{transform:rotate(1turn)}}@keyframes ball-rotate-animation{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}to{transform:rotate(1turn)}}.la-ball-running-dots[_ngcontent-%COMP%], .la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-running-dots[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-running-dots.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-running-dots[_ngcontent-%COMP%]{width:10px;height:10px}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;margin-left:-25px;border-radius:100%;-webkit-animation:ball-running-dots-animate 2s linear infinite;animation:ball-running-dots-animate 2s linear infinite}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:0s;animation-delay:0s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.4s;animation-delay:-.4s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.8s;animation-delay:-.8s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.2s;animation-delay:-1.2s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-1.6s;animation-delay:-1.6s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-2.4s;animation-delay:-2.4s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-2.8s;animation-delay:-2.8s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-delay:-3.2s;animation-delay:-3.2s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){-webkit-animation-delay:-3.6s;animation-delay:-3.6s}.la-ball-running-dots.la-sm[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-running-dots.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-left:-12px}.la-ball-running-dots.la-2x[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-running-dots.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:-50px}.la-ball-running-dots.la-3x[_ngcontent-%COMP%]{width:30px;height:30px}.la-ball-running-dots.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin-left:-75px}@-webkit-keyframes ball-running-dots-animate{0%,to{width:100%;height:100%;transform:translateY(0) translateX(500%)}80%{transform:translateY(0) translateX(0)}85%{width:100%;height:100%;transform:translateY(-125%) translateX(0)}90%{width:200%;height:75%}95%{width:100%;height:100%;transform:translateY(-100%) translateX(500%)}}@keyframes ball-running-dots-animate{0%,to{width:100%;height:100%;transform:translateY(0) translateX(500%)}80%{transform:translateY(0) translateX(0)}85%{width:100%;height:100%;transform:translateY(-125%) translateX(0)}90%{width:200%;height:75%}95%{width:100%;height:100%;transform:translateY(-100%) translateX(500%)}}.la-ball-scale-multiple[_ngcontent-%COMP%], .la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-multiple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-scale-multiple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-scale-multiple[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:32px;height:32px;border-radius:100%;opacity:0;-webkit-animation:ball-scale-multiple 1s linear 0s infinite;animation:ball-scale-multiple 1s linear 0s infinite}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.2s;animation-delay:.2s}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.4s;animation-delay:.4s}.la-ball-scale-multiple.la-sm[_ngcontent-%COMP%], .la-ball-scale-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-multiple.la-2x[_ngcontent-%COMP%], .la-ball-scale-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-multiple.la-3x[_ngcontent-%COMP%], .la-ball-scale-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-scale-multiple{0%{opacity:0;transform:scale(0)}5%{opacity:.75}to{opacity:0;transform:scale(1)}}@keyframes ball-scale-multiple{0%{opacity:0;transform:scale(0)}5%{opacity:.75}to{opacity:0;transform:scale(1)}}.la-ball-scale-pulse[_ngcontent-%COMP%], .la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-scale-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-scale-pulse[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:32px;height:32px;border-radius:100%;opacity:.5;-webkit-animation:ball-scale-pulse 2s ease-in-out infinite;animation:ball-scale-pulse 2s ease-in-out infinite}.la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation-delay:-1s;animation-delay:-1s}.la-ball-scale-pulse.la-sm[_ngcontent-%COMP%], .la-ball-scale-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-pulse.la-2x[_ngcontent-%COMP%], .la-ball-scale-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-pulse.la-3x[_ngcontent-%COMP%], .la-ball-scale-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-scale-pulse{0%,to{transform:scale(0)}50%{transform:scale(1)}}@keyframes ball-scale-pulse{0%,to{transform:scale(0)}50%{transform:scale(1)}}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%], .la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-scale-ripple-multiple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:32px;height:32px;background:transparent;border-width:2px;border-radius:100%;opacity:0;-webkit-animation:ball-scale-ripple-multiple 1.25s cubic-bezier(.21,.53,.56,.8) 0s infinite;animation:ball-scale-ripple-multiple 1.25s cubic-bezier(.21,.53,.56,.8) 0s infinite}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:0s;animation-delay:0s}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.25s;animation-delay:.25s}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.5s;animation-delay:.5s}.la-ball-scale-ripple-multiple.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-ripple-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;border-width:1px}.la-ball-scale-ripple-multiple.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-ripple-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;border-width:4px}.la-ball-scale-ripple-multiple.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-scale-ripple-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px;border-width:6px}@-webkit-keyframes ball-scale-ripple-multiple{0%{opacity:1;transform:scale(.1)}70%{opacity:.5;transform:scale(1)}95%{opacity:0}}@keyframes ball-scale-ripple-multiple{0%{opacity:1;transform:scale(.1)}70%{opacity:.5;transform:scale(1)}95%{opacity:0}}.la-ball-scale-ripple[_ngcontent-%COMP%], .la-ball-scale-ripple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-ripple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-scale-ripple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-ripple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-scale-ripple[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-scale-ripple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:32px;height:32px;background:transparent;border-width:2px;border-radius:100%;opacity:0;-webkit-animation:ball-scale-ripple 1s cubic-bezier(.21,.53,.56,.8) 0s infinite;animation:ball-scale-ripple 1s cubic-bezier(.21,.53,.56,.8) 0s infinite}.la-ball-scale-ripple.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-ripple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;border-width:1px}.la-ball-scale-ripple.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-ripple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;border-width:4px}.la-ball-scale-ripple.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-scale-ripple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px;border-width:6px}@-webkit-keyframes ball-scale-ripple{0%{opacity:1;transform:scale(.1)}70%{opacity:.65;transform:scale(1)}to{opacity:0}}@keyframes ball-scale-ripple{0%{opacity:1;transform:scale(.1)}70%{opacity:.65;transform:scale(1)}to{opacity:0}}.la-ball-scale[_ngcontent-%COMP%], .la-ball-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-scale.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-scale[_ngcontent-%COMP%], .la-ball-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-radius:100%;opacity:0;-webkit-animation:ball-scale 1s ease-in-out 0s infinite;animation:ball-scale 1s ease-in-out 0s infinite}.la-ball-scale.la-sm[_ngcontent-%COMP%], .la-ball-scale.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale.la-2x[_ngcontent-%COMP%], .la-ball-scale.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale.la-3x[_ngcontent-%COMP%], .la-ball-scale.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-scale{0%{opacity:1;transform:scale(0)}to{opacity:0;transform:scale(1)}}@keyframes ball-scale{0%{opacity:1;transform:scale(0)}to{opacity:0;transform:scale(1)}}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%], .la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-spin-clockwise-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{width:32px;height:32px;-webkit-animation:ball-spin-clockwise-fade-rotating-rotate 6s linear infinite;animation:ball-spin-clockwise-fade-rotating-rotate 6s linear infinite}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:ball-spin-clockwise-fade-rotating 1s linear infinite;animation:ball-spin-clockwise-fade-rotating 1s linear infinite}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:5%;left:50%;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-clockwise-fade-rotating-rotate{to{transform:rotate(-1turn)}}@keyframes ball-spin-clockwise-fade-rotating-rotate{to{transform:rotate(-1turn)}}@-webkit-keyframes ball-spin-clockwise-fade-rotating{50%{opacity:.25;transform:scale(.5)}to{opacity:1;transform:scale(1)}}@keyframes ball-spin-clockwise-fade-rotating{50%{opacity:.25;transform:scale(.5)}to{opacity:1;transform:scale(1)}}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%], .la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-spin-clockwise-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:ball-spin-clockwise-fade 1s linear infinite;animation:ball-spin-clockwise-fade 1s linear infinite}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:5%;left:50%;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-spin-clockwise-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-clockwise-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-clockwise-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-clockwise-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-clockwise-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-clockwise-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-clockwise-fade{50%{opacity:.25;transform:scale(.5)}to{opacity:1;transform:scale(1)}}@keyframes ball-spin-clockwise-fade{50%{opacity:.25;transform:scale(.5)}to{opacity:1;transform:scale(1)}}.la-ball-spin-clockwise[_ngcontent-%COMP%], .la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-clockwise[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-spin-clockwise.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-spin-clockwise[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:ball-spin-clockwise 1s ease-in-out infinite;animation:ball-spin-clockwise 1s ease-in-out infinite}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:5%;left:50%;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-spin-clockwise.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-clockwise.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-clockwise.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-clockwise.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-clockwise.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-clockwise.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-clockwise{0%,to{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}@keyframes ball-spin-clockwise{0%,to{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}.la-ball-spin-fade-rotating[_ngcontent-%COMP%], .la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-spin-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-spin-fade-rotating[_ngcontent-%COMP%]{width:32px;height:32px;-webkit-animation:ball-spin-fade-rotate 6s linear infinite;animation:ball-spin-fade-rotate 6s linear infinite}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:ball-spin-fade 1s linear infinite;animation:ball-spin-fade 1s linear infinite}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:5%;left:50%;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-spin-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-fade-rotate{to{transform:rotate(1turn)}}@keyframes ball-spin-fade-rotate{to{transform:rotate(1turn)}}.la-ball-spin-fade[_ngcontent-%COMP%], .la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-spin-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-spin-fade[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:ball-spin-fade 1s linear infinite;animation:ball-spin-fade 1s linear infinite}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:5%;left:50%;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-spin-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-fade{0%,to{opacity:1;transform:scale(1)}50%{opacity:.25;transform:scale(.5)}}@keyframes ball-spin-fade{0%,to{opacity:1;transform:scale(1)}50%{opacity:.25;transform:scale(.5)}}.la-ball-spin-rotate[_ngcontent-%COMP%], .la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-rotate[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-spin-rotate.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-spin-rotate[_ngcontent-%COMP%]{width:32px;height:32px;-webkit-animation:ball-spin-rotate 2s linear infinite;animation:ball-spin-rotate 2s linear infinite}.la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;width:60%;height:60%;border-radius:100%;-webkit-animation:ball-spin-bounce 2s ease-in-out infinite;animation:ball-spin-bounce 2s ease-in-out infinite}.la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{top:auto;bottom:0;-webkit-animation-delay:-1s;animation-delay:-1s}.la-ball-spin-rotate.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-rotate.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-rotate.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-spin-rotate{to{transform:rotate(1turn)}}@keyframes ball-spin-rotate{to{transform:rotate(1turn)}}@-webkit-keyframes ball-spin-bounce{0%,to{transform:scale(0)}50%{transform:scale(1)}}@keyframes ball-spin-bounce{0%,to{transform:scale(0)}50%{transform:scale(1)}}.la-ball-spin[_ngcontent-%COMP%], .la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-spin[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:ball-spin 1s ease-in-out infinite;animation:ball-spin 1s ease-in-out infinite}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:5%;left:50%;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-spin.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin{0%,to{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}@keyframes ball-spin{0%,to{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}.la-ball-square-clockwise-spin[_ngcontent-%COMP%], .la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-square-clockwise-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-square-clockwise-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-square-clockwise-spin[_ngcontent-%COMP%]{width:26px;height:26px}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:12px;height:12px;margin-top:-6px;margin-left:-6px;border-radius:100%;-webkit-animation:ball-square-clockwise-spin 1s ease-in-out infinite;animation:ball-square-clockwise-spin 1s ease-in-out infinite}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:0;left:0;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0;left:50%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:0;left:100%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:50%;left:100%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:100%;left:100%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:100%;left:50%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:100%;left:0;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:50%;left:0;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-square-clockwise-spin.la-sm[_ngcontent-%COMP%]{width:12px;height:12px}.la-ball-square-clockwise-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px;margin-top:-3px;margin-left:-3px}.la-ball-square-clockwise-spin.la-2x[_ngcontent-%COMP%]{width:52px;height:52px}.la-ball-square-clockwise-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}.la-ball-square-clockwise-spin.la-3x[_ngcontent-%COMP%]{width:78px;height:78px}.la-ball-square-clockwise-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px;margin-top:-18px;margin-left:-18px}@-webkit-keyframes ball-square-clockwise-spin{0%,40%,to{transform:scale(.4)}70%{transform:scale(1)}}@keyframes ball-square-clockwise-spin{0%,40%,to{transform:scale(.4)}70%{transform:scale(1)}}.la-ball-square-spin[_ngcontent-%COMP%], .la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-square-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-square-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-square-spin[_ngcontent-%COMP%]{width:26px;height:26px}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:12px;height:12px;margin-top:-6px;margin-left:-6px;border-radius:100%;-webkit-animation:ball-square-spin 1s ease-in-out infinite;animation:ball-square-spin 1s ease-in-out infinite}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:0;left:0;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0;left:50%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:0;left:100%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:50%;left:100%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:100%;left:100%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:100%;left:50%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:100%;left:0;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:50%;left:0;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-square-spin.la-sm[_ngcontent-%COMP%]{width:12px;height:12px}.la-ball-square-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px;margin-top:-3px;margin-left:-3px}.la-ball-square-spin.la-2x[_ngcontent-%COMP%]{width:52px;height:52px}.la-ball-square-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}.la-ball-square-spin.la-3x[_ngcontent-%COMP%]{width:78px;height:78px}.la-ball-square-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px;margin-top:-18px;margin-left:-18px}@-webkit-keyframes ball-square-spin{0%,40%,to{transform:scale(.4)}70%{transform:scale(1)}}@keyframes ball-square-spin{0%,40%,to{transform:scale(.4)}70%{transform:scale(1)}}.la-ball-triangle-path[_ngcontent-%COMP%], .la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-triangle-path[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-triangle-path.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-triangle-path[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:10px;height:10px;border-radius:100%}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:ball-triangle-path-ball-one 2s ease-in-out 0s infinite;animation:ball-triangle-path-ball-one 2s ease-in-out 0s infinite}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation:ball-triangle-path-ball-two 2s ease-in-out 0s infinite;animation:ball-triangle-path-ball-two 2s ease-in-out 0s infinite}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation:ball-triangle-path-ball-tree 2s ease-in-out 0s infinite;animation:ball-triangle-path-ball-tree 2s ease-in-out 0s infinite}.la-ball-triangle-path.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-triangle-path.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-triangle-path.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-triangle-path.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-triangle-path.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-triangle-path.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-triangle-path-ball-one{0%{transform:translateY(220%)}17%{opacity:.25}33%{opacity:1;transform:translate(110%)}50%{opacity:.25}66%{opacity:1;transform:translate(220%,220%)}83%{opacity:.25}to{opacity:1;transform:translateY(220%)}}@keyframes ball-triangle-path-ball-one{0%{transform:translateY(220%)}17%{opacity:.25}33%{opacity:1;transform:translate(110%)}50%{opacity:.25}66%{opacity:1;transform:translate(220%,220%)}83%{opacity:.25}to{opacity:1;transform:translateY(220%)}}@-webkit-keyframes ball-triangle-path-ball-two{0%{transform:translate(110%)}17%{opacity:.25}33%{opacity:1;transform:translate(220%,220%)}50%{opacity:.25}66%{opacity:1;transform:translateY(220%)}83%{opacity:.25}to{opacity:1;transform:translate(110%)}}@keyframes ball-triangle-path-ball-two{0%{transform:translate(110%)}17%{opacity:.25}33%{opacity:1;transform:translate(220%,220%)}50%{opacity:.25}66%{opacity:1;transform:translateY(220%)}83%{opacity:.25}to{opacity:1;transform:translate(110%)}}@-webkit-keyframes ball-triangle-path-ball-tree{0%{transform:translate(220%,220%)}17%{opacity:.25}33%{opacity:1;transform:translateY(220%)}50%{opacity:.25}66%{opacity:1;transform:translate(110%)}83%{opacity:.25}to{opacity:1;transform:translate(220%,220%)}}@keyframes ball-triangle-path-ball-tree{0%{transform:translate(220%,220%)}17%{opacity:.25}33%{opacity:1;transform:translateY(220%)}50%{opacity:.25}66%{opacity:1;transform:translate(110%)}83%{opacity:.25}to{opacity:1;transform:translate(220%,220%)}}.la-ball-zig-zag-deflect[_ngcontent-%COMP%], .la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-zig-zag-deflect[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-zig-zag-deflect.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-zig-zag-deflect[_ngcontent-%COMP%]{position:relative;width:32px;height:32px}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:10px;height:10px;margin-top:-5px;margin-left:-5px;border-radius:100%}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:ball-zig-deflect 1.5s linear 0s infinite;animation:ball-zig-deflect 1.5s linear 0s infinite}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation:ball-zag-deflect 1.5s linear 0s infinite;animation:ball-zag-deflect 1.5s linear 0s infinite}.la-ball-zig-zag-deflect.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-zig-zag-deflect.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-zig-zag-deflect.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-zig-zag-deflect.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin-top:-10px;margin-left:-10px}.la-ball-zig-zag-deflect.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-zig-zag-deflect.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin-top:-15px;margin-left:-15px}@-webkit-keyframes ball-zig-deflect{17%{transform:translate(-80%,-160%)}34%{transform:translate(80%,-160%)}50%{transform:translate(0)}67%{transform:translate(80%,-160%)}84%{transform:translate(-80%,-160%)}to{transform:translate(0)}}@keyframes ball-zig-deflect{17%{transform:translate(-80%,-160%)}34%{transform:translate(80%,-160%)}50%{transform:translate(0)}67%{transform:translate(80%,-160%)}84%{transform:translate(-80%,-160%)}to{transform:translate(0)}}@-webkit-keyframes ball-zag-deflect{17%{transform:translate(80%,160%)}34%{transform:translate(-80%,160%)}50%{transform:translate(0)}67%{transform:translate(-80%,160%)}84%{transform:translate(80%,160%)}to{transform:translate(0)}}@keyframes ball-zag-deflect{17%{transform:translate(80%,160%)}34%{transform:translate(-80%,160%)}50%{transform:translate(0)}67%{transform:translate(-80%,160%)}84%{transform:translate(80%,160%)}to{transform:translate(0)}}.la-ball-zig-zag[_ngcontent-%COMP%], .la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-zig-zag[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-zig-zag.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-zig-zag[_ngcontent-%COMP%]{position:relative;width:32px;height:32px}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:10px;height:10px;margin-top:-5px;margin-left:-5px;border-radius:100%}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:ball-zig-effect .7s linear 0s infinite;animation:ball-zig-effect .7s linear 0s infinite}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation:ball-zag-effect .7s linear 0s infinite;animation:ball-zag-effect .7s linear 0s infinite}.la-ball-zig-zag.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-zig-zag.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-zig-zag.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-zig-zag.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin-top:-10px;margin-left:-10px}.la-ball-zig-zag.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-zig-zag.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin-top:-15px;margin-left:-15px}@-webkit-keyframes ball-zig-effect{0%{transform:translate(0)}33%{transform:translate(-75%,-150%)}66%{transform:translate(75%,-150%)}to{transform:translate(0)}}@keyframes ball-zig-effect{0%{transform:translate(0)}33%{transform:translate(-75%,-150%)}66%{transform:translate(75%,-150%)}to{transform:translate(0)}}@-webkit-keyframes ball-zag-effect{0%{transform:translate(0)}33%{transform:translate(75%,150%)}66%{transform:translate(-75%,150%)}to{transform:translate(0)}}@keyframes ball-zag-effect{0%{transform:translate(0)}33%{transform:translate(75%,150%)}66%{transform:translate(-75%,150%)}to{transform:translate(0)}}.la-cog[_ngcontent-%COMP%], .la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-cog[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-cog.la-dark[_ngcontent-%COMP%]{color:#333}.la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-cog[_ngcontent-%COMP%]{width:31px;height:31px}.la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;background-color:transparent;border-style:dashed;border-width:2px;border-radius:100%;-webkit-animation:cog-rotate 4s linear infinite;animation:cog-rotate 4s linear infinite}.la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;width:100%;height:100%;content:"";border:2px solid;border-radius:100%}.la-cog.la-sm[_ngcontent-%COMP%]{width:15px;height:15px}.la-cog.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-cog.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{border-width:1px}.la-cog.la-2x[_ngcontent-%COMP%]{width:61px;height:61px}.la-cog.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-cog.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{border-width:4px}.la-cog.la-3x[_ngcontent-%COMP%]{width:91px;height:91px}.la-cog.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-cog.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{border-width:6px}@-webkit-keyframes cog-rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes cog-rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.la-cube-transition[_ngcontent-%COMP%], .la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-cube-transition[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-cube-transition.la-dark[_ngcontent-%COMP%]{color:#333}.la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-cube-transition[_ngcontent-%COMP%]{width:32px;height:32px}.la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:14px;height:14px;margin-top:-7px;margin-left:-7px;border-radius:0;-webkit-animation:cube-transition 1.6s ease-in-out 0s infinite;animation:cube-transition 1.6s ease-in-out 0s infinite}.la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation-delay:-.8s;animation-delay:-.8s}.la-cube-transition.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-cube-transition.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px;margin-top:-3px;margin-left:-3px}.la-cube-transition.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-cube-transition.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:28px;height:28px;margin-top:-14px;margin-left:-14px}.la-cube-transition.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-cube-transition.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:42px;height:42px;margin-top:-21px;margin-left:-21px}@-webkit-keyframes cube-transition{25%{top:0;left:100%;transform:scale(.5) rotate(-90deg)}50%{top:100%;left:100%;transform:scale(1) rotate(-180deg)}75%{top:100%;left:0;transform:scale(.5) rotate(-270deg)}to{top:0;left:0;transform:scale(1) rotate(-1turn)}}@keyframes cube-transition{25%{top:0;left:100%;transform:scale(.5) rotate(-90deg)}50%{top:100%;left:100%;transform:scale(1) rotate(-180deg)}75%{top:100%;left:0;transform:scale(.5) rotate(-270deg)}to{top:0;left:0;transform:scale(1) rotate(-1turn)}}.la-fire[_ngcontent-%COMP%], .la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-fire[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-fire.la-dark[_ngcontent-%COMP%]{color:#333}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-fire[_ngcontent-%COMP%]{width:32px;height:32px}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;bottom:0;left:50%;width:12px;height:12px;border-radius:0;border-radius:2px;transform:translateY(0) translateX(-50%) rotate(45deg) scale(0);-webkit-animation:fire-diamonds 1.5s linear infinite;animation:fire-diamonds 1.5s linear infinite}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.85s;animation-delay:-.85s}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1.85s;animation-delay:-1.85s}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-2.85s;animation-delay:-2.85s}.la-fire.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-fire.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px}.la-fire.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-fire.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px}.la-fire.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-fire.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px}@-webkit-keyframes fire-diamonds{0%{transform:translateY(75%) translateX(-50%) rotate(45deg) scale(0)}50%{transform:translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1)}to{transform:translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0)}}@keyframes fire-diamonds{0%{transform:translateY(75%) translateX(-50%) rotate(45deg) scale(0)}50%{transform:translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1)}to{transform:translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0)}}.la-line-scale-party[_ngcontent-%COMP%], .la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale-party[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-line-scale-party.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-line-scale-party[_ngcontent-%COMP%]{width:40px;height:32px}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation-name:line-scale-party;animation-name:line-scale-party;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-duration:.43s;animation-duration:.43s;-webkit-animation-delay:-.23s;animation-delay:-.23s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-duration:.62s;animation-duration:.62s;-webkit-animation-delay:-.32s;animation-delay:-.32s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-duration:.43s;animation-duration:.43s;-webkit-animation-delay:-.44s;animation-delay:-.44s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-duration:.8s;animation-duration:.8s;-webkit-animation-delay:-.31s;animation-delay:-.31s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-duration:.74s;animation-duration:.74s;-webkit-animation-delay:-.24s;animation-delay:-.24s}.la-line-scale-party.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale-party.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale-party.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale-party.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale-party.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale-party.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale-party{0%{transform:scaleY(1)}50%{transform:scaleY(.3)}to{transform:scaleY(1)}}@keyframes line-scale-party{0%{transform:scaleY(1)}50%{transform:scaleY(.3)}to{transform:scaleY(1)}}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%], .la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-line-scale-pulse-out-rapid.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%]{width:40px;height:32px}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation:line-scale-pulse-out-rapid .9s cubic-bezier(.11,.49,.38,.78) infinite;animation:line-scale-pulse-out-rapid .9s cubic-bezier(.11,.49,.38,.78) infinite}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.9s;animation-delay:-.9s}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.65s;animation-delay:-.65s}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.4s;animation-delay:-.4s}.la-line-scale-pulse-out-rapid.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale-pulse-out-rapid.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale-pulse-out-rapid.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale-pulse-out-rapid.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale-pulse-out-rapid.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale-pulse-out-rapid.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale-pulse-out-rapid{0%{transform:scaley(1)}80%{transform:scaley(.3)}90%{transform:scaley(1)}}@keyframes line-scale-pulse-out-rapid{0%{transform:scaley(1)}80%{transform:scaley(.3)}90%{transform:scaley(1)}}.la-line-scale-pulse-out[_ngcontent-%COMP%], .la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale-pulse-out[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-line-scale-pulse-out.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-line-scale-pulse-out[_ngcontent-%COMP%]{width:40px;height:32px}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation:line-scale-pulse-out .9s cubic-bezier(.85,.25,.37,.85) infinite;animation:line-scale-pulse-out .9s cubic-bezier(.85,.25,.37,.85) infinite}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.9s;animation-delay:-.9s}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.7s;animation-delay:-.7s}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-line-scale-pulse-out.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale-pulse-out.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale-pulse-out.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale-pulse-out.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale-pulse-out.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale-pulse-out.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale-pulse-out{0%{transform:scaley(1)}50%{transform:scaley(.3)}to{transform:scaley(1)}}@keyframes line-scale-pulse-out{0%{transform:scaley(1)}50%{transform:scaley(.3)}to{transform:scaley(1)}}.la-line-scale[_ngcontent-%COMP%], .la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-line-scale.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-line-scale[_ngcontent-%COMP%]{width:40px;height:32px}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation:line-scale 1.2s ease infinite;animation:line-scale 1.2s ease infinite}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-1.2s;animation-delay:-1.2s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1s;animation-delay:-1s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.9s;animation-delay:-.9s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.8s;animation-delay:-.8s}.la-line-scale.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale{0%,40%,to{transform:scaleY(.4)}20%{transform:scaleY(1)}}@keyframes line-scale{0%,40%,to{transform:scaleY(.4)}20%{transform:scaleY(1)}}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%], .la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-line-spin-clockwise-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{width:32px;height:32px;-webkit-animation:line-spin-clockwise-fade-rotating-rotate 6s linear infinite;animation:line-spin-clockwise-fade-rotating-rotate 6s linear infinite}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:line-spin-clockwise-fade-rotating 1s ease-in-out infinite;animation:line-spin-clockwise-fade-rotating 1s ease-in-out infinite}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:15%;left:50%;transform:rotate(0deg);-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;transform:rotate(45deg);-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;transform:rotate(90deg);-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;transform:rotate(135deg);-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;transform:rotate(180deg);-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;transform:rotate(225deg);-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;transform:rotate(270deg);-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;transform:rotate(315deg);-webkit-animation-delay:0s;animation-delay:0s}.la-line-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes line-spin-clockwise-fade-rotating-rotate{to{transform:rotate(-1turn)}}@keyframes line-spin-clockwise-fade-rotating-rotate{to{transform:rotate(-1turn)}}@-webkit-keyframes line-spin-clockwise-fade-rotating{50%{opacity:.2}to{opacity:1}}@keyframes line-spin-clockwise-fade-rotating{50%{opacity:.2}to{opacity:1}}.la-line-spin-clockwise-fade[_ngcontent-%COMP%], .la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-clockwise-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-line-spin-clockwise-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-line-spin-clockwise-fade[_ngcontent-%COMP%]{width:32px;height:32px}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:line-spin-clockwise-fade 1s ease-in-out infinite;animation:line-spin-clockwise-fade 1s ease-in-out infinite}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:15%;left:50%;transform:rotate(0deg);-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;transform:rotate(45deg);-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;transform:rotate(90deg);-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;transform:rotate(135deg);-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;transform:rotate(180deg);-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;transform:rotate(225deg);-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;transform:rotate(270deg);-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;transform:rotate(315deg);-webkit-animation-delay:0s;animation-delay:0s}.la-line-spin-clockwise-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-clockwise-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-clockwise-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-clockwise-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-clockwise-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-clockwise-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes line-spin-clockwise-fade{50%{opacity:.2}to{opacity:1}}@keyframes line-spin-clockwise-fade{50%{opacity:.2}to{opacity:1}}.la-line-spin-fade-rotating[_ngcontent-%COMP%], .la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-line-spin-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-line-spin-fade-rotating[_ngcontent-%COMP%]{width:32px;height:32px;-webkit-animation:ball-spin-fade-rotating-rotate 6s linear infinite;animation:ball-spin-fade-rotating-rotate 6s linear infinite}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:line-spin-fade-rotating 1s ease-in-out infinite;animation:line-spin-fade-rotating 1s ease-in-out infinite}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:15%;left:50%;transform:rotate(0deg);-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;transform:rotate(45deg);-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;transform:rotate(90deg);-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;transform:rotate(135deg);-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;transform:rotate(180deg);-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;transform:rotate(225deg);-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;transform:rotate(270deg);-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;transform:rotate(315deg);-webkit-animation-delay:-2s;animation-delay:-2s}.la-line-spin-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes ball-spin-fade-rotating-rotate{to{transform:rotate(1turn)}}@keyframes ball-spin-fade-rotating-rotate{to{transform:rotate(1turn)}}@-webkit-keyframes line-spin-fade-rotating{50%{opacity:.2}to{opacity:1}}@keyframes line-spin-fade-rotating{50%{opacity:.2}to{opacity:1}}.la-line-spin-fade[_ngcontent-%COMP%], .la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-line-spin-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-line-spin-fade[_ngcontent-%COMP%]{width:32px;height:32px}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:line-spin-fade 1s ease-in-out infinite;animation:line-spin-fade 1s ease-in-out infinite}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:15%;left:50%;transform:rotate(0deg);-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;transform:rotate(45deg);-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;transform:rotate(90deg);-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;transform:rotate(135deg);-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;transform:rotate(180deg);-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;transform:rotate(225deg);-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;transform:rotate(270deg);-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;transform:rotate(315deg);-webkit-animation-delay:-2s;animation-delay:-2s}.la-line-spin-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes line-spin-fade{50%{opacity:.2}to{opacity:1}}@keyframes line-spin-fade{50%{opacity:.2}to{opacity:1}}.la-pacman[_ngcontent-%COMP%], .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-pacman[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-pacman.la-dark[_ngcontent-%COMP%]{color:#333}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-pacman[_ngcontent-%COMP%]{width:32px;height:32px}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){width:0;height:0;background:transparent;border-style:solid;border-right:solid transparent;border-width:16px;border-radius:100%;-webkit-animation:pacman-rotate-half-up .5s 0s infinite;animation:pacman-rotate-half-up .5s 0s infinite;position:absolute}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-name:pacman-rotate-half-down;animation-name:pacman-rotate-half-down;top:0}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){position:absolute;top:50%;left:200%;width:8px;height:8px;border-radius:100%;opacity:0;-webkit-animation:pacman-balls 2s linear 0s infinite;animation:pacman-balls 2s linear 0s infinite}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1.44s;animation-delay:-1.44s}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.94s;animation-delay:-1.94s}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-2.44s;animation-delay:-2.44s}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-2.94s;animation-delay:-2.94s}.la-pacman.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border-width:8px;position:absolute}.la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0}.la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){width:4px;height:4px}.la-pacman.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border-width:32px;position:absolute}.la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0}.la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){width:16px;height:16px}.la-pacman.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border-width:48px;position:absolute}.la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0}.la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){width:24px;height:24px}@-webkit-keyframes pacman-rotate-half-up{0%,to{transform:rotate(270deg)}50%{transform:rotate(1turn)}}@keyframes pacman-rotate-half-up{0%,to{transform:rotate(270deg)}50%{transform:rotate(1turn)}}@-webkit-keyframes pacman-rotate-half-down{0%,to{transform:rotate(90deg)}50%{transform:rotate(0deg)}}@keyframes pacman-rotate-half-down{0%,to{transform:rotate(90deg)}50%{transform:rotate(0deg)}}@-webkit-keyframes pacman-balls{0%{left:200%;opacity:0;transform:translateY(-50%)}5%{opacity:.5}66%{opacity:1}67%{opacity:0}to{left:0;transform:translateY(-50%)}}@keyframes pacman-balls{0%{left:200%;opacity:0;transform:translateY(-50%)}5%{opacity:.5}66%{opacity:1}67%{opacity:0}to{left:0;transform:translateY(-50%)}}.la-square-jelly-box[_ngcontent-%COMP%], .la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-square-jelly-box[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-square-jelly-box.la-dark[_ngcontent-%COMP%]{color:#333}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-square-jelly-box[_ngcontent-%COMP%]{width:32px;height:32px}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){position:absolute;left:0;width:100%}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:-25%;z-index:1;height:100%;border-radius:10%;-webkit-animation:square-jelly-box-animate .6s linear -.1s infinite;animation:square-jelly-box-animate .6s linear -.1s infinite}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){bottom:-9%;height:10%;background:#000;border-radius:50%;opacity:.2;-webkit-animation:square-jelly-box-shadow .6s linear -.1s infinite;animation:square-jelly-box-shadow .6s linear -.1s infinite}.la-square-jelly-box.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-square-jelly-box.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-square-jelly-box.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes square-jelly-box-animate{17%{border-bottom-right-radius:10%}25%{transform:translateY(25%) rotate(22.5deg)}50%{border-bottom-right-radius:100%;transform:translateY(50%) scaleY(.9) rotate(45deg)}75%{transform:translateY(25%) rotate(67.5deg)}to{transform:translateY(0) rotate(90deg)}}@keyframes square-jelly-box-animate{17%{border-bottom-right-radius:10%}25%{transform:translateY(25%) rotate(22.5deg)}50%{border-bottom-right-radius:100%;transform:translateY(50%) scaleY(.9) rotate(45deg)}75%{transform:translateY(25%) rotate(67.5deg)}to{transform:translateY(0) rotate(90deg)}}@-webkit-keyframes square-jelly-box-shadow{50%{transform:scaleX(1.25)}}@keyframes square-jelly-box-shadow{50%{transform:scaleX(1.25)}}.la-square-loader[_ngcontent-%COMP%], .la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-square-loader[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-square-loader.la-dark[_ngcontent-%COMP%]{color:#333}.la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-square-loader[_ngcontent-%COMP%]{width:32px;height:32px}.la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;background:transparent;border-width:2px;border-radius:0;-webkit-animation:square-loader 2s ease infinite;animation:square-loader 2s ease infinite}.la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{display:inline-block;width:100%;vertical-align:top;content:"";background-color:currentColor;-webkit-animation:square-loader-inner 2s ease-in infinite;animation:square-loader-inner 2s ease-in infinite}.la-square-loader.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-square-loader.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:1px}.la-square-loader.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-square-loader.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:4px}.la-square-loader.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-square-loader.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:6px}@-webkit-keyframes square-loader{0%{transform:rotate(0deg)}25%{transform:rotate(180deg)}50%{transform:rotate(180deg)}75%{transform:rotate(1turn)}to{transform:rotate(1turn)}}@keyframes square-loader{0%{transform:rotate(0deg)}25%{transform:rotate(180deg)}50%{transform:rotate(180deg)}75%{transform:rotate(1turn)}to{transform:rotate(1turn)}}@-webkit-keyframes square-loader-inner{0%{height:0}25%{height:0}50%{height:100%}75%{height:100%}to{height:0}}@keyframes square-loader-inner{0%{height:0}25%{height:0}50%{height:100%}75%{height:100%}to{height:0}}.la-square-spin[_ngcontent-%COMP%], .la-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-square-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-square-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-square-spin[_ngcontent-%COMP%]{width:32px;height:32px}.la-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:0;-webkit-animation:square-spin 3s cubic-bezier(.09,.57,.49,.9) 0s infinite;animation:square-spin 3s cubic-bezier(.09,.57,.49,.9) 0s infinite}.la-square-spin.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-square-spin.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-square-spin.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes square-spin{0%{transform:perspective(100px) rotateX(0) rotateY(0)}25%{transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{transform:perspective(100px) rotateX(0) rotateY(180deg)}to{transform:perspective(100px) rotateX(0) rotateY(1turn)}}@keyframes square-spin{0%{transform:perspective(100px) rotateX(0) rotateY(0)}25%{transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{transform:perspective(100px) rotateX(0) rotateY(180deg)}to{transform:perspective(100px) rotateX(0) rotateY(1turn)}}.la-timer[_ngcontent-%COMP%], .la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-timer[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-timer.la-dark[_ngcontent-%COMP%]{color:#333}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-timer[_ngcontent-%COMP%], .la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:32px;height:32px}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:transparent;border-width:2px;border-radius:100%}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{position:absolute;top:14px;left:14px;display:block;width:2px;margin-top:-1px;margin-left:-1px;content:"";background:currentColor;border-radius:2px;transform-origin:1px 1px 0;-webkit-animation:timer-loader 1.25s linear infinite;animation:timer-loader 1.25s linear infinite;-webkit-animation-delay:-625ms;animation-delay:-625ms}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:12px}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:8px;-webkit-animation-duration:15s;animation-duration:15s;-webkit-animation-delay:-7.5s;animation-delay:-7.5s}.la-timer.la-sm[_ngcontent-%COMP%], .la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:1px}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:7px;left:7px;width:1px;margin-top:-.5px;margin-left:-.5px;border-radius:1px;transform-origin:.5px .5px 0}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:6px}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:4px}.la-timer.la-2x[_ngcontent-%COMP%], .la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:4px}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:28px;left:28px;width:4px;margin-top:-2px;margin-left:-2px;border-radius:4px;transform-origin:2px 2px 0}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:24px}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:16px}.la-timer.la-3x[_ngcontent-%COMP%], .la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:6px}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:42px;left:42px;width:6px;margin-top:-3px;margin-left:-3px;border-radius:6px;transform-origin:3px 3px 0}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:36px}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:24px}@-webkit-keyframes timer-loader{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes timer-loader{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.la-triangle-skew-spin[_ngcontent-%COMP%], .la-triangle-skew-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-triangle-skew-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-triangle-skew-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-triangle-skew-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-triangle-skew-spin[_ngcontent-%COMP%]{width:32px;height:16px}.la-triangle-skew-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:0;height:0;background:transparent;border-left:none;border-right:none;border-color:currentcolor transparent;border-style:solid;border-width:0 16px 16px;-webkit-animation:triangle-skew-spin 3s cubic-bezier(.09,.57,.49,.9) 0s infinite;animation:triangle-skew-spin 3s cubic-bezier(.09,.57,.49,.9) 0s infinite}.la-triangle-skew-spin.la-sm[_ngcontent-%COMP%]{width:16px;height:8px}.la-triangle-skew-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:0 8px 8px}.la-triangle-skew-spin.la-2x[_ngcontent-%COMP%]{width:64px;height:32px}.la-triangle-skew-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:0 32px 32px}.la-triangle-skew-spin.la-3x[_ngcontent-%COMP%]{width:96px;height:48px}.la-triangle-skew-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:0 48px 48px}@-webkit-keyframes triangle-skew-spin{0%{transform:perspective(100px) rotateX(0) rotateY(0)}25%{transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{transform:perspective(100px) rotateX(0) rotateY(180deg)}to{transform:perspective(100px) rotateX(0) rotateY(1turn)}}@keyframes triangle-skew-spin{0%{transform:perspective(100px) rotateX(0) rotateY(0)}25%{transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{transform:perspective(100px) rotateX(0) rotateY(180deg)}to{transform:perspective(100px) rotateX(0) rotateY(1turn)}}.ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}'],data:{animation:[bt("fadeIn",[Pt("in",xt({opacity:1})),kt(":enter",[xt({opacity:0}),wt(300)]),kt(":leave",wt(200,xt({opacity:0})))])]},changeDetection:0}),t})(),xA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[R]]}),t})(),PA=(()=>{class t{constructor(t,e){this.store=t,this.storage=e}getFiles(){return this.store.collection("files").snapshotChanges()}deleteFileFromStore(t){return this.store.collection("files").doc(t).delete()}deleteFileFromStorage(t){return this.storage.ref(t).delete()}startUpload(t){var e=this;let n=t.name.replace(/([^a-z0-9.]+)/gi,""),i=Date.now();const r=i+"_"+n,s="uploads/"+r,o=this.storage.ref(s);return this.task=this.storage.upload(s,t),this.snapshot=this.task.snapshotChanges().pipe(hr((0,Pa.Z)(function*(){e.downloadURL=yield o.getDownloadURL().toPromise(),e.store.collection("files").doc(r).set({storagePath:s,downloadURL:e.downloadURL,originalName:t.name,timestamp:i})}))),this.snapshot}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(vx),i.LFG(NM))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),kA=(()=>{class t{constructor(t){this.spinner=t,this.busyRequestCount=0}play(){this.busyRequestCount++,this.spinner.show(void 0,{bdColor:"rgba(0,0,0,.4)",color:"#000000"})}idle(){setTimeout(()=>{--this.busyRequestCount<=0&&(this.busyRequestCount=0,this.spinner.hide())},1e3)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(bA))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function OA(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"label",12),i.NdJ("click",function(){i.CHM(t);const e=i.oxw(),n=i.MAs(9);return e.uploadFile(n.files)}),i._uU(1,"Upload image"),i.qZA()}}function TA(t,e){1&t&&(i.TgZ(0,"p",13),i._uU(1,"No images"),i.qZA())}function IA(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",16),i._UZ(1,"img",17),i.TgZ(2,"button",18),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw(2).deleteFile(e.id)}),i._uU(3,"delete"),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit;i.xp6(1),i.Q6J("src",null==t?null:t.downloadURL,i.LSH)}}function SA(t,e){if(1&t&&(i.TgZ(0,"div",14),i.TgZ(1,"div"),i.YNc(2,IA,4,1,"div",15),i.qZA(),i.qZA()),2&t){const t=i.oxw();i.xp6(2),i.Q6J("ngForOf",t.filesRecoed)}}let EA=(()=>{class t{constructor(t,e,n){this.crudService=t,this.toast=e,this.busyService=n,this.filesRecoed=[],this.imageUploadFlag=!1}ngOnInit(){this.getFiles()}uploadFile(t){let e=t[0];this.busyService.play(),this.crudService.startUpload(e).subscribe(t=>{this.getFiles(),this.imgURL=void 0,this.busyService.idle(),this.toast.success("Uploaded successfully")})}getFiles(){this.filesRecoed=[],this.crudService.getFiles().subscribe(t=>{this.filesRecoed=t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data()))})}deleteFile(t){this.crudService.deleteFileFromStore(t).then(t=>{},t=>{console.log(t)}),this.crudService.deleteFileFromStorage(`uploads/${t}`).subscribe(t=>{},t=>{console.log(t)})}preview(t){if(0===t.length)return;if(null==t[0].type.match(/image\/*/))return void(this.message="Only images are supported.");let e=new FileReader;this.imagePath=t,e.readAsDataURL(t[0]),e.onload=t=>{this.imgURL=e.result},this.imageUploadFlag=!0}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(PA),i.Y36(sA),i.Y36(kA))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-home"]],decls:13,vars:6,consts:[[1,"container"],[1,"row","justify-content-center","align-items-center"],[1,"row","ui-holder"],[1,"col-md-8","col-6","p-2",2,"border-right","1px solid #0000002e"],["for","photoUpload",1,"image-holder","text-center","d-flex","flex-column","justify-content-center","align-items-center",2,"margin-top","80px"],["alt","photo",1,"img-fluid",3,"src"],["class","btn btn-primary fw-light fs-5 mt-2",3,"click",4,"ngIf"],["type","file","name","photoUpload","accept","image/*","id","photoUpload",1,"d-none",3,"change"],["file",""],[1,"col-md-4","col-6","row",2,"overflow","auto","height","100%"],["class","fw-light fs-2 text-center",4,"ngIf"],["class","files",4,"ngIf"],[1,"btn","btn-primary","fw-light","fs-5","mt-2",3,"click"],[1,"fw-light","fs-2","text-center"],[1,"files"],["class","fileData mt-2",4,"ngFor","ngForOf"],[1,"fileData","mt-2"],["alt","photo",1,"img-fluid","h-100",3,"src"],[1,"btn","btn-danger","btn-sm","mt-2",3,"click"]],template:function(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i.TgZ(4,"label",4),i.TgZ(5,"div"),i._UZ(6,"img",5),i.qZA(),i.YNc(7,OA,2,0,"label",6),i.TgZ(8,"input",7,8),i.NdJ("change",function(){i.CHM(t);const n=i.MAs(9);return e.preview(n.files)}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(10,"div",9),i.YNc(11,TA,2,0,"p",10),i.YNc(12,SA,3,1,"div",11),i.qZA(),i.qZA(),i.qZA(),i.qZA()}2&t&&(i.xp6(5),i.ekj("imgBx",e.imgURL),i.xp6(1),i.Q6J("src",e.imgURL?e.imgURL:"../../../assets/add-image.png",i.LSH),i.xp6(1),i.Q6J("ngIf",e.imgURL),i.xp6(4),i.Q6J("ngIf",e.filesRecoed.length<=0),i.xp6(1),i.Q6J("ngIf",e.filesRecoed.length>0))},directives:[M,S],styles:[".image-holder[_ngcontent-%COMP%]{cursor:pointer}.add-icon[_ngcontent-%COMP%]{font-size:4rem}.ui-holder[_ngcontent-%COMP%]{margin-top:6rem;background-color:#fff;width:40rem;height:29rem;border-radius:15px;box-shadow:4px 9px 27px 5px #00000061}.imgBx[_ngcontent-%COMP%]{max-width:300px;width:100%;height:300px;box-shadow:1px 1px 5px 0;border-radius:5px}.imgBx[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%!important}.fileData[_ngcontent-%COMP%]{margin:5px;box-shadow:1px 1px 10px 1px #00000054;border-radius:5px;overflow:hidden}"]}),t})(),MA=(()=>{class t{constructor(){this.title="client"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-root"]],decls:4,vars:1,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"]],template:function(t,e){1&t&&(i.TgZ(0,"ngx-spinner",0),i.TgZ(1,"p",1),i._uU(2," Loading... "),i.qZA(),i.qZA(),i._UZ(3,"app-home")),2&t&&i.Q6J("fullScreen",!0)},directives:[CA,EA],styles:[""]}),t})(),AA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t,bootstrap:[MA]}),t.\u0275inj=i.cJS({providers:[],imports:[[yt,ha,si,Ca.hO.initializeApp(da),bx,DM,ZS,xA,lA.forRoot({timeOut:3e3,positionClass:"toast-bottom-right",preventDuplicates:!0})]]}),t})();(0,i.G48)(),gt().bootstrapModule(AA).catch(t=>console.error(t))},6304:(t,e,n)=>{"use strict";function i(t,e,n,i,r,s,o){try{var a=t[s](o),l=a.value}catch(c){return void n(c)}a.done?e(l):Promise.resolve(l).then(i,r)}function r(t){return function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function a(t){i(o,r,s,a,l,"next",t)}function l(t){i(o,r,s,a,l,"throw",t)}a(void 0)})}}n.d(e,{Z:()=>r})},4762:(t,e,n)=>{"use strict";function i(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function r(t,e,n,i){return new(n||(n=Promise))(function(r,s){function o(t){try{l(i.next(t))}catch(e){s(e)}}function a(t){try{l(i.throw(t))}catch(e){s(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}l((i=i.apply(t,e||[])).next())})}function s(t,e){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function o(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}function l(t,e,n){if(n||2===arguments.length)for(var i,r=0,s=e.length;r<s;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}n.d(e,{_T:()=>i,mG:()=>r,Jh:()=>s,XA:()=>o,CR:()=>a,ev:()=>l})}},t=>{"use strict";t(t.s=6363)}]);